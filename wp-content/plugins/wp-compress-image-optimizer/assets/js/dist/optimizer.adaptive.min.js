var mobileWidth;var isMobile=false;var jsDebug=false;var isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(ngf298gh738qwbdh0s87v_vars.js_debug=="true"){jsDebug=true}function checkMobile(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=680){isMobile=true;mobileWidth=window.innerWidth}}checkMobile();var preloadRunned=false;var windowWidth=window.innerWidth;window.addEventListener("DOMContentLoaded",function(){registerEvents()});var wpcEvents=["keydown","mousemove","touchmove","touchstart","touchend","wheel","visibilitychange","resize"];function registerEvents(){wpcEvents.forEach(function(eventName){if(jsDebug){console.log("Event registered: "+eventName)}window.addEventListener(eventName,function(){preloadTimeout(eventName)})})}function preloadTimeout(event){if(jsDebug){console.log("Running Preload Timeout")}if(!preloadRunned){if(jsDebug){console.log("Event name in preload is ");console.log(event);console.log("Before width: "+windowWidth);console.log("After width: "+window.innerWidth)}if(event=="resize"){if(windowWidth===window.innerWidth){return false}}preloadRunned=true;setTimeout(function(){if(jsDebug){console.log("Inside Preload Timeout")}preload();removeEventListeners()},50)}}function removeEventListeners(){wpcEvents.forEach(function(eventName){window.removeEventListener(eventName,preloadTimeout)})}window.addEventListener("load",function(){var scrollTop=window.scrollY;if(scrollTop>60){preload()}});function preload(){var iframes=[].slice.call(document.querySelectorAll("iframe.wpc-iframe-delay"));var allScripts=[].slice.call(document.querySelectorAll('script[type="wpc-delay-script"]'));var styles=[].slice.call(document.querySelectorAll('[rel="wpc-stylesheet"]'));var mobileStyles=[].slice.call(document.querySelectorAll('[rel="wpc-mobile-stylesheet"]'));var wpScripts=[];var customPromiseFlag=[];if(jsDebug){console.log("Found scripts");console.log(allScripts)}for(var i=0;i<allScripts.length;i++){var script=allScripts[i];if(script.src&&script.src.includes("wp-includes")){wpScripts.push(script);allScripts.splice(i,1);i--}}if(jsDebug){console.log("Found WP scripts");console.log(wpScripts)}wpScripts.forEach(function(element,index){var newScript=document.createElement("script");newScript.setAttribute("src",element.getAttribute("src"));newScript.setAttribute("type","text/javascript");document.body.appendChild(newScript)});wpScripts=[];allScripts.forEach(function(element,index){var elementID=element.id;if(jsDebug){console.log(element)}if(!element.hasAttribute("src")&&!element.id.includes("-before")&&!element.id.includes("-after")&&!element.id.includes("-extra")){var newElement=document.createElement("script");newElement.textContent=element.textContent;newElement.setAttribute("type","text/javascript");newElement.async=false;document.body.appendChild(newElement)}else{var jsBefore=document.getElementById(elementID+"-before");var jsAfter=document.getElementById(elementID+"-after");var jsExtra=document.getElementById(elementID+"-extra");if(jsBefore!==null){var newElementBefore=document.createElement("script");newElementBefore.textContent=jsBefore.textContent;newElementBefore.setAttribute("type","text/javascript");newElementBefore.async=false;document.body.appendChild(newElementBefore)}if(jsAfter!==null){}if(jsExtra!==null){var newElementExtra=document.createElement("script");newElementExtra.textContent=jsExtra.textContent;newElementExtra.setAttribute("type","text/javascript");newElementExtra.async=false;document.body.appendChild(newElementExtra)}if(element!==null){var new_element=document.createElement("script");if(element.getAttribute("src")!==null){new_element.setAttribute("src",element.getAttribute("src"));new_element.setAttribute("type","text/javascript");new_element.async=false;document.body.appendChild(new_element)}else{new_element.textContent=element.textContent;new_element.setAttribute("type","text/javascript");new_element.async=false;document.body.appendChild(new_element)}new_element.onload=function(){if(jsAfter!==null){var new_elementAfter=document.createElement("script");new_elementAfter.textContent=jsAfter.textContent;new_elementAfter.setAttribute("type","text/javascript");document.body.appendChild(new_elementAfter);jsAfter.remove()}}}if(element!==null){element.remove()}if(jsBefore!==null){jsBefore.remove()}if(jsExtra!==null){jsExtra.remove()}}});allScripts=[];styles.forEach(function(element,index){var promise=new Promise(function(resolve,reject){element.setAttribute("rel","stylesheet");element.setAttribute("type","text/css");element.addEventListener("load",function(){resolve()});element.addEventListener("error",function(){reject()})});customPromiseFlag.push(promise)});styles=[];iframes.forEach(function(element,index){var promise=new Promise(function(resolve,reject){var iframeUrl=element.getAttribute("data-src");element.setAttribute("src",iframeUrl);element.addEventListener("load",function(){resolve()});element.addEventListener("error",function(){reject()})});customPromiseFlag.push(promise)});iframes=[];mobileStyles.forEach(function(element,index){var promise=new Promise(function(resolve,reject){element.setAttribute("rel","stylesheet");element.setAttribute("type","text/css");element.addEventListener("load",function(){resolve()});element.addEventListener("error",function(){reject()})});customPromiseFlag.push(promise)});mobileStyles=[];Promise.all(customPromiseFlag).then(function(){var criticalCss=document.querySelector("#wpc-critical-css");if(criticalCss){criticalCss.remove()}}).catch(function(){styles.forEach(function(element,index){element.setAttribute("rel","stylesheet");element.setAttribute("type","text/css")})});wpcEvents.forEach(function(eventName){window.removeEventListener(eventName,preload)})}function SetupNewApiURL(newApiURL,imgWidth,imageElement){if(imgWidth>0&&!imageElement.classList.contains("wpc-excluded-adaptive")){if(imgWidth>1100){imgWidth=1100}newApiURL=newApiURL.replace(/w:(\d{1,5})/g,"w:"+imgWidth)}if(jsDebug){console.log("Set new Width");console.log(imageElement);console.log(imageElement.width);console.log(imageElement.parentElement);console.log(imageElement.parentElement.offsetWidth);console.log(imgWidth)}if(window.devicePixelRatio>=2&&ngf298gh738qwbdh0s87v_vars.retina_enabled=="true"||ngf298gh738qwbdh0s87v_vars.force_retina=="true"){newApiURL=newApiURL.replace(/r:0/g,"r:1");if(jsDebug){console.log("Retina set to True");console.log("DevicePixelRation "+window.devicePixelRatio)}}else{newApiURL=newApiURL.replace(/r:1/g,"r:0");if(jsDebug){console.log("Retina set to False");console.log("DevicePixelRation "+window.devicePixelRatio)}}if(ngf298gh738qwbdh0s87v_vars.webp_enabled=="true"&&isSafari==false){if(!imageElement.classList.contains("wpc-excluded-webp")){newApiURL=newApiURL.replace(/wp:0/g,"wp:1")}if(jsDebug){console.log("WebP set to True")}}else{newApiURL=newApiURL.replace(/wp:1/g,"wp:0");if(jsDebug){console.log("WebP set to False")}}if(ngf298gh738qwbdh0s87v_vars.exif_enabled=="true"){newApiURL=newApiURL.replace(/e:0/g,"e:1")}else{newApiURL=newApiURL.replace(/\/e:1/g,"");newApiURL=newApiURL.replace(/\/e:0/g,"")}if(isMobile){newApiURL=getSrcset(newApiURL.split(","),mobileWidth,imageElement)}return newApiURL}function srcSetUpdateWidth(srcSetUrl,imageWidth,imageElement){if(imageElement.classList.contains("wpc-excluded-adaptive")){imageWidth=1}var srcSetWidth=srcSetUrl.split(" ").pop();if(srcSetWidth.endsWith("w")){var Width=srcSetWidth.slice(0,-1);if(parseInt(Width)<=5){Width=1}srcSetUrl=srcSetUrl.replace(/w:(\d{1,5})/g,"w:"+Width)}else if(srcSetWidth.endsWith("x")){var Width=srcSetWidth.slice(0,-1);if(parseInt(Width)<=3){Width=1}srcSetUrl=srcSetUrl.replace(/w:(\d{1,5})/g,"w:"+Width)}return srcSetUrl}function getSrcset(sourceArray,imageWidth,imageElement){var changedSrcset="";sourceArray.forEach(function(imageSource){if(jsDebug){console.log("Image src part from array");console.log(imageSource)}newApiURL=srcSetUpdateWidth(imageSource.trimStart(),imageWidth,imageElement);changedSrcset+=newApiURL+","});return changedSrcset.slice(0,-1)}function listHas(list,keyword){var found=false;list.forEach(function(className){if(className.includes(keyword)){found=true}});if(found){return true}else{return false}}function removeElementorInvisible(){var elementorInvisible=document.querySelectorAll(".elementor-invisible");for(i=0;i<elementorInvisible.length;++i){elementorSection=elementorInvisible[i];if(elementorSection.getBoundingClientRect().top<=window.innerHeight&&elementorSection.getBoundingClientRect().bottom>=0&&getComputedStyle(elementorSection).display!=="none"){elementorSection.classList.remove("elementor-invisible")}}}function runAdaptive(){var adaptiveImages=[].slice.call(document.querySelectorAll("img[data-wpc-loaded='true']"));adaptiveImages.forEach(function(entry){var adaptiveImage=entry;masonry=adaptiveImage.closest(".masonry");owlSlider=adaptiveImage.closest(".owl-carousel");SlickSlider=adaptiveImage.closest(".slick-slider");SlickList=adaptiveImage.closest(".slick-list");slides=adaptiveImage.closest(".slides");if(jsDebug){console.log(masonry);console.log(owlSlider);console.log(SlickSlider);console.log(SlickList);console.log(slides)}if(SlickSlider||SlickList||slides||owlSlider||masonry){if(typeof adaptiveImage.dataset.src!=="undefined"&&adaptiveImage.dataset.src!=""){newApiURL=adaptiveImage.dataset.src}else{newApiURL=adaptiveImage.src}newApiURL=newApiURL.replace(/w:(\d{1,5})/g,"w:1");adaptiveImage.src=newApiURL;adaptiveImage.classList.add("ic-fade-in");adaptiveImage.classList.add("wpc-remove-lazy");adaptiveImage.classList.remove("wps-ic-lazy-image");return}if(ngf298gh738qwbdh0s87v_vars.adaptive_enabled=="false"||adaptiveImage.classList.toString().includes("logo")){imgWidth=1}else{imageStyle=window.getComputedStyle(adaptiveImage);imgWidth=Math.round(parseInt(imageStyle.width));if(typeof imgWidth=="undefined"||!imgWidth||imgWidth==0||isNaN(imgWidth)){imgWidth=1}if(listHas(adaptiveImage.classList,"slide")){imgWidth=1}}if(jsDebug){console.log("Image Stuff 2");console.log(adaptiveImage.parentElement.offsetWidth);console.log(adaptiveImage.offsetWidth);console.log(imgWidth);console.log("Image Stuff END")}if(typeof adaptiveImage.dataset.src!=="undefined"&&adaptiveImage.dataset.src!=""){newApiURL=adaptiveImage.dataset.src;newApiURL=SetupNewApiURL(newApiURL,imgWidth,adaptiveImage);adaptiveImage.src=newApiURL;if(typeof adaptiveImage.dataset.srcset!=="undefined"&&adaptiveImage.dataset.src!=""){adaptiveImage.srcset=adaptiveImage.dataset.srcset}}else if(typeof adaptiveImage.src!=="undefined"&&adaptiveImage.src!=""){newApiURL=adaptiveImage.src;newApiURL=SetupNewApiURL(newApiURL,imgWidth,adaptiveImage);adaptiveImage.src=newApiURL;if(typeof adaptiveImage.dataset.srcset!=="undefined"&&adaptiveImage.dataset.src!=""){adaptiveImage.srcset=adaptiveImage.dataset.srcset}}adaptiveImage.classList.add("ic-fade-in");adaptiveImage.classList.remove("wps-ic-lazy-image");adaptiveImage.removeAttribute("data-srcset");srcSetAPI="";if(typeof adaptiveImage.srcset!=="undefined"&&adaptiveImage.srcset!=""){srcSetAPI=newApiURL=adaptiveImage.srcset;if(jsDebug){console.log("Image has srcset");console.log(adaptiveImage.srcset);console.log(newApiURL)}newApiURL=SetupNewApiURL(newApiURL,0,adaptiveImage);adaptiveImage.srcset=newApiURL}else if(typeof adaptiveImage.dataset.srcset!=="undefined"&&adaptiveImage.dataset.srcset!=""){srcSetAPI=newApiURL=adaptiveImage.dataset.srcset;if(jsDebug){console.log("Image does not have srcset");console.log(newApiURL)}newApiURL=SetupNewApiURL(newApiURL,0,adaptiveImage);adaptiveImage.srcset=newApiURL}})}document.addEventListener("DOMContentLoaded",function(){removeElementorInvisible();runAdaptive()});const wpcObserver=new MutationObserver(function(mutationsList){for(var i=0;i<mutationsList.length;i++){console.log("running observer");var mutation=mutationsList[i];if(mutation.type==="childList"&&mutation.addedNodes.length>0&&mutation.addedNodes[0].tagName&&mutation.addedNodes[0].tagName.toLowerCase()==="img"){for(var j=0;j<mutation.addedNodes.length;j++){var node=mutation.addedNodes[j];if(node.tagName&&node.tagName.toLowerCase()==="img"){adaptiveImage=node;if(typeof adaptiveImage.dataset.src!=="undefined"&&adaptiveImage.dataset.src!=""){newApiURL=adaptiveImage.dataset.src;newApiURL=SetupNewApiURL(newApiURL,imgWidth,adaptiveImage);adaptiveImage.src=newApiURL;if(typeof adaptiveImage.dataset.srcset!=="undefined"&&adaptiveImage.dataset.src!=""){adaptiveImage.srcset=adaptiveImage.dataset.srcset}}else if(typeof adaptiveImage.src!=="undefined"&&adaptiveImage.src!=""){newApiURL=adaptiveImage.src;newApiURL=SetupNewApiURL(newApiURL,imgWidth,adaptiveImage);adaptiveImage.src=newApiURL;if(typeof adaptiveImage.dataset.srcset!=="undefined"&&adaptiveImage.dataset.src!=""){adaptiveImage.srcset=adaptiveImage.dataset.srcset}}adaptiveImage.classList.add("ic-fade-in");adaptiveImage.classList.remove("wps-ic-lazy-image");adaptiveImage.removeAttribute("data-srcset");srcSetAPI="";if(typeof adaptiveImage.srcset!=="undefined"&&adaptiveImage.srcset!=""){srcSetAPI=newApiURL=adaptiveImage.srcset;if(jsDebug){console.log("Image has srcset");console.log(adaptiveImage.srcset);console.log(newApiURL)}newApiURL=SetupNewApiURL(newApiURL,0,adaptiveImage);adaptiveImage.srcset=newApiURL}else if(typeof adaptiveImage.dataset.srcset!=="undefined"&&adaptiveImage.dataset.srcset!=""){srcSetAPI=newApiURL=adaptiveImage.dataset.srcset;if(jsDebug){console.log("Image does not have srcset");console.log(newApiURL)}newApiURL=SetupNewApiURL(newApiURL,0,adaptiveImage);adaptiveImage.srcset=newApiURL}}}}}});