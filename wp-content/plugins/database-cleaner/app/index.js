(()=>{"use strict";var e,t={2047:(e,t,n)=>{var r=n(8100),a=n(8690),o=n(7098),i=n(6160),c=n(2110),s=n(1630),u=n(4694),l=n(1497),f=n(7917),p=n(9317),m=n(1488),h=n(7818),d=n(146),y=dbclnr.prefix,v=dbclnr.db_prefix,b=dbclnr.domain,g=dbclnr.rest_url.replace(/\/+$/,""),E=dbclnr.api_url.replace(/\/+$/,""),w=dbclnr.plugin_url.replace(/\/+$/,""),_="1"===dbclnr.is_pro,T=_&&"1"===dbclnr.is_registered,S=dbclnr.rest_nonce,O=dbclnr.core,L=dbclnr.core_count,x=dbclnr.options,R=dbclnr.metadata_tables,A=x.db_historical_sizes,P=A?A[A.length-1]:null,C=null;(null==A?void 0:A.length)>1?C=A[A.length-2]:(null==A?void 0:A.length)>0&&(C=A[A.length-1]),x.totalSize=P,x.previousTotalSize=C;var k,N,I,B,U,j=n(8406),D=n(2788);function M(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var F=D.ZP.div(k||(k=M(["\n  color: white;\n  padding: 15px;\n  margin-bottom: -15px;\n\n  a {\n    color: #7dedff;\n    text-decoration: none;\n  }\n\n  p {\n    font-size: 15px;\n  }\n"]))),G=(0,D.ZP)(d.v)(N||(N=M(["\n\n  .neko-block-title {\n    display: none;\n  }\n\n  .plugin-desc {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    margin-left: 20px;\n  }\n\n  .neko-block-content {\n    display: flex;\n    padding: 10px;\n    item-align: center;\n\n    h2 {\n      color: #055082;\n      font-size: 18px;\n      margin: 0;\n\n      a {\n        text-decoration: none;\n      }\n    }\n\n    p {\n      margin: 0px;\n      margin-top: 5px;\n      font-size: 13px;\n      line-height: 1.2;\n    }\n  }\n"]))),z=D.ZP.img(I||(I=M(["\n  width: 85px;\n  height: 85px;\n  padding-right: 10px;\n"]))),Y=D.ZP.div(B||(B=M(["\n\n  margin: 15px;\n\n  .center {\n    background: white;\n    color: black;\n    border-radius: 10px;\n    padding: 10px;\n    max-width: 100%\n    overflow: none;\n\n    h2 {\n      font-size: 26px;\n    }\n\n    table {\n      width: 100%;\n\n      tr td:first-child {\n        width: 220px;\n        font-weight: bold;\n        color: #1e7cba;\n      }\n\n      * {\n        overflow-wrap: anywhere;\n      }\n    }\n  }\n\n  hr {\n    border-color: #1e7cba;\n  }\n"]))),W=D.ZP.ul(U||(U=M(["\n  margin-top: 10px;\n  background: rgb(0, 72, 88);\n  padding: 10px;\n  color: rgb(58, 212, 58);\n  max-height: 600px;\n  min-height: 200px;\n  display: block;\n  font-family: monospace;\n  font-size: 12px;\n  white-space: pre;\n  overflow-x: auto;\n  width: calc(100vw - 276px);\n  color: white;\n\n  .log-date {\n    color: var(--neko-yellow);\n    margin-left: 8px;\n  }\n\n  .log-type {\n    background: #0000004d;\n    padding: 2px 5px;\n    border-radius: 8px;\n    text-transform: uppercase;\n  }\n\n  .log-content {\n    display: block;\n  }\n\n  .log-warning .log-type {\n    background: var(--neko-yellow);\n    color: white;\n  }\n\n  .log-fatal .log-type {\n    background: var(--neko-red);\n    color: white;\n  }\n"])));function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function H(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */H=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==V(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(V(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function J(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){K(o,r,a,i,c,"next",e)}function c(e){K(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=wp.element,ee=$.useState,te=$.useEffect,ne="".concat(g,"/meow-common/v1"),re=function(e){var t=e.request,n=e.title,r=e.max,o=Q(ee(!1),2),c=o[0],s=o[1],u=Q(ee([]),2),l=u[0],f=u[1],p=l.length>0?l.reduce((function(e,t){return e+t})):0,m=l.length>0?Math.ceil(p/l.length):0,d=!l.length&&c;te((function(){c&&setTimeout(q(H().mark((function e(){var n,r,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new Date).getTime(),e.next=3,(0,a.PV)("".concat(ne,"/").concat(t),{method:"POST",nonce:S});case 3:r=(new Date).getTime(),o=r-n,f((function(e){return[].concat(J(e),[o])}));case 6:case"end":return e.stop()}}),e)}))),1e3)}),[l]);return React.createElement(F,{style:{width:200,textAlign:"center"}},React.createElement(i.O,{h2:!0,style:{color:"white"}},n),React.createElement(j._,{size:200,value:d?r:m,max:r},React.createElement("span",{style:{fontSize:20}},d?"START":m+" ms"),React.createElement("span",{style:{fontSize:12}},d?"YOUR ENGINE":l.length+" requests")),React.createElement(h._,{style:{width:"100%",marginTop:10},color:c?"#cc3627":"#ccb027",onClick:function(){c||f([]),s(!c)}},c?"Stop":"Start"))};function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function oe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */oe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==ae(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ae(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ae(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function le(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ue(o,r,a,i,c,"next",e)}function c(e){ue(o,r,a,i,c,"throw",e)}i(void 0)}))}}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var me=wp.element,he=me.useState,de=me.useEffect;E&&g&&w||console.error("[@common/dashboard] apiUrl, restUrl and pluginUrl are mandatory.");var ye="".concat(g,"/meow-common/v1"),ve=React.createElement(F,null,React.createElement(i.O,{p:!0},"Meow Apps is a suite of plugins for photography, imaging, optimization, and SEO, run by ",React.createElement("a",{target:"_blank",href:"https://jordymeow.com"},"Jordy Meow"),", a photographer and developer in Japan. The goal is to improve and speed up your website. Learn more at ",React.createElement("a",{href:"http://meowapps.com",target:"_blank"},"Meow Apps"),".")),be=React.createElement(F,null,React.createElement(i.O,{p:!0},"The ",React.createElement("b",null,"Empty Request Time")," measures your installation's basic performance by showing the average time needed to process an empty request on your server. To see how disabling plugins affects the results, turn some off and run the test again. Aim for a time under 2,000 ms, but ideally, keep it below 500 ms. The ",React.createElement("b",null,"File Operation Time")," creates a temporary 10MB file each time it runs. ",React.createElement("b",null,"The SQL Request Time")," calculates the total number of posts. This process should be quick and have a similar duration to the Empty Request Time.")),ge=React.createElement(F,null,React.createElement(i.O,{p:!0},"Maintain a streamlined WordPress setup by using essential plugins and a dependable hosting provider. Refrain from self-hosting unless you're an expert. Go further by reading our tutorials:",React.createElement("ul",null,React.createElement("li",null,"â­ï¸ ",React.createElement("a",{href:"https://meowapps.com/tutorial-improve-seo-wordpress/",target:"_blank"},"SEO Checklist & Optimization")),React.createElement("li",null,"â­ï¸ ",React.createElement("a",{href:"https://meowapps.com/tutorial-faster-wordpress-optimize/",target:"_blank"},"Optimize your WordPress Speed")),React.createElement("li",null,"â­ï¸ ",React.createElement("a",{href:"https://meowapps.com/tutorial-optimize-images-wordpress/",target:"_blank"},"Optimize Images (CDN, and so on)")),React.createElement("li",null,"â­ï¸ ",React.createElement("a",{href:"https://meowapps.com/tutorial-hosting-service-wordpress/",target:"_blank"},"The Best Hosting Services for WordPress"))))),Ee=["".concat(ye,"/all_settings/"),{headers:{"X-WP-Nonce":S}}],we=function(){var e=fe(he(!1),2),t=e[0],n=e[1],o=(0,r.ZP)(Ee,a.SG),y=o.data,v=o.mutate,b=o.error,g=null==y?void 0:y.data,E=null==g?void 0:g.meowapps_hide_meowapps,w=null==g?void 0:g.force_sslverify,_=fe(he(!1),2),T=_[0],O=_[1],L=fe(he([]),2),x=L[0],R=L[1],A=fe(he(""),2),P=A[0],C=A[1];de((function(){b&&!t&&(n(!0),console.error("Error from UseSWR",b.message))}),[b]),de((function(){var e=document.getElementById("meow-common-phpinfo");C(e.innerHTML)}),[]);var k=function(){var e=le(oe().mark((function e(t,n){var r,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ce({},y.data))[n]=t,console.log({value:t,id:n,newSettingsData:r}),v(ce(ce({},y),{},{data:r}),!1),O(!0),e.next=7,(0,a.PV)("".concat(ye,"/update_option"),{method:"POST",nonce:S,json:{name:n,value:t}});case 7:o=e.sent,O(!1),o.success||alert(o.message),v();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=le(oe().mark((function e(){var t,n;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O("isLoadingErrorLogs"),e.next=3,(0,a.PV)("".concat(ye,"/error_logs"),{method:"POST",nonce:S});case 3:t=e.sent,n=t&&t.data?t.data:[],R(n.reverse()),O(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=React.createElement(c.r,{title:"Main Menu"},React.createElement(s.l,{max:"1"},React.createElement(u.P,{name:"meowapps_hide_meowapps",label:"Hide (Not Recommended)",description:React.createElement(i.O,{p:!0},"This will hide the Meow Apps Menu (on the left side) and everything it contains. You can re-enable it through though an option that will be added in Settings â†’ General."),value:"1",disabled:T,checked:E,onChange:k}))),B=React.createElement(c.r,{title:"SSL Verify"},React.createElement(s.l,{max:"1"},React.createElement(u.P,{name:"force_sslverify",label:"Force (Not Recommended)",description:React.createElement(i.O,{p:!0},"This will enforce the usage of SSL when checking the license or updating the plugin."),value:"1",disabled:T,checked:w,onChange:k})));return React.createElement(l.s,{showRestError:t},React.createElement(f.B,{title:"The Dashboard"}),React.createElement(p.o,null,React.createElement(p.z,{full:!0},React.createElement(m.c,null,React.createElement(m.P,{title:"Meow Apps"},ve,React.createElement(p.o,null,React.createElement(p.z,{minimal:!0},React.createElement(G,{title:"AI Engine",className:"primary"},React.createElement(z,{src:"https://ps.w.org/ai-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-engine/"},"AI Engine")),React.createElement("p",null,"GPT for WordPress. ChatGPT chatbot, image & content generator, finetune/train models, etc. Ultra customizable, extensible, sleek UI. You will love it!"))),React.createElement(G,{title:"Media Cleaner",className:"primary"},React.createElement(z,{src:"https://ps.w.org/media-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/"},"Media Cleaner")),React.createElement("p",null,"Clean your WordPress! Eliminate unused and broken media files. For a faster, and better website."))),React.createElement(G,{title:"Database Cleaner",className:"primary"},React.createElement(z,{src:"https://ps.w.org/database-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"Database Cleaner")),React.createElement("p",null,"Not only does Database Cleaner have a user-friendly UI, but it's also equipped to handle large DBs, giving it an edge over other plugins."))),React.createElement(G,{title:"Media File Renamer",className:"primary"},React.createElement(z,{src:"https://ps.w.org/media-file-renamer/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/"},"Media File Renamer")),React.createElement("p",null,"Rename and move files directly from the dashboard, manually, automatically or via AI, either individually or in bulk."))),React.createElement(G,{title:"Social Engine",className:"primary"},React.createElement(z,{src:"https://ps.w.org/social-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/"},"Social Engine")),React.createElement("p",null,"Effortlessly schedule and automate the perfect posts for all your networks. Unlimited capabilities and infinite extensibility, for free!"))),React.createElement(G,{title:"Meow Analytics",className:"primary"},React.createElement(z,{src:"https://ps.w.org/meow-analytics/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"Meow Analytics")),React.createElement("p",null,"Google Analytics for your website.")))),React.createElement(p.z,{minimal:!0},React.createElement(G,{title:"Photo Engine",className:"primary"},React.createElement(z,{src:"https://ps.w.org/wplr-sync/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"Photo Engine")),React.createElement("p",null,"Organize your photos in folders and collections.",React.createElement("br",null),"Synchronize with Lightroom."))),React.createElement(G,{title:"Meow Gallery",className:"primary"},React.createElement(z,{src:"https://ps.w.org/meow-gallery/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"Meow Gallery")),React.createElement("p",null,"Fast and beautiful gallery with many layouts."))),React.createElement(G,{title:"Meow Lightbox",className:"primary"},React.createElement(z,{src:"https://ps.w.org/meow-lightbox/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"Meow Lightbox")),React.createElement("p",null,"Sleek and performant lightbox with EXIF support."))),React.createElement(G,{title:"Perfect Images (Retina)",className:"primary"},React.createElement(z,{src:"https://ps.w.org/wp-retina-2x/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"Perfect Images")),React.createElement("p",null,"Manage, Optimize, Replace your images with Perfect Images."))),React.createElement(G,{title:"Contact Form Block",className:"primary"},React.createElement(z,{src:"https://ps.w.org/contact-form-block/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"Contact Form Block")),React.createElement("p",null,"Simple and straightforward contact form, in one block."))),React.createElement(G,{title:"Contact Form Block",className:"primary"},React.createElement(z,{src:"https://ps.w.org/ai-seo/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-seo/"},"AI-SEO")),React.createElement("p",null,"Optimize your content for SEO. Keep everything simple and fast.")))))),React.createElement(m.P,{title:"Performance"},be,React.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:25}},React.createElement(re,{title:"Empty Request Time",request:"empty_request",max:2500}),React.createElement(re,{title:"File Operation Time",request:"file_operation",max:2600}),React.createElement(re,{title:"SQL Request Time",request:"sql_request",max:2800})),ge),React.createElement(m.P,{title:"PHP Info"},React.createElement(Y,{dangerouslySetInnerHTML:{__html:P}})),React.createElement(m.P,{title:"PHP Error Logs"},React.createElement(F,null,React.createElement(h._,{style:{marginBottom:10},color:"#ccb027",onClick:N,disabled:T,isBusy:"isLoadingErrorLogs"===T},"Load PHP Error Logs"),React.createElement(W,null,x.map((function(e){return React.createElement("li",{class:"log-".concat(e.type)},React.createElement("span",{class:"log-type"},e.type),React.createElement("span",{class:"log-date"},e.date),React.createElement("span",{class:"log-content"},e.content))}))),React.createElement(i.O,{p:!0},"If you don't see any errors, your host might not allow remote access to PHP error logs. Contact them for assistance, or look in your hosting control panel."))),React.createElement(m.P,{title:"Settings"},React.createElement(d.v,{title:"Settings",className:"primary"},I,B))))))},_e=n(2719),Te=n(5231),Se=n(9378),Oe=n(9995),Le=n(8281),xe=n(119),Re=n(1203),Ae=n(1663),Pe=n(776),Ce=n(8668),ke=n(4291),Ne=n(5171),Ie=n.n(Ne),Be=n(1492),Ue=n(3506);function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function De(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */De=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==je(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(je(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Me(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Me(o,r,a,i,c,"next",e)}function c(e){Me(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ye=wp.element,We=Ye.useState,Ve=Ye.useEffect,He="".concat(g,"/meow-licenser/").concat(y,"/v1"),Je=function(){var e=Ge(We(!1),2),t=e[0],n=e[1],r=Ge(We(!1),2),o=r[0],c=r[1],s=Ge(We(null),2),u=s[0],l=s[1],f=Ge(We(null),2),p=f[0],m=f[1],y=Ge(We(""),2),v=y[0],b=y[1],g=T&&(!p||"valid"!==p.license),E=function(){var e=Fe(De().mark((function e(){var t;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.next=5,(0,a.PV)("".concat(He,"/get_license"),{method:"POST",nonce:S});case 5:t=e.sent,m(t.data),t.data.key&&b(t.data.key),n(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Fe(De().mark((function e(){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(0,a.PV)("".concat(He,"/set_license"),{method:"POST",nonce:S,json:{serialKey:null}});case 3:e.sent.success&&(b(""),m(null),l("licenseRemoved")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Fe(De().mark((function e(){var t;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(0,a.PV)("".concat(He,"/set_license"),{method:"POST",nonce:S,json:{serialKey:v,override:!0}});case 3:(t=e.sent).success&&(m(t.data),t.data&&!t.data.issue&&l("licenseAdded")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Fe(De().mark((function e(){var t;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MEOW_OVERRIDE"!==v){e.next=5;break}return c(!0),m(null),b(""),e.abrupt("return");case 5:return n(!0),e.next=8,(0,a.PV)("".concat(He,"/set_license"),{method:"POST",nonce:S,json:{serialKey:v}});case 8:(t=e.sent).success&&(m(t.data),t.data&&!t.data.issue&&l("licenseAdded")),n(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Ve((function(){E()}),[]);var x=g?"Forced License":T?"Enabled":"Disabled",R=g||p&&"valid"===p.license,A="Your license is active. Thanks a lot for your support :)";g&&(A="This license has been force-enabled for you.",p&&p.check_url&&(A=React.createElement(React.Fragment,null,React.createElement("span",null,A),React.createElement("br",null),React.createElement("small",null,"To check your license status, please click ",React.createElement("a",{target:"_blank",href:p.check_url+"&cache="+642e3*Math.random(),rel:"noreferrer"},"here"),".")))),R||(p?"no_activations_left"===p.issue?A=React.createElement("span",null,"There are no activations left for this license. You can visit your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),", unregister a site, and click on ",React.createElement("i",null,"Retry to validate"),"."):"expired"===p.issue?A=React.createElement("span",null,"Your license has expired. You can get another license or renew the current one by visiting your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),"."):"missing"===p.issue?A="This license does not exist.":"disabled"===p.issue?A="This license has been disabled.":"item_name_mismatch"===p.issue?A="This license seems to be for a different plugin... isn't it? :)":"forced"===p.issue?A="ABC":(A=React.createElement("span",null,"There is an unknown error related to the system or this serial key. Really sorry about this! Make sure your security plugins and systems are off temporarily. If you are still experiencing an issue, please ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/contact/"},"contact us"),"."),console.error({license:p})):A="Unknown error :(");var P=React.createElement(d.v,{title:"Pro Version (Not Installed)",className:"primary"},"You will find more information about the Pro Version ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"here"),". If you actually bought the Pro Version already, please remove the current plugin and download the Pro Version from your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/"},"Meow Apps"),"."),C=React.createElement(d.v,{title:"Pro Version (".concat(x,")"),busy:t,className:"primary"},!g&&!(p&&p.key===v)&&React.createElement(React.Fragment,null,React.createElement("div",{style:{marginBottom:10}},"License Key:"),React.createElement(Be.A,{id:"mfrh_pro_serial",name:"mfrh_pro_serial",disabled:t,value:v,onChange:function(e){return b(e)},placeholder:"Type your license key..."}),React.createElement(i.O,{p:!0},"Insert your serial key above. If you don't have one yet, you can get one ",React.createElement("a",{href:"https://meowapps.com"},"here"),". If there was an error during the validation, try the ",React.createElement("i",null,"Retry")," to ",React.createElement("i",null,"validate")," button.")),p&&!R&&React.createElement(Ue.S,{variant:"danger"},A),(g||p)&&R&&React.createElement(Ue.S,{variant:"success"},A),React.createElement("div",{style:{marginTop:15,display:"flex",justifyContent:"end"}},p&&!R&&React.createElement(h._,{className:"secondary",disabled:t||!v,onClick:L},"Retry to validate"),p&&p.key===v&&React.createElement(h._,{className:"secondary",disabled:t||!v,onClick:w},"Remove License"),React.createElement(h._,{disabled:t||!v||p&&p.key===v,onClick:L},"Validate License"),o&&!R&&React.createElement(h._,{disabled:t||!v||p&&p.key===v,onClick:O,className:"danger"},"Force License")),React.createElement(Re.L,{isOpen:"licenseAdded"===u,title:"Thank you :)",content:"The Pro features have been enabled. This page should be now reloaded.",okButton:{label:"Reload",onClick:function(){return location.reload()}}}),React.createElement(Re.L,{isOpen:"licenseRemoved"===u,title:"Goodbye :(",content:"The Pro features have been disabled. This page should be now reloaded.",okButton:{label:"Reload",onClick:function(){return location.reload()}}}));return _?C:P};const{__:Ke}=wp.i18n,qe={};qe.COMMON={PLUGIN_NAME:Ke("Database Cleaner","database-cleaner"),TUTORIAL:Ke("Tutorial","database-cleaner"),SETTINGS:Ke("Settings","database-cleaner"),DASHBOARD:Ke("Dashboard","database-cleaner"),BY_JORDY_MEOW:Ke("By Jordy Meow","media-cleaner"),TABLE:Ke("Table","database-cleaner"),CLOSE:Ke("Close","database-cleaner"),USED_BY:Ke("Used By","database-cleaner"),SELECTED_ITEMS:Ke("selected items","database-cleaner"),UNKNOWN:Ke("Unknown","database-cleaner"),ASSIGN_PLUGIN:Ke("Assign Plugin","database-cleaner"),RE_ASSIGN_PLUGIN:Ke("ReAssign Plugin","database-cleaner"),SEARCH:Ke("Search","database-cleaner"),ITEMS_PER_PAGE:Ke("items per page","database-cleaner"),CLEAN:Ke("Clean","database-cleaner"),DEV_TOOLS:Ke("Dev Tools","ai-engine")},qe.HELP={DEV_TOOLS:Ke("Enable a new tab with debugging tools. For developers only.","ai-engine"),SWEEPER:Ke('Constantly and discreetly cleans your database in bite-sized tasks, keeping your site\'s speed unaffected. All the items set with "Auto" will be processed.',"ai-engine")},qe.CHART_SIZES={THIS_IS_FAKE_DATA:Ke("This is fake data! ðŸ˜Ž","database-cleaner")},qe.DASHBOARD={WELCOME_MESSAGE:Ke("Welcome to the Database Cleaner Dashboard.","database-cleaner")},qe.CORE_SECTIONS={POSTS:Ke("Posts","database-cleaner"),POSTS_METADATA:Ke("Posts Metadata","database-cleaner"),USERS:Ke("Users","database-cleaner"),COMMENTS:Ke("Comments","database-cleaner"),TRANSIENTS:Ke("Transients","database-cleaner"),POST_TYPES:Ke("Post Types","database-cleaner")},qe.HOOKS={POSTS_METADATA_DUPLICATED_WARNING:Ke("Based on the nature of meta duplicates, it is better to do it manually","database-cleaner")},qe.TABLE_COLUMN_TITLE={DETAILS:Ke("Details","database-cleaner"),COUNT:Ke("Count","database-cleaner"),MODE:Ke("Mode","database-cleaner"),POST_TYPE:Ke("Post Type","database-cleaner"),USED_BY:Ke("Used By","database-cleaner"),TABLE:Ke("Table","database-cleaner"),SIZE:Ke("Size","database-cleaner"),RELATIVE_PERCENTAGE:Ke("Relative %","database-cleaner"),AUTO:Ke("Auto","database-cleaner"),SCHEDULE:Ke("Schedule","database-cleaner"),NEXT_RUN:Ke("Next Run","database-cleaner"),NAME:Ke("Name","database-cleaner"),CLEAN:Ke("Clean","database-cleaner"),ACTION:Ke("Action","database-cleaner"),POST_ID:Ke("Post ID","database-cleaner"),USER_ID:Ke("User ID","database-cleaner")},qe.FILTER_TITLE={ALL:Ke("All","database-cleaner"),NOT_USED:Ke("Not Used","database-cleaner"),USED:Ke("Used","database-cleaner"),AUTOLOADED:Ke("Autoloaded","database-cleaner"),NOT_AUTOLOADED:Ke("Not Autoloaded","database-cleaner"),UNKNOWN:Ke("Unknown","database-cleaner"),SIZE:Ke("Size","database-cleaner"),RELATIVE_PERCENTAGE:Ke("Relative %","database-cleaner"),AUTO:Ke("Auto","database-cleaner"),SCHEDULE:Ke("Schedule","database-cleaner"),NEXT_RUN:Ke("Next Run","database-cleaner")},qe.CLEAN_STYLE_LABEL={AUTO:Ke("Auto","database-cleaner"),MANUAL:Ke("Manual","database-cleaner"),NEVER:Ke("Never","database-cleaner")},qe.AGE_LABEL={NONE:Ke("None","database-cleaner"),DAY:Ke("day","database-cleaner"),DAYS:Ke("days","database-cleaner"),MONTH:Ke("month","database-cleaner"),YEAR:Ke("year","database-cleaner")},qe.MODE={EXPERT:Ke("Expert","database-cleaner"),EASY:Ke("Easy","database-cleaner")},qe.CONTEXT={HIDE_ITEMS_USED_BY_WORDPRESS:Ke("Hide items used by WordPress","database-cleaner"),MODAL_DOES_NOT_EXIST:Ke("The modal {0} doesn't exist.","database-cleaner"),HISTORICAL_DB_SIZES:Ke("Historical DB Sizes","database-cleaner")},qe.MODAL={DELETE_ALL:Ke("Delete All","database-cleaner"),DATA:Ke("Data","database-cleaner"),USED_BY:Ke("Used By","database-cleaner"),OPTION_DATA:Ke("Option data","database-cleaner"),METADATA:Ke("Metadata","database-cleaner"),TABLE:Ke("Table","database-cleaner"),FINISHED:Ke("Finished","database-cleaner"),ARE_YOU_SURE:Ke("Are you sure?","database-cleaner"),WRITE_TO_BROWSER_CONSOLE:Ke("Write to Browser Console","database-cleaner"),NO_DATA:Ke("No data.","database-cleaner"),NO_ENTRIES:Ke("No entries.","database-cleaner"),UNASSIGN:Ke("Unassign","database-cleaner"),ASSIGN:Ke("Assign","database-cleaner"),SELECTED_PLUGIN_SLUG:Ke("Selected Plugin Slug","database-cleaner"),EVERYTHING_CLEAN:Ke("Everything is clean already!","database-cleaner"),EVERYTHING_CLEAN_INFO:Ke('If you want to clean further, give a try to <a href="https://wordpress.org/plugins/media-cleaner/" target="_blank">Media Cleaner</a>. Otherwise, take some time to relax and enjoy playing with <a href="https://wordpress.org/plugins/ai-engine/" target="_blank">AI Engine</a>, the AI plugin for WordPress!',"database-cleaner"),USED_BY_RECOMMEND_PRO_MESSAGE:Ke("The <b>Pro Version</b> of Database Cleaner knows much more about how data is used, and can simplify this for you! Please check <a href='https://meowapps.com/products/database-cleaner-pro/' target='_blank'>Database Cleaner Pro</a>. And don't hesitate to <a href='https://meowapps.com/contact' target='_blank'>contact me</a> for a discount! ðŸ’•","database-cleaner"),USED_BY_DESCRIPTION:Ke("Please visit the <b>Settings</b> tab to access all your <b>Used By</b> data. Don't hesitate to share it <a href='https://meowapps.com/support/' target='_blank'>with me</a> so that I can make this plugin better.","database-cleaner"),EDIT_CUSTOM_QUERY:Ke("Edit Custom Query","database-cleaner"),SAVE:Ke("Save","database-cleaner")},qe.BULK_TASK={STEP:Ke("STEP","database-cleaner"),GETTING_TASKS:Ke("Getting tasks...","database-cleaner"),CLEANING_ITEMS:Ke("Cleaning items...","database-cleaner"),FINAL_MESSAGE_WITH_ERROR:Ke("The process has finished, but {0} error(s) occurred.","database-cleaner"),REFRESH_COUNTS:Ke("Refresh the counts","database-cleaner"),DELETE_SELECTED_ITEMS:Ke("Delete the selected items","database-cleaner"),DELETE:Ke("Delete the data older than the date threshold","database-cleaner"),USED_BY:Ke("Assign Plugin for Selected Items","database-cleaner")},qe.SETTINGS={INTRODUCTION:Ke("While using Database Cleaner is easy, I strongly recommend you to read the <a href='https://meowapps.com/database-cleaner/tutorial/' target='_blank'>tutorial</a> carefully. This plugin has more capabilities than other plugins of the same kind, so you might find new and interesting ways to handle your cleanups. If any issue, or feature request, please let me know on the <a href='https://wordpress.org/support/plugin/database-cleaner/' target='_blank'>WordPress Forums</a>. <b>Last but not least, backup your DB before doing anything!</b> If you don't know how, give a try to <a href='http://meow.click/blogvault' target='_blank'>BlogVault</a>. ","database-cleaner"),AUTO_CLEAN:Ke("Auto Clean","database-cleaner"),TODAY:Ke("TODAY","database-cleaner"),WORDPRESS_CORE:Ke("WordPress Core","database-cleaner"),POST_TYPES:Ke("Post Types","database-cleaner"),LIST_POST_TYPES:Ke("List Post Types","database-cleaner"),TABLES:Ke("Tables","database-cleaner"),OPTIONS:Ke("Options","database-cleaner"),CRON_JOBS:Ke("Cron Jobs","database-cleaner"),CUSTOM_QUERIES:Ke("Custom Queries","database-cleaner"),SETTINGS_LOGS:Ke("Settings & Logs","database-cleaner"),SETTINGS:Ke("Settings","database-cleaner"),LICENSE:Ke("License","database-cleaner"),AGE_THRESHOLD:Ke("Age Threshold","database-cleaner"),AGE_THRESHOLD_DESCRIPTION:Ke("Auto Clean will be applied on items which are older than the specified number of days, months or years.","database-cleaner"),MESSAGE:Ke("Message","database-cleaner"),MESSAGE_DESCRIPTION:Ke("Have you read it twice? If yes, hide it :)","database-cleaner"),PERFORMANCE:Ke("Performance","database-cleaner"),BATCH_SIZE:Ke("Batch Size","database-cleaner"),BATCH_SIZE_DESCRIPTION:Ke("The maximum amount of entries to delete at the same time. That will slow down the process a little but will make it work on huge databases.","database-cleaner"),DELAY_IN_MS:Ke("Delay (in ms)","database-cleaner"),DELAY_IN_MS_DESCRIPTION:Ke("Time to wait between each request (in milliseconds). The overall process is intensive so this gives the chance to your server to chill out a bit. A very good server doesn't need it, but a slow/shared hosting might even reject requests if they are too fast and frequent. Recommended value is actually 0, 100 for safety, 2000 or 5000 if your hosting is kind of cheap.","database-cleaner"),DEEP_DELETIONS:Ke("Deep Deletions","database-cleaner"),DEEP_DELETIONS_DESCRIPTION:Ke("Items will be deleted by calling the internal WordPress functions, so it will have the side effect of a <i>natural cleaning</i>, as if you were deleting posts (and other elements) naturally.","database-cleaner"),CUSTOM_USED_BY_DATA:Ke("Custom <i>Used By</i> data","database-cleaner"),RESET_USED_BY_DATA:Ke("Reset Used By","database-cleaner"),CUSTOM_USED_BY_DATA_DESCRIPTION:Ke("Did you categorized everything? Nice! â˜ºï¸ Please share this data with me through my <a href='https://meowapps.com/contact' target='_blank'>contact form</a>. Thank you! ","database-cleaner"),USED_BY_POST_TYPES:Ke("POST TYPES","database-cleaner"),USED_BY_OPTIONS:Ke("OPTIONS","database-cleaner"),USED_BY_TABLES:Ke("TABLES","database-cleaner"),USED_BY_CRON_JOBS:Ke("CRON JOBS","database-cleaner"),LOGS:Ke("Logs","database-cleaner"),CLEAR_LOGS:Ke("Clear Logs","database-cleaner"),REFRESH_LOGS:Ke("Refresh Logs","database-cleaner"),FOR_ADVANCED_USERS_DEVELOPERS:Ke("For Advanced Users & Developers","database-cleaner"),RESET_OPTIONS:Ke("Reset Options","database-cleaner"),GENERATE_FAKE_DATA:Ke("Generate Fake Data","database-cleaner"),METADATA:Ke("Metadata","database-cleaner"),NYAO_SWEEPER:Ke("Nyao Sweeper","database-cleaner"),PERFORM_NEXT_TASK:Ke("Perform Next Task","database-cleaner"),RESET_TASKS:Ke("Reset Tasks","database-cleaner"),SWEEPER:Ke("Sweeper","database-cleaner"),SCHEDULE:Ke("Schedule","database-cleaner"),SCHEDULE_5_MINUTES:Ke("Every 5 Minutes","database-cleaner"),SCHEDULE_10_MINUTES:Ke("Every 10 Minutes","database-cleaner"),SCHEDULE_30_MINUTES:Ke("Every 30 Minutes","database-cleaner"),SCHEDULE_HOURLY:Ke("Hourly","database-cleaner"),SCHEDULE_TWICE_DAILY:Ke("Twice Daily","database-cleaner"),SCHEDULE_DAILY:Ke("Daily","database-cleaner"),ENABLE:Ke("Enable","database-cleaner"),ENABLED:Ke("Enabled","database-cleaner"),MODULES:Ke("Modules","database-cleaner"),BUILD_INDEXES:Ke("Build Indexes","database-cleaner"),REMOVE_INDEXES:Ke("Remove Indexes","database-cleaner")},qe.CUSTOM_QUERIES={NAME:Ke("Name","database-cleaner"),CLEAN:Ke("Clean","database-cleaner"),QUERY_COUNT:Ke("Query Count","database-cleaner"),QUERY_DELETE:Ke("Query Delete","database-cleaner"),RUN_COUNT:Ke("Run Count","database-cleaner"),RUN_DELETE:Ke("Run Delete","database-cleaner"),BACK:Ke("Back","database-cleaner"),ADD_CUSTOM:Ke("Add Custom","database-cleaner"),SETUP_NOT_COMPLETE:Ke("The setup is not complete.","database-cleaner")},qe.TABLES={OPTIMIZE:Ke("Optimize","database-cleaner"),REPAIR:Ke("Repair","database-cleaner"),TABLE:Ke("Table","database-cleaner"),INFO_TABLE_DROP:Ke("Remove this table","database-cleaner"),INFO_TABLE_OPTIMIZE:Ke("Optimize this table (check the tutorial to learn more about it)","database-cleaner"),INFO_TABLE_REPAIR:Ke("Repair this table","database-cleaner"),INFO_TABLE_BULK_DROP:Ke("Remove the selected tables","database-cleaner"),INFO_TABLE_BULK_OPTIMIZE:Ke("Optimize the selected tables (check the tutorial to learn more about it)","database-cleaner"),INFO_TABLE_BULK_REPAIR:Ke("Repair the selected tables","database-cleaner")};const Qe=qe;var Ze=n(7363);function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}function $e(e){return function(e){if(Array.isArray(e))return et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */tt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Xe(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Xe(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function nt(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}var rt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},at=function(e,t){return new Promise(function(){var n,r=(n=tt().mark((function n(r){var a,o,i,c;return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new Date,n.next=3,t();case 3:if(o=new Date,i=o.getTime()-a.getTime(),!((c=e-i)>0)){n.next=9;break}return n.next=9,rt(c);case 9:r();case 10:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){nt(o,r,a,i,c,"next",e)}function c(e){nt(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}())},ot=function(e){var t=e.filter((function(e){return"never"===e.clean_style})),n=e.filter((function(e){return"never"!==e.clean_style}));return[].concat($e(n),$e(t))};var it=function(e){return isNaN(e)?"-":(0,a.td)(ct(e))},ct=function(e){return 1024*e*1024},st=function(e,t,n){var r=(t-1)*n,a=t*n;return e.slice(r,a)};function ut(e){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(e)}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||dt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ft=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==ut(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ut(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function pt(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function mt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){pt(o,r,a,i,c,"next",e)}function c(e){pt(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ht(e){return function(e){if(Array.isArray(e))return yt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){if(e){if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(e,t):void 0}}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ut(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ut(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et,wt,_t,Tt,St,Ot,Lt,xt,Rt,At,Pt,Ct=function(e){return"".concat(e,"_count")},kt=function(e){return"".concat(e,"_delete")},Nt="totalDbSize",It=Qe.CONTEXT.HIDE_ITEMS_USED_BY_WORDPRESS,Bt=[{accessor:"details",title:Qe.TABLE_COLUMN_TITLE.DETAILS,sortable:!1,width:""},{accessor:"count",title:Qe.TABLE_COLUMN_TITLE.COUNT,sortable:!1,width:"100px",align:"right"},{accessor:"clean",title:Qe.TABLE_COLUMN_TITLE.MODE,sortable:!1,width:"80px"},{accessor:"action",title:"",sortable:!1,width:"80px"}],Ut=[{accessor:"details",title:Qe.TABLE_COLUMN_TITLE.DETAILS,sortable:!1,width:""},{accessor:"count",title:Qe.TABLE_COLUMN_TITLE.COUNT,sortable:!1,width:"80px",align:"right"},{accessor:"action",title:"",sortable:!1,width:"80px"}],jt={filters:{type:"checkbox",options:[{label:"More than 512 KB",value:524288},{label:"More than 64 KB",value:65536}]}},Dt=[{accessor:"details",title:Qe.TABLE_COLUMN_TITLE.POST_TYPE,sortable:!0,width:"350px"},{accessor:"usedBy",title:Qe.TABLE_COLUMN_TITLE.USED_BY,sortable:!0},{accessor:"count",title:Qe.TABLE_COLUMN_TITLE.COUNT,sortable:!1,width:"110px",align:"right"},{accessor:"clean",title:Qe.TABLE_COLUMN_TITLE.MODE,sortable:!1,width:"80px"},{accessor:"action",title:"",sortable:!1,width:"80px"}],Mt=[{accessor:"deletion",title:"",sortable:!1,width:"40px"},{accessor:"table",title:Qe.TABLE_COLUMN_TITLE.TABLE,sortable:!0,width:"350px"},{accessor:"usedBy",title:Qe.TABLE_COLUMN_TITLE.USED_BY,sortable:!0},bt({accessor:"size",title:Qe.TABLE_COLUMN_TITLE.SIZE,sortable:!0,width:"110px",align:"right"},jt),{accessor:"percent",title:Qe.TABLE_COLUMN_TITLE.RELATIVE_PERCENTAGE,sortable:!1,width:"80px",align:"right"},{accessor:"actions",title:"",sortable:!1,width:"200px"}],Ft=[{accessor:"table",title:Qe.TABLE_COLUMN_TITLE.TABLE,sortable:!0,width:"450px"},{accessor:"usedBy",title:Qe.TABLE_COLUMN_TITLE.USED_BY,sortable:!0,width:"300px"},bt({accessor:"size",title:Qe.TABLE_COLUMN_TITLE.SIZE,sortable:!0,width:"80px",align:"right"},jt),{accessor:"percent",title:Qe.TABLE_COLUMN_TITLE.RELATIVE_PERCENTAGE,sortable:!1,width:"80px",align:"right"},{accessor:"actions",title:"",sortable:!1,width:"200px"}],Gt=[{accessor:"actions",title:"",sortable:!1,width:"30px"},{accessor:"name",title:Qe.TABLE_COLUMN_TITLE.NAME,sortable:!0,width:"350px"},{accessor:"usedBy",title:Qe.TABLE_COLUMN_TITLE.USED_BY,sortable:!0},bt({accessor:"size",title:Qe.TABLE_COLUMN_TITLE.SIZE,sortable:!0,width:"110px",align:"right"},jt),{accessor:"autoloaded",title:Qe.TABLE_COLUMN_TITLE.AUTO,sortable:!0,width:"58px"}],zt=[{accessor:"actions",title:"",sortable:!1,width:"30px"},{accessor:"name",title:Qe.TABLE_COLUMN_TITLE.NAME,sortable:!0,width:"450px"},{accessor:"usedBy",title:Qe.TABLE_COLUMN_TITLE.USED_BY,sortable:!0,width:"400px"},{accessor:"schedule",title:Qe.TABLE_COLUMN_TITLE.SCHEDULE,sortable:!1,width:"100px"},{accessor:"nextRun",title:Qe.TABLE_COLUMN_TITLE.NEXT_RUN,sortable:!1,width:"180px"}],Yt=[{accessor:"actions",title:"",sortable:!1,width:"30px"},{accessor:"postId",title:Qe.TABLE_COLUMN_TITLE.POST_ID,sortable:!0,width:"100px"},{accessor:"userId",title:Qe.TABLE_COLUMN_TITLE.USER_ID,sortable:!0,width:"100px"},{accessor:"name",title:Qe.TABLE_COLUMN_TITLE.NAME,sortable:!0,width:"350px",filters:{type:"text"}},bt({accessor:"size",title:Qe.TABLE_COLUMN_TITLE.SIZE,sortable:!0,width:"50px",align:"right"},jt)],Wt=[{label:Qe.CLEAN_STYLE_LABEL.AUTO,value:"auto"},{label:Qe.CLEAN_STYLE_LABEL.MANUAL,value:"manual"},{label:Qe.CLEAN_STYLE_LABEL.NEVER,value:"never"}],Vt=[{label:Qe.AGE_LABEL.NONE,value:"none"},{label:"1 ".concat(Qe.AGE_LABEL.DAY),value:"1 day"},{label:"7 ".concat(Qe.AGE_LABEL.DAYS),value:"7 days"},{label:"14 ".concat(Qe.AGE_LABEL.DAYS),value:"14 days"},{label:"1 ".concat(Qe.AGE_LABEL.MONTH),value:"1 month"},{label:"3 ".concat(Qe.AGE_LABEL.MONTH),value:"3 month"},{label:"6 ".concat(Qe.AGE_LABEL.MONTH),value:"6 month"},{label:"1 ".concat(Qe.AGE_LABEL.YEAR),value:"1 year"}],Ht=[{title:Qe.FILTER_TITLE.ALL,value:"all",filterValue:""},{title:Qe.FILTER_TITLE.NOT_USED,value:"notUsed",filterValue:"warn"},{title:Qe.FILTER_TITLE.USED,value:"used",filterValue:"ok"},{title:Qe.FILTER_TITLE.AUTOLOADED,value:"yes",filterValue:"yes"},{title:Qe.FILTER_TITLE.UNKNOWN,value:"unknown",filterValue:"n/a"}],Jt=[{title:Qe.FILTER_TITLE.ALL,value:"all",filterValue:""},{title:Qe.FILTER_TITLE.NOT_USED,value:"notUsed",filterValue:"warn"},{title:Qe.FILTER_TITLE.USED,value:"used",filterValue:"ok"},{title:Qe.FILTER_TITLE.UNKNOWN,value:"unknown",filterValue:"n/a"}],Kt=[{title:Qe.FILTER_TITLE.ALL,value:"all",filterValue:""},{title:Qe.FILTER_TITLE.NOT_USED,value:"notUsed",filterValue:"warn"},{title:Qe.FILTER_TITLE.USED,value:"used",filterValue:"ok"},{title:Qe.FILTER_TITLE.UNKNOWN,value:"unknown",filterValue:"n/a"}],qt=[{title:Qe.FILTER_TITLE.ALL,value:"all",filterValue:""},{title:Qe.FILTER_TITLE.NOT_USED,value:"notUsed",filterValue:"warn"},{title:Qe.FILTER_TITLE.USED,value:"used",filterValue:"ok"},{title:Qe.FILTER_TITLE.UNKNOWN,value:"unknown",filterValue:"n/a"}],Qt=[{title:Qe.FILTER_TITLE.ALL,value:"all",filterValue:""},{title:Qe.FILTER_TITLE.NOT_USED,value:"notUsed",filterValue:"warn"},{title:Qe.FILTER_TITLE.USED,value:"used",filterValue:"ok"},{title:Qe.FILTER_TITLE.UNKNOWN,value:"unknown",filterValue:"n/a"}],Zt={on:{label:Qe.MODE.EXPERT,value:"expert"},off:{label:Qe.MODE.EASY,value:"easy"}},Xt=["ID","post_title","post_content","post_name","post_date","post_status","post_type","option_id","option_name","autoload","meta_id","meta_key","post_id","object_id","term_order","term_taxonomy_id","comment_ID","comment_post_ID","comment_author","comment_date","user_id","meta_key"],$t=[{label:Qe.SETTINGS.SCHEDULE_5_MINUTES,value:"dbclnr_5mn"},{label:Qe.SETTINGS.SCHEDULE_10_MINUTES,value:"dbclnr_10mn"},{label:Qe.SETTINGS.SCHEDULE_30_MINUTES,value:"dbclnr_30mn"},{label:Qe.SETTINGS.SCHEDULE_HOURLY,value:"hourly"},{label:Qe.SETTINGS.SCHEDULE_TWICE_DAILY,value:"twicedaily"},{label:Qe.SETTINGS.SCHEDULE_DAILY,value:"daily"}],en=function(e,t,n){return e<t?"asc"===n?-1:1:e>t?"asc"===n?1:-1:0},tn=function(e,t,n){var r=Number(e),a=Number(t);return"asc"===n?a-r:r-a},nn=function(e,t,n){if(!t&&!n)return ht(e);switch(t){case"usedBy":return e.sort((function(e,t){return en(e.info.usedBy.toUpperCase(),t.info.usedBy.toUpperCase(),n)}));case"details":return e.sort((function(e,t){return en(e.name.toUpperCase(),t.name.toUpperCase(),n)}));case"table":return e.sort((function(e,t){return en(e.table.toUpperCase(),t.table.toUpperCase(),n)}));case"size":return e.sort((function(e,t){return e.hasOwnProperty("size")?tn(e.size,t.size,n):e.hasOwnProperty("option_value_length")?tn(e.option_value_length,t.option_value_length,n):0}));case"name":return e.sort((function(e,t){return e.hasOwnProperty("cron_name")?en(e.cron_name.toUpperCase(),t.cron_name.toUpperCase(),n):e.hasOwnProperty("option_name")?en(e.option_name.toUpperCase(),t.option_name.toUpperCase(),n):0}));case"autoloaded":return e.sort((function(e,t){return en(t.autoload,e.autoload,n)}))}return ht(e)},rn=function(e,t,n,r){var a,o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=ht(e);r&&(s=an(ht(s),"wordpress")),i&&(s=on(ht(s),i)),c.length&&(s=cn(ht(s),c));var u=null!==(a=null===(o=n.find((function(e){return e.value===t})))||void 0===o?void 0:o.filterValue)&&void 0!==a?a:"";return u?["yes","no"].includes(u)?s.filter((function(e){return e.autoload===u})):s.filter((function(e){var t;return(null===(t=e.info)||void 0===t?void 0:t.status)===u})):ht(s)},an=function(e,t){return e.filter((function(e){var n;return(null===(n=e.info)||void 0===n?void 0:n.usedBy.toLowerCase())!==t}))},on=function(e,t){return e.filter((function(e){return!(!e.hasOwnProperty("cron_name")||!e.cron_name.includes(t))||(!(!e.hasOwnProperty("table")||!e.table.includes(t))||(!(!e.hasOwnProperty("name")||!e.name.includes(t))||(!(!e.hasOwnProperty("option_name")||!e.option_name.includes(t))||e.info.usedBy.toLowerCase().includes(t.toLowerCase()))))}))},cn=function(e,t){return e.filter((function(e){return!(!e.hasOwnProperty("size")||!t.some((function(t){return ct(e.size)>=t})))||(!(!e.hasOwnProperty("option_value_length")||!t.some((function(t){return e.option_value_length>=t})))||!(!e.hasOwnProperty("meta_value_length")||!t.some((function(t){return e.meta_value_length>=t}))))}))},sn=Object.keys(L).map((function(e){return e.replace(/[^a-zA-Z0-9]+(.)/g,(function(e,t){return t.toUpperCase()}))})),un=function(e,t){return Object.keys(e).find((function(n){return e[n].some((function(e){return e.item===t}))}))},ln=function(e,t){var n,r;return null!==(n=null==e||null===(r=e.find((function(e){return void 0!==e.count&&Number(e.count)>0})))||void 0===r?void 0:r[t])&&void 0!==n?n:null},fn=function(e,t,n,r){var a=e.findIndex((function(e){return e[t]===n})),o=-1===a?ht(e):[].concat(ht(e.slice(a+1)),ht(e.slice(0,a)));return"prev"===r&&o.reverse(),ln(o,t)},pn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"next",r=un(t,e);if(!sn.includes(r))return fn(ht(t[r]),"item",e,n);var a=function(e,t){var n=sn.findIndex((function(t){return t===e})),r=[].concat(ht(sn.slice(n)),ht(sn.slice(0,n)));return"prev"===t&&r.reverse(),r}(r,n),o=void 0;return a.some((function(r){var a=fn(ht(t[r]),"item",e,n);return a&&(o=a),!!a})),o},mn=function(e){return e.replace(new RegExp("^".concat(v)),"")},hn=function(e){return"".concat(v).concat(e)},dn={Welcome:"Welcome",Tables:"Tables",WordPressCore:"WordPressCore",PostTypes:"PostTypes",Options:"Options",Settings:"Settings",Logs:"Logs",CustomQueries:"CustomQueries"},yn={Welcome:0,Tables:0,WordPressCore:0,PostTypes:0,Options:0,Settings:0,Logs:0},vn="posts",bn="postsMetadata",gn="users",En="comments",wn="transients",_n="listPostTypes",Tn="options",Sn="metadata",On={deleteAll:Qe.MODAL.DELETE_ALL,loadEntry:Qe.MODAL.DATA,usedBy:Qe.MODAL.USED_BY,optionValue:Qe.MODAL.OPTION_DATA,table:Qe.MODAL.TABLE,metadataValue:Qe.MODAL.METADATA,editCustomQuery:Qe.MODAL.EDIT_CUSTOM_QUERY},Ln=0,xn=0,Rn=0,An=0,Pn=0,Cn=0,kn={busy:!1,busyAction:[],busyBulkTasks:!1,busyCleanBulkTasks:!1,busyOptions:!1,busyCronJobs:!1,busyMetadata:!1,apiErrors:null,status:"",settingsOptions:x,clickedTab:yn,fileContent:"",agaThreshold:x.aga_threshold,bulkBatchSize:x.bulk_batch_size,deepDeletions:x.deep_deletions,mode:x.mode,postTypesUsedBy:x.post_type_usedby,optionsUsedBy:x.option_usedby,tablesUsedBy:x.table_usedby,cronJobsUsedBy:x.cron_usedby,metadataUsedBy:x.metadata_usedby,totalSizes:x.db_historical_sizes,hideMessage:x.hide_message,moduleDevTools:x.module_devtools,delay:x.delay,sweeperTasks:x.sweeper_tasks,sweeperEnabled:x.sweeper_enabled,sweeperSchedule:x.sweeper_schedule,modulePosttypes:x.module_posttypes,moduleTables:x.module_tables,moduleOptions:x.module_options,moduleMetadata:x.module_metadata,moduleCronjobs:x.module_cronjobs,moduleCustomequeries:x.module_customequeries,customQueries:x.custom_queries,customQueriesCount:[],editCustomQuery:null,dbSizes:[],previousTotalSize:x.previousTotalSize,totalSize:x.totalSize,listPostTypes:[],listPostTypesCount:[],posts:O.posts,postsCount:L.posts,postsMetadata:O.posts_metadata,postsMetadataCount:L.posts_metadata,users:O.users,usersCount:L.users,comments:O.comments,commentsCount:L.comments,transients:O.transients,transientsCount:L.transients,options:[],metadata:[],filteredOptions:[],filteredCronJobs:[],filteredListPostTypes:[],filteredTables:[],filteredMetadata:[],entries:[],entriesTableColumns:[],cronJobs:[],plugins:[],selectedUsedBy:{items:[],value:"unknown"},initialized:{PostTypes:!1},modals:{deleteAll:{enable:!1,title:On.deleteAll,onNext:function(){}},loadEntry:{enable:!1,title:On.loadEntry,onNext:function(){}},usedBy:{enable:!1,title:On.usedBy,onNext:function(){}},optionValue:{enable:!1,title:On.optionValue,onNext:function(){}},metadataValue:{enable:!1,title:On.metadataValue,onNext:function(){}},table:{enable:!1,title:On.table,onNext:function(){},data:{tableName:""}},editCustomQuery:{enable:!1,title:On.editCustomQuery,onNext:function(){}}},loadEntryItems:{},loadEntryItem:null,loadEntryPrevItem:null,loadEntryNextItem:null,loadEntryItemCount:0,loadEntryItemPage:1,loadEntryItemLimit:10,mutateDbSizes:(Pt=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Pt.apply(this,arguments)}),mutateListPostTypes:(At=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return At.apply(this,arguments)}),mutatePosts:(Rt=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Rt.apply(this,arguments)}),mutatePostsMetadata:(xt=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return xt.apply(this,arguments)}),mutateUsers:(Lt=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Lt.apply(this,arguments)}),mutateComments:(Ot=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Ot.apply(this,arguments)}),mutateTransients:(St=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return St.apply(this,arguments)}),mutateOptions:(Tt=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Tt.apply(this,arguments)}),mutateCronJobs:(_t=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return _t.apply(this,arguments)}),mutatePlugins:(wt=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return wt.apply(this,arguments)}),mutateMetadata:(Et=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Et.apply(this,arguments)}),shouldFetchOptions:!1,shouldFetchCronJobs:!1,shouldFetchMetadata:!1,optionsFilters:{page:1,limit:Number(x.options_limit),filterBy:"all",hideUsedByWordPress:!1,search:"",sort:"",accessor:"",size:[]},optionsTotal:{all:"-",yes:"-",no:"-"},cronJobsFilters:{page:1,limit:Number(x.cron_jobs_limit),filterBy:"all",hideUsedByWordPress:!1,search:"",sort:"",accessor:""},cronJobsTotal:{all:"-",yes:"-",no:"-"},tablesFilters:{page:1,limit:Number(x.db_historical_sizes_limit),filterBy:"all",hideUsedByWordPress:!1,search:"",sort:"",accessor:"",size:[]},tablesTotal:{active:"-",inactive:"-",unknown:"-"},listPostTypesFilters:{page:1,limit:Number(x.list_post_types_limit),filterBy:"all",hideUsedByWordPress:!1,search:"",sort:"",accessor:""},listPostTypesTotal:{all:"-",yes:"-",no:"-"},metadataFilters:{page:1,limit:Number(x.metadata_limit),filterBy:"all",hideUsedByWordPress:!1,search:"",sort:"",accessor:"",table:Object.values(R)[0],size:[],name:""},metadataTotal:{all:"-",notUsed:"-",used:"-",unknown:"-"}},Nn="SETTINGS_UPDATED",In="DB_SIZES_UPDATED",Bn="LIST_POST_TYPES_UPDATED",Un="LIST_POST_TYPES_COUNT_UPDATED",jn="POSTS_UPDATED",Dn="POSTS_COUNT_UPDATED",Mn="POSTS_METADATA_UPDATED",Fn="POSTS_METADATA_COUNT_UPDATED",Gn="USERS_UPDATED",zn="USERS_COUNT_UPDATED",Yn="COMMENTS_UPDATED",Wn="COMMENTS_COUNT_UPDATED",Vn="TRANSIENTS_UPDATED",Hn="TRANSIENTS_COUNT_UPDATED",Jn="OPTIONS_UPDATED",Kn="METADATA_UPDATED",qn="FILTERED_OPTIONS_UPDATED",Qn="FILTERED_CRON_JOBS_UPDATED",Zn="FILTERED_POST_TYPES_UPDATED",Xn="FILTERED_TABLES_UPDATED",$n="FILTERED_METADATA_UPDATED",er="CUSTOM_QUERIES_COUNT_UPDATED",tr="EDIT_CUSTOM_QUERY_UPDATED",nr="CLICKED_TAB_UPDATED",rr="FILE_CONTENT_UPDATED",ar="BUSY_ACTION_UPDATED",or="OPTIONS_FILTERS_UPDATED",ir="OPTIONS_TOTAL_UPDATED",cr="METADATA_FILTERS_UPDATED",sr="METADATA_TOTAL_UPDATED",ur="CRON_JOBS_FILTERS_UPDATED",lr="CRON_JOBS_TOTAL_UPDATED",fr="TABLES_FILTERS_UPDATED",pr="TABLES_TOTAL_UPDATED",mr="LIST_POST_TYPES_FILTERS_UPDATED",hr="LIST_POST_TYPES_TOTAL_UPDATED",dr="ENTRIES_UPDATED",yr="CRON_JOBS_UPDATED",vr="INITIALIZED_UPDATED",br="PLUGINS_UPDATED",gr="SELECTED_USEDBY_UPDATED",Er="TOGGLE_MODAL",wr="PUSH_BUSY",_r="POP_BUSY",Tr="PUSH_BUSY_OPTIONS",Sr="POP_BUSY_OPTIONS",Or="PUSH_BUSY_CRON_JOBS",Lr="POP_BUSY_CRON_JOBS",xr="PUSH_BUSY_BULK_TASKS",Rr="POP_BUSY_BULK_TASKS",Ar="RESET_BUSY_BULK_TASKS",Pr="PUSH_BUSY_CLEAN_BULK_TASKS",Cr="POP_BUSY_CLEAN_BULK_TASKS",kr="PUSH_BUSY_METADATA",Nr="POP_BUSY_METADATA",Ir="ERROR_UPDATED",Br="SET_DB_SIZES_MUTATE",Ur="SET_LIST_POST_TYPES_MUTATE",jr="SET_POSTS_MUTATE",Dr="SET_POSTS_METADATA_MUTATE",Mr="SET_USERS_MUTATE",Fr="SET_COMMENTS_MUTATE",Gr="SET_TRANSIENTS_MUTATE",zr="SET_OPTIONS_MUTATE",Yr="SET_SHOULD_FETCH_OPTIONS",Wr="SET_SHOULD_FETCH_CRON_JOBS_OPTIONS",Vr="SET_SHOULD_FETCH_METADATA",Hr="SET_CRON_JOBS_MUTATE",Jr="SET_PLUGINS_MUTATE",Kr="SET_METADATA_MUTATE",qr="LOAD_ENTRY_ITEMS_UPDATED",Qr="LOAD_ENTRY_ITEMS_COUNT_UPDATED",Zr="LOAD_ENTRY_ITEM_UPDATED",Xr="LOAD_ENTRY_ITEM_COUNT_UPDATED",$r="LOAD_ENTRY_ITEM_PAGE_UPDATED",ea=function(e,t){switch(t.type){case Ir:var n=t.apiErrors;return bt(bt({},e),{},{apiErrors:n});case Br:var r=t.mutateDbSizes;return bt(bt({},e),{},{mutateDbSizes:r});case Ur:var o=t.mutateListPostTypes;return bt(bt({},e),{},{mutateListPostTypes:o});case jr:var i=t.mutatePosts;return bt(bt({},e),{},{mutatePosts:i});case Dr:var c=t.mutatePostsMetadata;return bt(bt({},e),{},{mutatePostsMetadata:c});case Mr:var s=t.mutateUsers;return bt(bt({},e),{},{mutateUsers:s});case Fr:var u=t.mutateComments;return bt(bt({},e),{},{mutateComments:u});case Gr:var l=t.mutateTransients;return bt(bt({},e),{},{mutateTransients:l});case zr:var f=t.mutateOptions;return bt(bt({},e),{},{mutateOptions:f});case Hr:var p=t.mutateCronJobs;return bt(bt({},e),{},{mutateCronJobs:p});case Jr:var m=t.mutatePlugins;return bt(bt({},e),{},{mutatePlugins:m});case Kr:var h=t.mutateMetadata;return bt(bt({},e),{},{mutateMetadata:h});case Yr:return bt(bt({},e),{},{shouldFetchOptions:!0});case Wr:return bt(bt({},e),{},{shouldFetchCronJobs:!0});case Vr:return bt(bt({},e),{},{shouldFetchMetadata:!0});case or:var d=t.optionsFilters;return bt(bt({},e),{},{optionsFilters:d});case ir:var y=t.options,v=t.search,b=t.size,g={};return Ht.forEach((function(e){var t=rn(y,e.value,Ht,!1,v,b),n=rn(y,e.value,Ht,!0,v,b);g[e.value]={false:t.length,true:n.length}})),bt(bt({},e),{},{optionsTotal:g});case cr:var E=t.metadataFilters;return bt(bt({},e),{},{metadataFilters:E});case sr:var w=t.metadata,_=t.total,T={};return Qt.forEach((function(e){if("all"!==e.value||-1===_){var t=rn(w,e.value,Qt,!1),n=rn(w,e.value,Qt,!0);T[e.value]={false:t.length,true:n.length}}else{var r=rn(w,e.value,Qt,!0);T[e.value]={false:_,true:r.length}}})),bt(bt({},e),{},{metadataTotal:T});case ur:var S=t.cronJobsFilters;return bt(bt({},e),{},{cronJobsFilters:S});case lr:var O=t.cronJobs,x=t.search,R={};return Jt.forEach((function(e){var t=rn(O,e.value,Jt,!1,x),n=rn(O,e.value,Jt,!0,x);R[e.value]={false:t.length,true:n.length}})),bt(bt({},e),{},{cronJobsTotal:R});case pr:var A=t.dbSizes,P=t.search,C=t.size,k={};return Kt.forEach((function(e){var t=rn(A,e.value,Kt,!1,P,C),n=rn(A,e.value,Kt,!0,P,C);k[e.value]={false:t.length,true:n.length}})),bt(bt({},e),{},{tablesTotal:k});case fr:var N=t.tablesFilters;return bt(bt({},e),{},{tablesFilters:N});case mr:var I=t.listPostTypesFilters;return bt(bt({},e),{},{listPostTypesFilters:I});case hr:var B=t.listPostTypes,U=t.search,j={};return qt.forEach((function(e){var t=rn(B,e.value,qt,!1,U),n=rn(B,e.value,qt,!0,U);j[e.value]={false:t.length,true:n.length}})),bt(bt({},e),{},{listPostTypesTotal:j});case Er:var D=t.modal,M=t.enable,F=t.onNext,G=t.title,z=t.data;if(void 0===e.modals[D])return alert((0,a.aS)(Qe.CONTEXT.MODAL_DOES_NOT_EXIST,D)),console.error((0,a.aS)(Qe.CONTEXT.MODAL_DOES_NOT_EXIST,D)),e;void 0===M&&(M=!e.modals[D].enable),void 0===G&&(G=On[D]),M||(G="");var Y=bt({},e);return Y.modals=bt({},Y.modals),Y.modals[D]={enable:M,onNext:F,title:G,data:z},Y;case wr:var W=t.status,V=void 0===W?"":W;return bt(bt({},e),{},{busy:++Ln>0,status:V});case _r:var H=t.status,J=void 0===H?"":H;return bt(bt({},e),{},{busy:--Ln>0,status:J});case Tr:return bt(bt({},e),{},{busyOptions:++An>0});case Sr:return bt(bt({},e),{},{busyOptions:--An>0});case Or:return bt(bt({},e),{},{busyCronJobs:++Pn>0});case Lr:return bt(bt({},e),{},{busyCronJobs:--Pn>0});case xr:return bt(bt({},e),{},{busyBulkTasks:++xn>0});case Rr:return bt(bt({},e),{},{busyBulkTasks:--xn>0});case Ar:return bt(bt({},e),{},{busyBulkTasks:0});case Pr:return bt(bt({},e),{},{busyCleanBulkTasks:++Rn>0});case Cr:return bt(bt({},e),{},{busyCleanBulkTasks:--Rn>0});case kr:return bt(bt({},e),{},{busyMetadata:++Cn>0});case Nr:return bt(bt({},e),{},{busyMetadata:--Cn>0});case"STATUS_UPDATED":var K=t.status,q=void 0===K?"":K;return bt(bt({},e),{},{status:q});case Nn:var Q=t.options,Z=Q.aga_threshold,X=Q.custom_queries,$=Q.bulk_batch_size,ee=Q.deep_deletions,te=Number(Q.options_limit),ne=Number(Q.cron_jobs_limit),re=Number(Q.db_historical_sizes_limit),ae=Number(Q.list_post_types_limit),oe=Number(Q.metadata_limit),ie=Q.post_type_usedby,ce=Q.option_usedby,se=Q.table_usedby,ue=Q.cron_usedby,le=Q.metadata_usedby,fe=Q.db_historical_sizes,pe=Q.mode,me=Q.hide_message,he=Q.module_devtools,de=Q.delay,ye=Q.sweeper_tasks,ve=Q.sweeper_enabled,be=Q.sweeper_schedule,ge=Q.module_posttypes,Ee=Q.module_tables,we=Q.module_options,_e=Q.module_metadata,Te=Q.module_cronjobs,Se=Q.module_customequeries,Oe=fe?fe[fe.length-1]:null,Le=null;(null==fe?void 0:fe.length)>1?Le=fe[fe.length-2]:(null==fe?void 0:fe.length)>0&&(Le=fe[fe.length-1]);var xe=bt(bt({},e.optionsFilters),{},{limit:te}),Re=bt(bt({},e.cronJobsFilters),{},{limit:ne}),Ae=bt(bt({},e.tablesFilters),{},{limit:re}),Pe=bt(bt({},e.listPostTypesFilters),{},{limit:ae}),Ce=bt(bt({},e.metadataFilters),{},{limit:oe});return bt(bt({},e),{},{settingsOptions:Q,optionsFilters:xe,cronJobsFilters:Re,tablesFilters:Ae,listPostTypesFilters:Pe,metadataFilters:Ce,agaThreshold:Z,customQueries:X,totalSizes:fe,bulkBatchSize:$,deepDeletions:ee,totalSize:Oe,previousTotalSize:Le,postTypesUsedBy:ie,optionsUsedBy:ce,tablesUsedBy:se,cronJobsUsedBy:ue,metadataUsedBy:le,mode:pe,hideMessage:me,moduleDevTools:he,delay:de,sweeperTasks:ye,sweeperEnabled:ve,sweeperSchedule:be,modulePosttypes:ge,moduleTables:Ee,moduleOptions:we,moduleMetadata:_e,moduleCronjobs:Te,moduleCustomequeries:Se});case In:var ke=t.dbSizes;return bt(bt({},e),{},{dbSizes:ke});case Bn:var Ne=t.listPostTypes;return bt(bt({},e),{},{listPostTypes:Ne});case Un:var Ie=t.listPostTypesCount;return bt(bt({},e),{},{listPostTypesCount:Ie});case jn:var Be=t.posts;return bt(bt({},e),{},{posts:Be});case Dn:var Ue=t.postsCount;return bt(bt({},e),{},{postsCount:Ue});case Mn:var je=t.postsMetadata;return bt(bt({},e),{},{postsMetadata:je});case Fn:var De=t.postsMetadataCount;return bt(bt({},e),{},{postsMetadataCount:De});case Gn:var Me=t.users;return bt(bt({},e),{},{users:Me});case zn:var Fe=t.usersCount;return bt(bt({},e),{},{usersCount:Fe});case Yn:var Ge=t.comments;return bt(bt({},e),{},{comments:Ge});case Wn:var ze=t.commentsCount;return bt(bt({},e),{},{commentsCount:ze});case Vn:var Ye=t.transients;return bt(bt({},e),{},{transients:Ye});case Hn:var We=t.transientsCount;return bt(bt({},e),{},{transientsCount:We});case Jn:var Ve=t.options;return bt(bt({},e),{},{options:Ve});case Kn:var He=t.metadata;return bt(bt({},e),{},{metadata:He});case qn:var Je=t.options,Ke=t.filterBy,qe=t.limit,Ze=t.page,Xe=t.hideUsedByWordPress,$e=t.search,et=t.accessor,tt=t.sort,nt=t.size,rt=["cron"],at=nn(Je,et,tt).filter((function(e){return!rt.includes(e.option_name)})),it=st(rn(at,Ke,Ht,Xe,$e,nt),Ze,qe);return bt(bt({},e),{},{filteredOptions:it});case Qn:var ct=t.cronJobs,ut=t.filterBy,lt=t.limit,ft=t.page,pt=t.hideUsedByWordPress,mt=t.search,dt=t.accessor,yt=t.sort,vt=nn(ct,dt,yt),Et=st(rn(vt,ut,Jt,pt,mt),ft,lt);return bt(bt({},e),{},{filteredCronJobs:Et});case Zn:var wt=t.listPostTypes,_t=t.filterBy,Tt=t.limit,St=t.page,Ot=t.hideUsedByWordPress,Lt=t.search,xt=t.accessor,Rt=t.sort,At=nn(wt,xt,Rt),Pt=st(rn(At,_t,qt,Ot,Lt),St,Tt);return bt(bt({},e),{},{filteredListPostTypes:Pt});case Xn:var Ct=t.dbSizes,kt=t.filterBy,Nt=t.limit,It=t.page,Bt=t.hideUsedByWordPress,Ut=t.search,jt=t.accessor,Dt=t.sort,Mt=t.size,Ft=nn(Ct,jt,Dt),Gt=st(rn(Ft,kt,Kt,Bt,Ut,Mt),It,Nt).map((function(e){return bt(bt({},e),{},{tableName:mn(e.table)})}));return bt(bt({},e),{},{filteredTables:Gt});case $n:var zt=t.metadata;t.filterBy,t.limit,t.page,t.hideUsedByWordPress,t.accessor,t.sort;return bt(bt({},e),{},{filteredMetadata:zt});case er:var Yt=t.customQueriesCount;return bt(bt({},e),{},{customQueriesCount:Yt});case tr:var Wt=t.editCustomQuery;return bt(bt({},e),{},{editCustomQuery:Wt});case nr:var Vt=t.clickedTab;return bt(bt({},e),{},{clickedTab:Vt});case rr:var Zt=t.fileContent;return bt(bt({},e),{},{fileContent:Zt});case ar:var $t=t.busyAction;return bt(bt({},e),{},{busyAction:$t});case dr:var en=t.entries,tn=en.length?Object.keys(en.at(0)).filter((function(e){return Xt.includes(e)})).map((function(e){var t=e.replace(/_/g," ");return{accessor:e,title:t.replace(/^post/,"").replace(/\w\S*/g,(function(e){return e.replace(/^\w/,(function(e){return e.toUpperCase()}))})),sortable:!1,style:{width:"auto",maxWidth:"400px",minWidth:"50px"}}})):{};return bt(bt({},e),{},{entries:en,entriesTableColumns:tn});case yr:var an=t.cronJobs;return bt(bt({},e),{},{cronJobs:an});case vr:var on=t.tab,cn=t.value,un=bt({},e.initialized);return un[on]=cn,bt(bt({},e),{},{initialized:un});case br:var ln=t.plugins;return bt(bt({},e),{},{plugins:ln});case gr:var fn=t.selectedUsedBy;return bt(bt({},e),{},{selectedUsedBy:fn});case qr:var hn=t.key,dn=t.data,yn=t.itemKey,vn=void 0===yn?"item":yn,bn=![].concat(ht(sn),[_n]).includes(hn)||void 0,gn=hn.replace(/[A-Z]/g,(function(e){return"_".concat(e.toLowerCase())})),En=L.hasOwnProperty(gn)?L[gn]:[],wn=ot(dn).map((function(e){var t,n;return{item:e[vn],count:null!==(t=null===(n=En.find((function(t){return t.item===e[vn]})))||void 0===n?void 0:n.count)&&void 0!==t?t:bn}}));return bt(bt({},e),{},{loadEntryItems:bt(bt({},e.loadEntryItems),{},gt({},hn,wn))});case Qr:var Tn=t.item,Sn=t.count,kn=Object.keys(e.loadEntryItems).find((function(t){return e.loadEntryItems[t].some((function(e){return e.item===Tn}))}));if(!kn)return bt({},e);var ea=e.loadEntryItems[kn].map((function(e){return e.item===Tn?bt(bt({},e),{},{count:Sn}):e}));return bt(bt({},e),{},{loadEntryItems:bt(bt({},e.loadEntryItems),{},gt({},kn,ea))});case Zr:var ta=t.loadEntryItem,na=null==ta?void 0:ta.currentItem,ra=na?pn(na,e.loadEntryItems,"prev"):null,aa=na?pn(na,e.loadEntryItems,"next"):null;return bt(bt({},e),{},{loadEntryItem:ta,loadEntryPrevItem:ra,loadEntryNextItem:aa});case Xr:var oa=t.count;return bt(bt({},e),{},{loadEntryItemCount:oa});case $r:var ia=t.page;return bt(bt({},e),{},{loadEntryItemPage:ia});default:return e}},ta=(0,Ze.createContext)(),na=function(e){var t=e.children,n=lt((0,Ze.useReducer)(ea,kn),2),o=n[0],i=n[1],c=o.tablesFilters,s=(0,Ze.useMemo)((function(){return["".concat(E,"/db_sizes/"),{headers:{"X-WP-Nonce":S}}]}),[E,S]),u=(0,r.ZP)(s,a.SG),l=u.data,f=u.mutate,p=(0,ke.Fq)(l,[],!0),m=p.busy,h=p.data,d=p.error;(0,Ze.useEffect)((function(){i({type:Br,mutateDbSizes:f})}),[f]),(0,Ze.useEffect)((function(){i({type:m?wr:_r})}),[m]),(0,Ze.useEffect)((function(){i({type:In,dbSizes:h})}),[h]),(0,Ze.useEffect)((function(){i({type:pr,dbSizes:h,search:c.search,size:c.size})}),[h,c.search,c.size]),(0,Ze.useEffect)((function(){i({type:Ir,apiError:d})}),[d]),(0,Ze.useEffect)((function(){i({type:Xn,dbSizes:h,filterBy:c.filterBy,limit:c.limit,page:c.page,hideUsedByWordPress:c.hideUsedByWordPress,search:c.search,accessor:c.accessor,sort:c.sort,size:c.size})}),[h,c.filterBy,c.page,c.limit,c.hideUsedByWordPress,c.search,c.accessor,c.sort,c.size]);var y=o.listPostTypesFilters,v=(0,Ze.useMemo)((function(){return["".concat(E,"/list_post_types/"),{headers:{"X-WP-Nonce":S}}]}),[E,S]),b=(0,r.ZP)(v,a.SG),g=b.data,w=b.mutate,_=(0,ke.Fq)(g,[],!0),T=_.busy,O=_.data,L=_.error;(0,Ze.useEffect)((function(){i({type:Ur,mutateListPostTypes:w})}),[w]),(0,Ze.useEffect)((function(){i({type:T?wr:_r})}),[T]),(0,Ze.useEffect)((function(){i({type:Bn,listPostTypes:O})}),[O]),(0,Ze.useEffect)((function(){i({type:qr,key:_n,data:O})}),[O]),(0,Ze.useEffect)((function(){i({type:hr,listPostTypes:O,search:y.search})}),[O,y.search]),(0,Ze.useEffect)((function(){i({type:Ir,apiError:L})}),[L]),(0,Ze.useEffect)((function(){i({type:Zn,listPostTypes:O,filterBy:y.filterBy,limit:y.limit,page:y.page,hideUsedByWordPress:y.hideUsedByWordPress,search:y.search,accessor:y.accessor,sort:y.sort})}),[O,y.filterBy,y.page,y.limit,y.hideUsedByWordPress,y.search,y.accessor,y.sort]);var x=(0,Ze.useMemo)((function(){return["".concat(E,"/posts/"),{headers:{"X-WP-Nonce":S}}]}),[E,S]),R=(0,r.ZP)(x,a.SG),A=R.data,P=R.mutate,C=(0,ke.Fq)(A,[],!0),k=C.data,N=C.error;(0,Ze.useEffect)((function(){i({type:jr,mutatePosts:P})}),[P]),(0,Ze.useEffect)((function(){i({type:jn,posts:k})}),[k]),(0,Ze.useEffect)((function(){i({type:qr,key:vn,data:k})}),[k]),(0,Ze.useEffect)((function(){i({type:Ir,apiError:N})}),[N]);var I=(0,Ze.useMemo)((function(){return["".concat(E,"/posts_metadata/"),{headers:{"X-WP-Nonce":S}}]}),[E,S]),B=(0,r.ZP)(I,a.SG),U=B.data,j=B.mutate,D=(0,ke.Fq)(U,[],!0),M=D.data,F=D.error;(0,Ze.useEffect)((function(){i({type:Dr,mutatePostsMetadata:j})}),[j]),(0,Ze.useEffect)((function(){i({type:Mn,postsMetadata:M})}),[M]),(0,Ze.useEffect)((function(){i({type:qr,key:bn,data:M})}),[M]),(0,Ze.useEffect)((function(){i({type:Ir,apiError:F})}),[F]);var G=(0,Ze.useMemo)((function(){return["".concat(E,"/users/"),{headers:{"X-WP-Nonce":S}}]}),[E,S]),z=(0,r.ZP)(G,a.SG),Y=z.data,W=z.mutate,V=(0,ke.Fq)(Y,[],!0),H=V.data,J=V.error;(0,Ze.useEffect)((function(){i({type:Mr,mutateUsers:W})}),[W]),(0,Ze.useEffect)((function(){i({type:Gn,users:H})}),[H]),(0,Ze.useEffect)((function(){i({type:qr,key:gn,data:H})}),[H]),(0,Ze.useEffect)((function(){i({type:Ir,apiError:J})}),[J]);var K=(0,Ze.useMemo)((function(){return["".concat(E,"/comments/"),{headers:{"X-WP-Nonce":S}}]}),[E,S]),q=(0,r.ZP)(K,a.SG),Q=q.data,Z=q.mutate,X=(0,ke.Fq)(Q,[],!0),$=X.data,ee=X.error;(0,Ze.useEffect)((function(){i({type:Fr,mutateComments:Z})}),[Z]),(0,Ze.useEffect)((function(){i({type:Yn,comments:$})}),[$]),(0,Ze.useEffect)((function(){i({type:qr,key:En,data:$})}),[$]),(0,Ze.useEffect)((function(){i({type:Ir,apiError:ee})}),[ee]);var te=(0,Ze.useMemo)((function(){return["".concat(E,"/transients/"),{headers:{"X-WP-Nonce":S}}]}),[E,S]),ne=(0,r.ZP)(te,a.SG),re=ne.data,ae=ne.mutate,oe=(0,ke.Fq)(re,[],!0),ie=oe.data,ce=oe.error;(0,Ze.useEffect)((function(){i({type:Gr,mutateTransients:ae})}),[ae]),(0,Ze.useEffect)((function(){i({type:Vn,transients:ie})}),[ie]),(0,Ze.useEffect)((function(){i({type:qr,key:wn,data:ie})}),[ie]),(0,Ze.useEffect)((function(){i({type:Ir,apiError:ce})}),[ce]);var se=o.optionsFilters,ue=(0,Ze.useMemo)((function(){return o.shouldFetchOptions?["".concat(E,"/options/"),{headers:{"X-WP-Nonce":S}}]:null}),[E,S,o.shouldFetchOptions]),le=(0,r.ZP)(ue,a.SG),fe=le.data,pe=le.mutate,me=(0,ke.Fq)(fe,[],!0),he=me.busy,de=me.data,ye=me.error;(0,Ze.useEffect)((function(){i({type:zr,mutateOptions:pe})}),[pe]),(0,Ze.useEffect)((function(){i({type:he?Tr:Sr})}),[he]),(0,Ze.useEffect)((function(){i({type:Jn,options:de})}),[de]),(0,Ze.useEffect)((function(){i({type:qr,key:Tn,data:de,itemKey:"option_name"})}),[de]),(0,Ze.useEffect)((function(){i({type:ir,options:de,search:se.search,size:se.size})}),[de,se.search,se.size]),(0,Ze.useEffect)((function(){i({type:qn,options:de,filterBy:se.filterBy,limit:se.limit,page:se.page,hideUsedByWordPress:se.hideUsedByWordPress,search:se.search,accessor:se.accessor,sort:se.sort,size:se.size})}),[de,se.filterBy,se.page,se.limit,se.hideUsedByWordPress,se.search,se.accessor,se.sort,se.size]),(0,Ze.useEffect)((function(){i({type:Ir,apiError:ye})}),[ye]);var ve=o.metadataFilters,be=(0,Ze.useMemo)((function(){return o.shouldFetchMetadata?[(0,a.Ln)("".concat(E,"/metadata/"),{table:ve.table,limit:ve.limit,skip:(ve.page-1)*ve.limit,orderBy:ve.accessor,order:ve.sort,search:Array.from(new Set([ve.search,ve.name])).filter(Boolean),size:ve.size}),{headers:{"X-WP-Nonce":S}}]:null}),[E,S,o.shouldFetchMetadata,ve.table,ve.limit,ve.page,ve.accessor,ve.sort,ve.search,ve.name,ve.size]),ge=(0,r.ZP)(be,a.SG),Ee=ge.data,we=ge.mutate,_e=(0,ke.Fq)(Ee,[],!0),Te=_e.busy,Se=_e.data,Oe=_e.total,Le=_e.error;(0,Ze.useEffect)((function(){i({type:Kr,mutateMetadata:we})}),[we]),(0,Ze.useEffect)((function(){i({type:Te?kr:Nr})}),[Te]),(0,Ze.useEffect)((function(){i({type:Kn,metadata:Se})}),[Se]),(0,Ze.useEffect)((function(){i({type:qr,key:Sn,data:Se,itemKey:"meta_id"})}),[Se]),(0,Ze.useEffect)((function(){i({type:sr,metadata:Se,total:Oe})}),[Se,Oe]),(0,Ze.useEffect)((function(){i({type:$n,metadata:Se,filterBy:ve.filterBy,limit:ve.limit,page:ve.page,hideUsedByWordPress:ve.hideUsedByWordPress,accessor:ve.accessor,sort:ve.sort})}),[Se,ve.filterBy,ve.page,ve.limit,ve.hideUsedByWordPress,ve.accessor,ve.sort]),(0,Ze.useEffect)((function(){i({type:Ir,apiError:Le})}),[Le]);var xe=o.cronJobsFilters,Re=(0,Ze.useMemo)((function(){return o.shouldFetchCronJobs?["".concat(E,"/cron_jobs/"),{headers:{"X-WP-Nonce":S}}]:null}),[E,S,o.shouldFetchCronJobs]),Ae=(0,r.ZP)(Re,a.SG),Pe=Ae.data,Ce=Ae.mutate,Ne=(0,ke.Fq)(Pe,[],!0),Ie=Ne.busy,Be=Ne.data,Ue=(Ne.total,Ne.error);(0,Ze.useEffect)((function(){i({type:Hr,mutateCronJobs:Ce})}),[Ce]),(0,Ze.useEffect)((function(){i({type:Ie?Or:Lr})}),[Ie]),(0,Ze.useEffect)((function(){i({type:yr,cronJobs:Be})}),[Be]),(0,Ze.useEffect)((function(){i({type:lr,cronJobs:Be,search:xe.search})}),[Be,xe.search]),(0,Ze.useEffect)((function(){i({type:Qn,cronJobs:Be,filterBy:xe.filterBy,limit:xe.limit,page:xe.page,hideUsedByWordPress:xe.hideUsedByWordPress,search:xe.search,accessor:xe.accessor,sort:xe.sort})}),[Be,xe.filterBy,xe.page,xe.limit,xe.hideUsedByWordPress,xe.search,xe.accessor,xe.sort]),(0,Ze.useEffect)((function(){i({type:Ir,apiError:Ue})}),[Ue]);var je=(0,Ze.useMemo)((function(){return["".concat(E,"/plugins/"),{headers:{"X-WP-Nonce":S}}]}),[E,S]),De=(0,r.ZP)(je,a.SG),Me=De.data,Fe=De.mutate,Ge=(0,ke.Fq)(Me,[],!0),ze=Ge.busy,Ye=Ge.data,We=Ge.error;return(0,Ze.useEffect)((function(){i({type:Jr,mutatePlugins:Fe})}),[Fe]),(0,Ze.useEffect)((function(){i({type:ze?wr:_r})}),[ze]),(0,Ze.useEffect)((function(){i({type:br,plugins:Ye})}),[Ye]),(0,Ze.useEffect)((function(){i({type:Ir,apiError:We})}),[We]),React.createElement(ta.Provider,{value:[o,i]},t)};const ra=function(){var e={},t=lt((0,Ze.useContext)(ta),2),n=t[0],r=t[1];return e.updateOption=function(){var e=mt(ft().mark((function e(t){var o,i,c,s,u,l;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.busyItem,i=t.param,c=t.onSuccess,s=t.onFailure,o&&r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:o}])}),u=bt(bt({},n.settingsOptions),{},gt({},i.name,i.value)),e.prev=3,e.next=6,(0,a.PV)("".concat(E,"/update_options"),{json:{options:u},nonce:S,method:"POST"});case 6:(l=e.sent).success&&(r({type:Nn,options:l.options}),c&&c()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0.message&&alert(e.t0.message),s(e.t0);case 14:return e.prev=14,o&&r({type:ar,busyAction:n.busyAction.filter((function(e){return e.item!==o}))}),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),e.resetOptions=mt(ft().mark((function t(){var n;return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:wr}),t.prev=1,t.next=4,(0,a.PV)("".concat(E,"/reset_options"),{nonce:S,method:"POST"});case 4:if(!(n=t.sent).success){t.next=9;break}return r({type:Nn,options:n.data}),t.next=9,e.mutateResetAll();case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),t.t0.message&&alert(t.t0.message);case 14:r({type:_r});case 15:case"end":return t.stop()}}),t,null,[[1,11]])}))),e.performNextTask=mt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:wr}),e.prev=1,e.next=4,(0,a.PV)("".concat(E,"/run_sweeper"),{nonce:S,method:"POST"});case 4:(t=e.sent).success||alert(t.message),r({type:Nn,options:t.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.message&&alert(e.t0.message);case 12:r({type:_r});case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),e.resetTasks=mt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:wr}),e.prev=1,e.next=4,(0,a.PV)("".concat(E,"/run_sweeper_reset"),{nonce:S,method:"POST"});case 4:(t=e.sent).success||alert(t.message),r({type:Nn,options:t.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.message&&alert(e.t0.message);case 12:r({type:_r});case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),e.mutateResetAll=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.mutateDbSizes();case 2:return e.next=4,n.mutatePosts();case 4:return e.next=6,n.mutatePostsMetadata();case 6:return e.next=8,n.mutateUsers();case 8:return e.next=10,n.mutateComments();case 10:return e.next=12,n.mutateListPostTypes();case 12:return e.next=14,n.mutateTransients();case 14:return e.next=16,n.mutateOptions();case 16:r({type:Un,listPostTypesCount:[]}),r({type:Dn,postsCount:[]}),r({type:Fn,postsCount:[]}),r({type:zn,usersCount:[]}),r({type:Wn,commentsCount:[]}),r({type:Hn,transientsCount:[]}),r({type:er,customQueriesCount:[]}),r({type:tr,editCustomQuery:null}),r({type:nr,clickedTab:yn});case 25:case"end":return e.stop()}}),e)}))),e.deleteEntries=function(){var e=mt(ft().mark((function e(t){var n,r,o,i,c,s;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.item,r=t.isAutoClean,o=void 0!==r&&r,i=t.onSuccess,c=t.signal,e.prev=1,e.next=4,(0,a.PV)("".concat(E,"/delete_entries"),{json:{item:n,is_auto_clean:o},signal:c,nonce:S,method:"POST"});case 4:return(s=e.sent).success&&i&&i(),e.abrupt("return",s);case 9:e.prev=9,e.t0=e.catch(1),e.t0.message&&alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),e.getEntries=function(){var e=mt(ft().mark((function e(t){var o,i,c,s,u,l,f;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,i=t.offset,c=void 0===i?0:i,s=new AbortController,u=s.signal,l=(0,a.Ln)("".concat(E,"/entries/"),{item:o,offset:c}),r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:"loading_".concat(o)}])}),e.prev=5,e.next=8,(0,a.wY)(l,null,u,S);case 8:if((f=e.sent).success){e.next=12;break}return f.message&&alert(f.message),e.abrupt("return");case 12:return e.next=14,r({type:dr,entries:f.data});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 19:return e.prev=19,r({type:ar,busyAction:n.busyAction.filter((function(e){return e.item!=="loading_".concat(o)}))}),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}(),e.getOptionValue=function(){var e=mt(ft().mark((function e(t){var o,i,c,s,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.optionName,i=new AbortController,c=i.signal,s=(0,a.Ln)("".concat(E,"/option_value/"),{option_name:o}),r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:"loading_".concat(o)}])}),e.prev=5,e.next=8,(0,a.wY)(s,null,c,S);case 8:if((u=e.sent).success){e.next=12;break}return u.message&&alert(u.message),e.abrupt("return");case 12:r({type:dr,entries:u.data}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 18:return e.prev=18,r({type:ar,busyAction:n.busyAction.filter((function(e){return e.item!=="loading_".concat(o)}))}),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),e.customQueryDelete=function(){var e=mt(ft().mark((function e(t){var n,r,o,i,c,s,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.item,r=t.query,o=t.onSuccess,i=t.onFailure,c=t.signal,e.prev=1,e.next=4,(0,a.PV)("".concat(E,"/custom_query_delete"),{json:{item:n,query:r},signal:c,nonce:S,method:"POST"});case 4:if((s=e.sent).success||!s.message){e.next=9;break}throw new Error(s.message);case 9:o&&o(n,s);case 10:return e.abrupt("return",s);case 14:e.prev=14,e.t0=e.catch(1),i?i(null!==(u=e.t0.message)&&void 0!==u?u:""):e.t0.message&&alert(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),e.refreshCostomQueryCount=function(){var e=mt(ft().mark((function e(t){var o,i,c,s,u,l;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,i=t.query,c=t.onSuccess,s=t.onFailure,r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:Ct(o)}])}),e.prev=2,e.next=5,(0,a.PV)("".concat(E,"/custom_query_count"),{json:{item:o,query:i},nonce:S,method:"POST"});case 5:if((u=e.sent).success){e.next=8;break}throw new Error(u.message);case 8:c&&c(o,u),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),s?s(null!==(l=e.t0.message)&&void 0!==l?l:""):e.t0.message&&alert(e.t0.message);case 14:return e.prev=14,r({type:ar,busyAction:n.busyAction.filter((function(e){return e.item!==Ct(o)}))}),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),e.allRefreshCostomQueryCount=function(){var e=mt(ft().mark((function e(t){var o,i,c,s,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,i=t.onSuccess,c=t.counts,s=ht(c),r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:Ct(o)}])}),e.prev=3,e.next=6,(0,a.PV)("".concat(E,"/custom_query_count"),{json:{item:o},nonce:S,method:"POST"});case 6:if((u=e.sent).success){e.next=10;break}return u.message&&alert(u.message),e.abrupt("return");case 10:s=[].concat(ht(c.filter((function(e){return e.item!==o}))),[{item:o,count:u.data}]),i(s),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),e.t0.message&&alert(e.t0.message);case 17:return e.prev=17,r({type:ar,busyAction:n.busyAction.filter((function(e){return e.item!==Ct(o)}))}),e.finish(17);case 20:return e.abrupt("return",s);case 21:case"end":return e.stop()}}),e,null,[[3,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),e.loadEntryCount=function(){var e=mt(ft().mark((function e(t){var n,o,i,c,s,u,l,f;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.item,o=t.onSuccess,i=t.avoidUpdateState,c=void 0!==i&&i,s=new AbortController,u=s.signal,l=(0,a.Ln)("".concat(E,"/entry_count/"),{item:n}),e.prev=4,e.next=7,(0,a.wY)(l,null,u,S);case 7:if((f=e.sent).success){e.next=11;break}return f.message&&alert(f.message),e.abrupt("return");case 11:return o&&o(n,f),c&&r({type:Qr,item:n,count:f.data}),e.abrupt("return",f.data);case 16:e.prev=16,e.t0=e.catch(4),e.t0.message&&alert(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}(),e.refreshEntryCount=function(){var e=mt(ft().mark((function e(t){var o,i,c,s,u,l,f,p;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.busyItem,i=t.item,c=t.onSuccess,s=new AbortController,u=s.signal,l=(0,a.Ln)("".concat(E,"/entry_count/"),{item:i}),f=null!=o?o:Ct(i),r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:f}])}),e.prev=6,e.next=9,(0,a.wY)(l,null,u,S);case 9:if((p=e.sent).success){e.next=13;break}return p.message&&alert(p.message),e.abrupt("return");case 13:c&&c(i,p),r({type:Qr,item:i,count:p.data}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),e.t0.message&&alert(e.t0.message);case 20:return e.prev=20,r({type:ar,busyAction:n.busyAction.filter((function(e){return e.item!==f}))}),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[6,17,20,23]])})));return function(t){return e.apply(this,arguments)}}(),e.allRefreshEntryCount=function(){var e=mt(ft().mark((function e(t){var o,i,c,s,u,l,f,p;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,i=t.onSuccess,c=t.counts,s=new AbortController,u=s.signal,l=(0,a.Ln)("".concat(E,"/entry_count/"),{item:o}),f=ht(c),r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:Ct(o)}])}),e.prev=6,e.next=9,(0,a.wY)(l,null,u,S);case 9:if((p=e.sent).success){e.next=13;break}return p.message&&alert(p.message),e.abrupt("return");case 13:f=[].concat(ht(c.filter((function(e){return e.item!==o}))),[{item:o,count:p.data}]),r({type:Qr,item:o,count:p.data}),i(f),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),e.t0.message&&alert(e.t0.message);case 21:return e.prev=21,r({type:ar,busyAction:n.busyAction.filter((function(e){return e.item!==Ct(o)}))}),e.abrupt("return",f);case 25:case"end":return e.stop()}}),e,null,[[6,18,21,25]])})));return function(t){return e.apply(this,arguments)}}(),e.deleteOption=function(){var e=mt(ft().mark((function e(t){var o,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:o}])}),e.prev=2,e.next=5,(0,a.PV)("".concat(E,"/delete_options"),{json:{item:o},nonce:S,method:"POST"});case 5:if((i=e.sent).success){e.next=9;break}return i.message&&alert(i.message),e.abrupt("return");case 9:return e.next=11,rt(n.delay);case 11:n.mutateOptions(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),e.t0.message&&alert(e.t0.message);case 17:return e.prev=17,r({type:ar,busyAction:n.busyAction.filter((function(e){return e.item!==o}))}),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),e.deleteOptions=function(){var e=mt(ft().mark((function e(t){var o,i,c,s,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.items,i=o.map((function(e){return{item:e}})),c=ht(n.busyAction),r({type:ar,busyAction:[].concat(ht(n.busyAction),ht(i))}),s=[],e.prev=5,e.next=8,(0,a.PV)("".concat(E,"/delete_options"),{json:{items:o},nonce:S,method:"POST"});case 8:return(u=e.sent).success||(u.message&&alert(u.message),s=u.data?ht(u.data):[]),e.next=12,rt(n.delay);case 12:n.mutateOptions(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 18:return r({type:ar,busyAction:ht(c)}),e.abrupt("return",s);case 20:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),e.switchAutoloadedOption=function(){var e=mt(ft().mark((function e(t){var o,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,i=t.autoload,r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:o}])}),e.prev=2,e.next=5,(0,a.PV)("".concat(E,"/switch_autoloaded_option"),{json:{item:o,autoload:i},nonce:S,method:"POST"});case 5:if(e.sent.success){e.next=8;break}return e.abrupt("return");case 8:n.mutateOptions(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),e.t0.message&&alert(e.t0.message);case 14:return e.prev=14,r({type:ar,busyAction:n.busyAction.filter((function(e){return e.item!==o}))}),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),e.deleteCron=function(){var e=mt(ft().mark((function e(t){var o,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:o.name}])}),e.prev=2,e.next=5,(0,a.PV)("".concat(E,"/delete_crons"),{json:{item:o},nonce:S,method:"POST"});case 5:if((i=e.sent).success){e.next=9;break}return i.message&&alert(i.message),e.abrupt("return");case 9:return e.next=11,rt(n.delay);case 11:n.mutateCronJobs(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),e.t0.message&&alert(e.t0.message);case 17:return e.prev=17,r({type:ar,busyAction:n.busyAction.filter((function(e){return e.item!==o}))}),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),e.deleteCrons=function(){var e=mt(ft().mark((function e(t){var o,i,c,s,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.items,i=o.map((function(e){return{item:e.name}})),c=ht(n.busyAction),r({type:ar,busyAction:[].concat(ht(n.busyAction),ht(i))}),s=[],e.prev=5,e.next=8,(0,a.PV)("".concat(E,"/delete_crons"),{json:{items:o},nonce:S,method:"POST"});case 8:return(u=e.sent).success||(u.message&&alert(u.message),s=ht(u.data)),e.next=12,rt(n.delay);case 12:n.mutateCronJobs(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 18:return r({type:ar,busyAction:ht(c)}),e.abrupt("return",s);case 20:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),e.getMetadataValue=function(){var e=mt(ft().mark((function e(t){var o,i,c,s,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.id,i=new AbortController,c=i.signal,s=(0,a.Ln)("".concat(E,"/metadata_value/"),{id:o,table:n.metadataFilters.table}),r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:"loading_".concat(o)}])}),e.prev=5,e.next=8,(0,a.wY)(s,null,c,S);case 8:if((u=e.sent).success){e.next=12;break}return u.message&&alert(u.message),e.abrupt("return");case 12:r({type:dr,entries:u.data}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 18:return e.prev=18,r({type:ar,busyAction:n.busyAction.filter((function(e){return e.item!=="loading_".concat(o)}))}),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),e.deleteMetadata=function(){var e=mt(ft().mark((function e(t){var o,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:o}])}),e.prev=2,e.next=5,(0,a.PV)("".concat(E,"/delete_metadata"),{json:{item:o,table:n.metadataFilters.table},nonce:S,method:"POST"});case 5:if((i=e.sent).success){e.next=9;break}return i.message&&alert(i.message),e.abrupt("return");case 9:return e.next=11,rt(n.delay);case 11:n.mutateMetadata(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),e.t0.message&&alert(e.t0.message);case 17:return e.prev=17,r({type:ar,busyAction:n.busyAction.filter((function(e){return e.item!==o}))}),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),e.deleteMultipleMetadata=function(){var e=mt(ft().mark((function e(t){var o,i,c,s,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.items,i=o.map((function(e){return{item:e}})),c=ht(n.busyAction),r({type:ar,busyAction:[].concat(ht(n.busyAction),ht(i))}),s=[],e.prev=5,e.next=8,(0,a.PV)("".concat(E,"/delete_metadata"),{json:{items:o,table:n.metadataFilters.table},nonce:S,method:"POST"});case 8:return(u=e.sent).success||(u.message&&alert(u.message),s=u.data?ht(u.data):[]),e.next=12,rt(n.delay);case 12:n.mutateMetadata(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 18:return r({type:ar,busyAction:ht(c)}),e.abrupt("return",s);case 20:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),e.updateClickedTabByIndex=function(e){var t=bt({},n.clickedTab),a=e.replace(/\s+/g,""),o=n.clickedTab[dn[a]]+1;t[dn[a]]=o>1?2:o,r({type:nr,clickedTab:t})},e.updateClickedTabByTitle=function(e){var t=bt({},n.clickedTab);t[e.replace(/\s+/g,"")]=1,r({type:nr,clickedTab:t})},e.logDbSize=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.PV)("".concat(E,"/log_db_size"),{nonce:S,method:"POST"});case 2:case"end":return e.stop()}}),e)}))),e.refreshLogs=mt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:"logs"}])}),e.next=3,(0,a.PV)("".concat(E,"/refresh_logs"),{nonce:S,method:"POST"});case 3:(t=e.sent).success&&r({type:rr,fileContent:t.data}),r({type:ar,busyAction:ht(n.busyAction)});case 6:case"end":return e.stop()}}),e)}))),e.clearLogs=mt(ft().mark((function e(){var t;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:"logs"}])}),e.next=3,(0,a.PV)("".concat(E,"/clear_logs"),{nonce:S,method:"POST"});case 3:(t=e.sent).success&&r({type:rr,fileContent:t.data}),r({type:ar,busyAction:ht(n.busyAction)});case 6:case"end":return e.stop()}}),e)}))),e.generateFakeData=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:"fakeData"}])}),e.next=3,(0,a.PV)("".concat(E,"/generate_fake_data"),{nonce:S,method:"POST"});case 3:r({type:ar,busyAction:ht(n.busyAction)});case 4:case"end":return e.stop()}}),e)}))),e.deleteCustomUsedBy=mt(ft().mark((function e(){var t,o;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:"deleteCustomUsedBy"}])}),t=bt(bt({},n.settingsOptions),{},{post_type_usedby:[],option_usedby:[],table_usedby:[],cron_usedby:[],metadata_usedby:[]}),e.prev=2,e.next=5,(0,a.PV)("".concat(E,"/update_options"),{json:{options:t},nonce:S,method:"POST"});case 5:(o=e.sent).success&&r({type:Nn,options:o.options}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.message&&alert(e.t0.message),onFailure(e.t0);case 13:return e.prev=13,r({type:ar,busyAction:ht(n.busyAction)}),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])}))),e.deleteTables=function(){var e=mt(ft().mark((function e(t){var o,i,c,s,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.tables,i=o.map((function(e){return{item:"delete_".concat(e.tableName)}})),c=ht(n.busyAction),r({type:ar,busyAction:[].concat(ht(n.busyAction),ht(i))}),s=[],e.prev=5,e.next=8,(0,a.PV)("".concat(E,"/delete_tables"),{json:{tables:o.map((function(e){return e.needsSuffix?hn(e.tableName):e.tableName}))},nonce:S,method:"POST"});case 8:return(u=e.sent).success||(u.message&&alert(u.message),s=u.data?ht(u.data).map((function(e){return mn(e)})):[]),e.next=12,rt(n.delay);case 12:n.mutateDbSizes(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 18:return r({type:ar,busyAction:ht(c)}),e.abrupt("return",s);case 20:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),e.optimizeTables=function(){var e=mt(ft().mark((function e(t){var o,i,c,s,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.tables,i=o.map((function(e){return{item:"optimize_".concat(e.tableName)}})),c=ht(n.busyAction),r({type:ar,busyAction:[].concat(ht(n.busyAction),ht(i))}),s=[],e.prev=5,e.next=8,(0,a.PV)("".concat(E,"/optimize_tables"),{json:{tables:o.map((function(e){return e.needsSuffix?hn(e.tableName):e.tableName}))},nonce:S,method:"POST"});case 8:(u=e.sent).success||(u.message&&alert(u.message),s=u.data?ht(u.data).map((function(e){return mn(e)})):[]),n.mutateDbSizes(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 16:return r({type:ar,busyAction:ht(c)}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),e.repairTables=function(){var e=mt(ft().mark((function e(t){var o,i,c,s,u;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.tables,i=o.map((function(e){return{item:"repair_".concat(e.tableName)}})),c=ht(n.busyAction),r({type:ar,busyAction:[].concat(ht(n.busyAction),ht(i))}),s=[],e.prev=5,e.next=8,(0,a.PV)("".concat(E,"/repair_tables"),{json:{tables:o.map((function(e){return e.needsSuffix?hn(e.tableName):e.tableName}))},nonce:S,method:"POST"});case 8:(u=e.sent).success||(u.message&&alert(u.message),s=u.data?ht(u.data).map((function(e){return mn(e)})):[]),n.mutateDbSizes(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 16:return r({type:ar,busyAction:ht(c)}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),e.getTotalDbSizes=mt(ft().mark((function e(){var t,o,i;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,o=t.signal,r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:Nt}])}),e.prev=3,e.next=6,(0,a.wY)("".concat(E,"/total_db_size/"),null,o,S);case 6:if((i=e.sent).success){e.next=10;break}return i.message&&alert(i.message),e.abrupt("return");case 10:console.log(Qe.CONTEXT.HISTORICAL_DB_SIZES,i.data.db_historical_sizes),r({type:Nn,options:i.data}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),e.t0.message&&alert(e.t0.message);case 17:return e.prev=17,r({type:ar,busyAction:n.busyAction.filter((function(e){return e.item!==Nt}))}),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,14,17,20]])}))),e.getAutoCleanItems=mt(ft().mark((function e(){var t,n,r;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,n=t.signal,e.prev=2,e.next=5,(0,a.wY)("".concat(E,"/auto_clean_items/"),null,n,S);case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(2),e.t0.message&&alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),e.resetAutoCleanItemsCount=function(e){var t=function(e,t){return e.map((function(e){return bt(bt({},e),{},{count:t.includes(e.item)?0:e.count})}))},a=e.filter((function(e){return e.item.includes("posts_")&&!e.item.includes("posts_metadata_")})).map((function(e){return e.item})),o=t(n.postsCount,a);r({type:Dn,postsCount:o});var i=e.filter((function(e){return e.item.includes("posts_metadata_")})).map((function(e){return e.item})),c=t(n.postsMetadataCount,i);r({type:Fn,postsMetadataCount:c});var s=e.filter((function(e){return e.item.includes("users_")})).map((function(e){return e.item})),u=t(n.usersCount,s);r({type:zn,usersCount:u});var l=e.filter((function(e){return e.item.includes("comments_")})).map((function(e){return e.item})),f=t(n.commentsCount,l);r({type:Wn,commentsCount:f});var p=e.filter((function(e){return e.item.includes("options_")})).map((function(e){return e.item})),m=t(n.transientsCount,p);r({type:Hn,transientsCount:m});var h=e.filter((function(e){return e.item.includes("list_post_types_")})).map((function(e){return e.item})),d=t(n.listPostTypesCount,h);r({type:Un,listPostTypesCount:d})},e.buildIndexes=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:"build_indexes"}])}),e.next=3,(0,a.PV)("".concat(E,"/build_indexes"),{nonce:S,method:"POST"});case 3:r({type:ar,busyAction:ht(n.busyAction)});case 4:case"end":return e.stop()}}),e)}))),e.removeIndexes=mt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:ar,busyAction:[].concat(ht(n.busyAction),[{item:"remove_indexes"}])}),e.next=3,(0,a.PV)("".concat(E,"/remove_indexes"),{nonce:S,method:"POST"});case 3:r({type:ar,busyAction:ht(n.busyAction)});case 4:case"end":return e.stop()}}),e)}))),e.setListPostTypesCount=function(e){r({type:Un,listPostTypesCount:e})},e.setPostsCount=function(e){r({type:Dn,postsCount:e})},e.setPostsMetadataCount=function(e){r({type:Fn,postsMetadataCount:e})},e.setUsersCount=function(e){r({type:zn,usersCount:e})},e.setCommentsCount=function(e){r({type:Wn,commentsCount:e})},e.setTransientsCount=function(e){r({type:Hn,transientsCount:e})},e.setCustomQueriesCount=function(e){r({type:er,customQueriesCount:e})},e.setEditCustomQuery=function(e){r({type:tr,editCustomQuery:e})},e.setLoadEntryItem=function(){var t=mt(ft().mark((function t(a){var o,i,c,s,u;return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=a.loadEntryItem,i=a.count,c=void 0===i?0:i,s=a.page,u=void 0===s?1:s,r({type:Zr,loadEntryItem:o}),r({type:Xr,count:c}),r({type:$r,page:u}),null!=o){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.getEntries({item:o,offset:n.loadEntryItemLimit*(u-1)});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setLoadEntryItemPage=function(){var t=mt(ft().mark((function t(a){return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:$r,page:a}),t.next=3,e.getEntries({item:n.loadEntryItem,offset:n.loadEntryItemLimit*(a-1)});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setBusyAction=function(e){r({type:ar,busyAction:e})},e.setShouldFetchOptions=function(){r({type:Yr})},e.setEntries=function(e){r({type:dr,entries:e})},e.setShouldFetchCronJobs=function(){r({type:Wr})},e.setShouldFetchMetadata=function(){r({type:Vr})},e.setInitialized=function(e,t){r({type:vr,tab:e,value:t})},e.setSelectedUsedBy=function(e){r({type:gr,selectedUsedBy:e})},e.updateOptionsFilters=function(e){var t=e.limit,a=e.page,o=e.filterBy,i=e.hideUsedByWordPress,c=e.search,s=e.accessor,u=e.sort,l=e.size,f=null!=t?t:n.optionsFilters.limit,p=null!=a?a:n.optionsFilters.page,m=null!=o?o:n.optionsFilters.filterBy,h=null!=i?i:n.optionsFilters.hideUsedByWordPress,d=null!=c?c:n.optionsFilters.search,y=null!=s?s:n.optionsFilters.accessor,v=null!=u?u:n.optionsFilters.sort,b=null!=l?l:n.optionsFilters.size;r({type:or,optionsFilters:bt(bt({},n.optionsFilters),{},{limit:f,page:p,filterBy:m,hideUsedByWordPress:h,search:d,accessor:y,sort:v,size:b})})},e.updateCronJobsFilters=function(e){var t=e.limit,a=e.page,o=e.filterBy,i=e.hideUsedByWordPress,c=e.search,s=e.accessor,u=e.sort,l=null!=t?t:n.cronJobsFilters.limit,f=null!=a?a:n.cronJobsFilters.page,p=null!=o?o:n.cronJobsFilters.filterBy,m=null!=i?i:n.cronJobsFilters.hideUsedByWordPress,h=null!=c?c:n.cronJobsFilters.search,d=null!=s?s:n.cronJobsFilters.accessor,y=null!=u?u:n.cronJobsFilters.sort;r({type:ur,cronJobsFilters:bt(bt({},n.cronJobsFilters),{},{limit:l,page:f,filterBy:p,hideUsedByWordPress:m,search:h,accessor:d,sort:y})})},e.updateTablesFilters=function(e){var t=e.limit,a=e.page,o=e.filterBy,i=e.hideUsedByWordPress,c=e.search,s=e.accessor,u=e.sort,l=e.size,f=null!=t?t:n.tablesFilters.limit,p=null!=a?a:n.tablesFilters.page,m=null!=o?o:n.tablesFilters.filterBy,h=null!=i?i:n.tablesFilters.hideUsedByWordPress,d=null!=c?c:n.tablesFilters.search,y=null!=s?s:n.tablesFilters.accessor,v=null!=u?u:n.tablesFilters.sort,b=null!=l?l:n.tablesFilters.size;r({type:fr,tablesFilters:bt(bt({},n.tablesFilters),{},{limit:f,page:p,filterBy:m,hideUsedByWordPress:h,search:d,accessor:y,sort:v,size:b})})},e.updateListPostTypesFilters=function(e){var t=e.limit,a=e.page,o=e.filterBy,i=e.hideUsedByWordPress,c=e.search,s=e.accessor,u=e.sort,l=null!=t?t:n.listPostTypesFilters.limit,f=null!=a?a:n.listPostTypesFilters.page,p=null!=o?o:n.listPostTypesFilters.filterBy,m=null!=i?i:n.listPostTypesFilters.hideUsedByWordPress,h=null!=c?c:n.listPostTypesFilters.search,d=null!=s?s:n.listPostTypesFilters.accessor,y=null!=u?u:n.listPostTypesFilters.sort;r({type:mr,listPostTypesFilters:bt(bt({},n.listPostTypesFilters),{},{limit:l,filterBy:p,page:f,hideUsedByWordPress:m,search:h,accessor:d,sort:y})})},e.updateMetadataFilters=function(e){var t=e.limit,a=e.page,o=e.filterBy,i=e.hideUsedByWordPress,c=e.search,s=e.accessor,u=e.sort,l=e.table,f=e.size,p=e.name,m=null!=t?t:n.metadataFilters.limit,h=null!=a?a:n.metadataFilters.page,d=null!=o?o:n.metadataFilters.filterBy,y=null!=i?i:n.metadataFilters.hideUsedByWordPress,v=null!=c?c:n.metadataFilters.search,b=null!=s?s:n.metadataFilters.accessor,g=null!=u?u:n.metadataFilters.sort,E=null!=l?l:n.metadataFilters.table,w=null!=f?f:n.metadataFilters.size,_=null!=p?p:n.metadataFilters.name;r({type:cr,metadataFilters:bt(bt({},n.metadataFilters),{},{limit:m,page:h,filterBy:d,hideUsedByWordPress:y,search:v,accessor:b,sort:g,table:E,size:w,name:_})})},e.toggleModal=function(e){var t=e.modal,n=e.enable,a=void 0===n?void 0:n,o=e.onNext,i=void 0===o?function(){}:o,c=e.title,s=e.data;r({type:Er,modal:t,enable:a,onNext:i,title:c,data:void 0===s?{}:s})},e.pushBusy=function(){r({type:wr})},e.popBusy=function(){r({type:_r})},e.pushBusyBulkTasks=function(){r({type:xr})},e.popBusyBulkTasks=function(){r({type:Rr})},e.resetBusyBulkTasks=function(){r({type:Ar})},e.pushBusyCleanBulkTasks=function(){r({type:Pr})},e.popBusyCleanBulkTasks=function(){r({type:Cr})},e.pushBusyOptions=function(){r({type:Tr})},e.popBusyOptions=function(){r({type:Sr})},e.pushBusyCronJobs=function(){r({type:Or})},e.popBusyCronJobs=function(){r({type:Lr})},bt(bt({},n),e)};var aa,oa=n(3103),ia=n(8519);function ca(e){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(e)}function sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sa(Object(n),!0).forEach((function(t){la(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function la(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ca(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ca(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ca(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fa(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fa=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==ca(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ca(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function pa(e){return function(e){if(Array.isArray(e))return ma(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ma(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ha(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function da(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ha(o,r,a,i,c,"next",e)}function c(e){ha(o,r,a,i,c,"throw",e)}i(void 0)}))}}wp.element.useMemo;var ya,va,ba={minWidth:0,padding:"0 4px"},ga={marginTop:25,borderTop:"1px solid lightgray",paddingTop:15,display:"flex",alignItems:"center"},Ea=D.ZP.div(aa||(ya=["\n  cursor: pointer;\n\n  .actions {\n    display: flex;\n    font-size: 10px;\n    color: var(--neko-blue),\n    text-transform: uppercase;\n    line-height: 10px;\n    margin-left: 27px;\n    opacity: 0.1;\n    transition: opacity 0.2s ease-out;\n  }\n\n  .dashicons {\n    font-size: 10px;\n    margin-top: 2px;\n    margin-bottom: -10px;\n  }\n\n  &:hover .actions {\n    opacity: 1;\n  }\n"],va||(va=ya.slice(0)),aa=Object.freeze(Object.defineProperties(ya,{raw:{value:Object.freeze(va)}})))),wa=function(e){var t,n,r=e.item,a=null!==(t=null==r||null===(n=r.info)||void 0===n?void 0:n.status)&&void 0!==t?t:"ok";return"never"===(null==r?void 0:r.clean_style)||!r.info?null:React.createElement(xe.J,{icon:"ok"===a?"check-circle":"warn"===a?"close":"alert",color:"ok"===a?"var(--neko-green)":"warn"===a?"#ba4300":"var(--neko-orange)",width:24,height:24,style:{marginRight:3}})},_a=function(e){var t,n,r=e.item,a=e.itemText,o=null!==(t=null==r||null===(n=r.info)||void 0===n?void 0:n.status)&&void 0!==t?t:"ok",i="never"===(null==r?void 0:r.clean_style)?"#cac4c4":"ok"===o?"black":"warn"===o?"#ba4300":"black";return React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("span",{style:{color:i}},a))},Ta=function(e){var t=e.itemsUsedBy,n=e.optionName,r=e.plugins,a=e.selectedItems,o=e.setSelectedUsedBy,i=e.toggleModal,c=e.updateOption,s=e.onRefresh,u="unknown",l=a.filter((function(e){var t,n;return(null==e||null===(t=e.info)||void 0===t?void 0:t.custom)||!(null!=e&&null!==(n=e.info)&&void 0!==n&&n.usedBy.toLowerCase())})).map((function(e){return e.name}));if(!l.length)return null;var f=function(){var e=da(fa().mark((function e(a){var o,i,l,f;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=pa(a.items),i=t.filter((function(e){return!o.includes(e.item)})),l=r.find((function(e){return e.slug===a.value})),f=a.value!==u?a.items.map((function(e){return{item:e,name:l.name,slug:l.slug.replace(/-pro$/,"")}})):[],e.next=6,c({param:{name:n,value:[].concat(pa(i),pa(f))},onSuccess:function(){s()}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return React.createElement(h._,{icon:"link",style:ua(ua({},ba),{},{background:"#016699",padding:"0px 15px"}),onClick:function(){o({items:l,value:u});var e="".concat(Qe.COMMON.USED_BY).concat(l.length>1?" (".concat(l.length," ").concat(Qe.COMMON.SELECTED_ITEMS,")"):"");i({modal:"usedBy",enable:!0,onNext:f,title:e})}},Qe.BULK_TASK.USED_BY)},Sa=function(e){var t=e.item,n=e.itemName,r=e.itemsUsedBy,a=e.optionName,o=e.plugins,i=e.setSelectedUsedBy,c=e.toggleModal,s=e.updateOption,u=e.onRefresh,l="unknown",f=null==t?void 0:t.info,p=null==f?void 0:f.usedBy,m=null==f?void 0:f.status,h=null==f?void 0:f.custom,d="never"===(null==t?void 0:t.clean_style),y=null;if(!d){var v,b,g=null!==(v=null===(b=r.find((function(e){return e.item===n})))||void 0===b?void 0:b.slug)&&void 0!==v?v:l;if(!(g===l&&p&&!h)){var E=function(){var e=da(fa().mark((function e(t){var n,i,c,f;return fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pa(t.items),i=r.filter((function(e){return!n.includes(e.item)})),c=o.find((function(e){return e.slug===t.value})),f=t.value!==l?t.items.map((function(e){return{item:e,name:c.name,slug:c.slug.replace(/-pro$/,"")}})):[],e.next=6,s({param:{name:a,value:[].concat(pa(i),pa(f))},onSuccess:function(){u()}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();y=function(){i({items:[n],value:g}),c({modal:"usedBy",enable:!0,onNext:E,title:Qe.COMMON.USED_BY})}}}return React.createElement(Ea,{onClick:y},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(wa,{item:t}),"ok"===m&&React.createElement("span",{style:{color:d?"#cac4c4":"#3c434a"}},p),"warn"===m&&React.createElement("span",{style:{color:"#ba4300",textDecoration:"line-through"}},p),"n/a"===m&&React.createElement("a",{style:{color:"var(--neko-orange)"}},Qe.COMMON.UNKNOWN),h&&React.createElement("span",{class:"dashicons dashicons-tag"})),!!y&&React.createElement("div",{className:"actions"},"n/a"===m&&React.createElement("span",null,Qe.COMMON.ASSIGN_PLUGIN),"n/a"!==m&&React.createElement("span",null,Qe.COMMON.RE_ASSIGN_PLUGIN),React.createElement(xe.J,{icon:"pencil",style:{marginLeft:3},height:"10"})))},Oa=function(e){var t=e.name,n=e.value,r=e.onChange,a=e.onReset;return React.createElement("label",{style:{display:"flex",alignItems:"center"}},React.createElement("span",{style:{marginRight:"4px"}},Qe.COMMON.SEARCH,":"),React.createElement(Be.A,{name:t,value:n,onChange:r,onReset:a}))},La=function(e,t,n){return React.createElement(Ce.N,{name:e,scrolldown:!0,value:t,onChange:n},React.createElement(Ce.Z,{value:5,label:"5 ".concat(Qe.COMMON.ITEMS_PER_PAGE)}),React.createElement(Ce.Z,{value:10,label:"10 ".concat(Qe.COMMON.ITEMS_PER_PAGE)}),React.createElement(Ce.Z,{value:25,label:"25 ".concat(Qe.COMMON.ITEMS_PER_PAGE)}),React.createElement(Ce.Z,{value:50,label:"50 ".concat(Qe.COMMON.ITEMS_PER_PAGE)}),React.createElement(Ce.Z,{value:100,label:"100 ".concat(Qe.COMMON.ITEMS_PER_PAGE)}),React.createElement(Ce.Z,{value:200,label:"200 ".concat(Qe.COMMON.ITEMS_PER_PAGE)}))},xa=function(e){var t=e.infoType,n=e.info;return React.createElement(ia.u,{text:n},React.createElement(xe.J,{icon:"info-outline",width:16,height:16,color:"warn"===t?Oe.ZP.orange:Oe.ZP.black,style:{marginLeft:"2px"}}))};function Ra(e){return Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(e)}function Aa(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ba(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function Pa(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Pa=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Ra(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ra(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ca(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function ka(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ca(o,r,a,i,c,"next",e)}function c(e){Ca(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Na(e){return function(e){if(Array.isArray(e))return Ua(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ba(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||Ba(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ba(e,t){if(e){if("string"==typeof e)return Ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ua(e,t):void 0}}function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ja=wp.element,Da=ja.useState,Ma=ja.useMemo,Fa=ja.useCallback,Ga={posts:Qe.CORE_SECTIONS.POSTS,postsMetadata:Qe.CORE_SECTIONS.POSTS_METADATA,users:Qe.CORE_SECTIONS.USERS,comments:Qe.CORE_SECTIONS.COMMENTS,transients:Qe.CORE_SECTIONS.TRANSIENTS,postTypes:Qe.CORE_SECTIONS.POST_TYPES},za=function(e){var t=e.bulkTasks,n=e.initialList,r=e.initialCounts,a=e.initialUsedBy,o=e.mutateList,i=e.onUpdateCounts,c=e.usedbyKey,s=e.section,u=ra(),l=u.busyAction,f=u.bulkBatchSize,p=u.busyBulkTasks,m=u.busyCleanBulkTasks,d=u.plugins,y=u.delay,v=ra(),b=v.setBusyAction,g=v.toggleModal,E=v.deleteEntries,w=v.updateOption,_=v.refreshEntryCount,T=v.allRefreshEntryCount,S=v.setLoadEntryItem,O=v.pushBusyBulkTasks,L=v.popBusyBulkTasks,x=v.setEntries,R=v.setSelectedUsedBy,A=v.loadEntryCount,P=Ia(Da(n||[]),2),C=P[0],k=P[1],N=Ia(Da(r||[]),2),I=N[0],B=N[1],U=Ia(Da(a||[]),2),j=U[0],D=U[1],M=Fa((function(e){k(e)}),[]),F=Fa((function(e){B(e)}),[]),G=Fa((function(e){D(e)}),[]),z=Fa((function(){o&&o()}),[o]),Y=Fa((function(e){i&&i(e)}),[i]),W=Fa((function(e,t,n){var r=[].concat(Na((null!=t?t:I).filter((function(t){return t.item!==e}))),[n]);return Y(r),r}),[I,Y]),V=Fa((function(){return z()}),[z]),H=Fa((function(e,t){var n=I.filter((function(t){return t.item!==e}));Y([].concat(Na(n),[{item:e,count:t.data}]))}),[I,Y]),J=Fa((function(e){Y(Na(e))}),[Y]),K=Fa(function(){var e=ka(Pa().mark((function e(n){var r,a,o,i,c,s,u,p,m,h,d,v,g;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.item,i=n.currentCounts,b([].concat(Na(l),[{item:kt(o)}])),s=null!==(r=null===(a=(c=null!=i?i:I).find((function(e){return e.item===o})))||void 0===a?void 0:a.count)&&void 0!==r?r:0,u=Math.ceil(s/f),p=[],m=Pa().mark((function e(n){var r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=function(){var e=ka(Pa().mark((function e(r){var a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(y);case 2:return e.next=4,E({item:o,signal:r});case 4:return(a=e.sent).data.finished&&n+1<u&&t.setAlwaysSkip(),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p.push(r);case 2:case"end":return e.stop()}}),e)})),h=0;case 8:if(!(h<u)){e.next=13;break}return e.delegateYield(m(h),"t0",10);case 10:h++,e.next=8;break;case 13:return O(),e.next=16,t.start(p);case 16:if(t.reset(),L(),!("posts_metadata_duplicated_post_meta"===o)){e.next=25;break}return e.next=22,A({item:o,avoidUpdateState:!0});case 22:e.t1=e.sent,e.next=26;break;case 25:e.t1=0;case 26:return d=e.t1,v={item:o,count:d},g=Na(c),g=W?W(o,i,v):[].concat(Na(c.filter((function(e){return e.item!==o}))),[v]),b(Na(l)),e.abrupt("return",g);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[I,l,f,W,y]),q=Fa(function(){var e=ka(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("posts_metadata_duplicated_post_meta_clean_style"!==(n=t.param).name||"auto"!==n.value){e.next=4;break}return alert(Qe.HOOKS.POSTS_METADATA_DUPLICATED_WARNING),e.abrupt("return");case 4:return e.next=6,w({param:n,onSuccess:V,busyItem:s});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[V,w,s]),Q=Fa(function(){var e=ka(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.item,e.next=3,_({item:n,onSuccess:H,busyItem:s});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[H,s]),Z=Fa(ka(Pa().mark((function e(){var t,n,r,a,o,i,c,s,u,l,f,p=arguments;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=p.length>0&&void 0!==p[0]?p[0]:{}).exceptManual,void 0===n?null:n,r=t.customList,a=void 0===r?[]:r,C.length||a.length){e.next=4;break}return e.abrupt("return",!1);case 4:o=Na(I),i=a.length?a:C,c=["auto","manual"],s=i.filter((function(e){return c.includes(e.clean_style)})),u=Aa(s),e.prev=9,u.s();case 11:if((l=u.n()).done){e.next=18;break}return f=l.value,e.next=15,T({item:f.item,counts:o,onSuccess:J});case 15:o=e.sent;case 16:e.next=11;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),u.e(e.t0);case 23:return e.prev=23,u.f(),e.finish(23);case 26:return e.abrupt("return",!0);case 27:case"end":return e.stop()}}),e,null,[[9,20,23,26]])}))),[C,I,J]),X=Fa(ka(Pa().mark((function e(){var t,n,r,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Na(I),n=C.filter((function(e){var t;return(null==I||null===(t=I.find((function(t){return t.item===e.item})))||void 0===t?void 0:t.count)>0})),r=Aa(n),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=12;break}return o=a.value,e.next=9,K({item:o.item,currentCounts:t});case 9:t=e.sent;case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,14,17,20]])}))),[C,I,K]),$=Ma((function(){return p||!C.some((function(e){var t;return(null==I||null===(t=I.find((function(t){return t.item===e.item})))||void 0===t?void 0:t.count)>0}))}),[C,I,p]),ee=Ma((function(){return ot(C).map((function(e){var n,r,a,o="never"===e.clean_style,i=null!==(n=null==I||null===(r=I.find((function(t){return t.item===e.item})))||void 0===r?void 0:r.count)&&void 0!==n?n:"-",u="auto"!==e.clean_style?function(){return g({modal:"deleteAll",enable:!0,onNext:function(){return K({item:e.item})}})}:function(){return K({item:e.item})},f=l.some((function(t){return t.item===Ct(e.item)||t.item===kt(e.item)})),y=i>0&&!l.some((function(t){return t.item===kt(e.item)})),v=l.some((function(t){return t.item==="loading_".concat(e.item)})),b=e.item.replace(/^(list_post_types_)/,""),E=l.some((function(e){return e.item==="".concat(c).concat(b)})),_=React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(_a,{item:e,itemText:e.name}),!!e.info&&!!e.infoType&&React.createElement(xa,{info:e.info,infoType:e.infoType})),T=parseFloat(t.value)/parseFloat(t.max),O=isNaN(T)?"":"".concat(parseInt(Math.round(100*T)),"%"),L=f||E,A=function(){var t=ka(Pa().mark((function t(){return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x([]),t.next=3,S({loadEntryItem:e.item,count:i,page:1});case 3:g({modal:"loadEntry",enable:!0,title:"".concat(Ga[s],": ").concat(e.name)});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=o?null:React.createElement("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"space-between"}},React.createElement("span",null,isNaN(T)?i:"-"),React.createElement("div",{style:{display:"inline-flex",alignItems:"center",marginLeft:10}},y&&React.createElement(xe.J,{onClick:A,icon:"search",color:"#007cba",isBusy:v,spinning:v,style:{width:20,marginRight:-2,cursor:"pointer"}}),React.createElement(xe.J,{onClick:function(){return Q({item:e.item})},icon:"replay",color:"#007cba",spinning:f,style:{width:20,cursor:"pointer"}}))),C=React.createElement("div",{style:{width:"90px"}},React.createElement(Ce.N,{name:(a=e.item,"".concat(a,"_clean_style")),scrolldown:!0,onChange:function(e,t){return q({param:{name:t,value:e}})},value:e.clean_style},Wt.map((function(e){return React.createElement(Ce.Z,{id:e.value,value:e.value,label:e.label})})))),k=!o&&React.createElement("div",{style:{display:"flex"}},React.createElement(h._,{className:"danger",onClick:u,icon:L?"":"trash",isBusy:L,busyText:O,hideBusyIcon:!1,disabled:!y||f||p||m||E},Qe.COMMON.CLEAN));return e.info?{details:_,usedBy:React.createElement(Sa,{item:e,itemName:b,itemsUsedBy:j,optionName:c,plugins:d,setSelectedUsedBy:R,toggleModal:g,updateOption:w,busy:E,onRefresh:z}),count:P,clean:C,action:k}:{details:_,count:P,clean:C,action:k}}))}),[C,I,j,c,l,p,m,t,K,q,Q,d,w,s]);return{data:ee,onAllRefreshClick:Z,onAllTrashClick:X,disabledAllTrash:$,updateList:M,updateCounts:F,updateUsedBy:G,memoizedMutateList:z}},Ya=function(e){var t=e.pressShift,n=e.list,r=e.selectedList,a=e.setSelectedList,o=e.key,i=Ma((function(){if(!t||!r.length)return null;var e=r[r.length-1];return n.findIndex((function(t){return t[o]===e.name}))}),[t]);return{onCheckboxChange:Fa((function(e,t){if(null!==i&&e){var c=n.findIndex((function(e){return e[o]===t[o]})),s=(i<c?i:c)+1,u=i<c?c:i,l=n.slice(s,u).map((function(e){return{name:e[o],info:e.info}})).filter((function(e){return!r.some((function(t){return t.name===e.name}))}));a([].concat(Na(r),Na(l),[{name:t[o],info:t.info}]))}else a(e?[].concat(Na(r),[{name:t[o],info:t.info,args:t.args}]):Na(r.filter((function(e){return e.name!==t[o]}))))}),[r,i,n])}};function Wa(e){return Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(e)}function Va(e){return function(e){if(Array.isArray(e))return Za(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ha(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ha=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Wa(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Wa(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ja(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function Ka(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ja(o,r,a,i,c,"next",e)}function c(e){Ja(o,r,a,i,c,"throw",e)}i(void 0)}))}}function qa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||Qa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qa(e,t){if(e){if("string"==typeof e)return Za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Za(e,t):void 0}}function Za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xa=wp.element,$a=Xa.useState,eo=Xa.useMemo,to=Xa.useCallback,no=Xa.useEffect,ro={value:"clean",label:"Clean"},ao={value:"optimize",label:"Optimize"};const oo=function(){var e=ra(),t=e.busy,n=e.filteredTables,r=e.tablesTotal,a=e.busyAction,o=e.tablesFilters,c=e.tablesUsedBy,s=e.plugins,l=e.mode,f=ra(),m=f.toggleModal,y=f.deleteTables,v=f.optimizeTables,b=f.repairTables,g=f.mutateDbSizes,E=f.updateOption,w=f.setSelectedUsedBy,_=f.updateTablesFilters,T=qa($a([]),2),S=T[0],O=T[1],L=qa($a(!1),2),x=L[0],R=L[1],A=qa($a(ro.value),2),P=A[0],C=A[1],k=a.some((function(e){return"tables"===e.item})),N=a.some((function(e){var t;return null===(t=e.item)||void 0===t?void 0:t.includes("delete_")})),I=a.some((function(e){var t;return null===(t=e.item)||void 0===t?void 0:t.includes("optimize_")})),B=a.some((function(e){var t;return null===(t=e.item)||void 0===t?void 0:t.includes("repair_")})),U=N||I||B,j=S.some((function(e){return"ok"===e.info.status})),D=S.map((function(e){return e.name})),M=(0,ke.vU)().pressShift,F=Ya({pressShift:M,list:n,selectedList:S,setSelectedList:O,key:"tableName"}).onCheckboxChange,G=eo((function(){return n.map((function(e){var t,n,r,o=e.table,u=e.tableName,l=S.some((function(e){return e.name===u})),f=a.some((function(e){return e.item==="delete_".concat(u)})),p=a.some((function(e){return e.item==="optimize_".concat(u)})),d=a.some((function(e){return e.item==="repair_".concat(u)})),g=p||f||d,_=a.some((function(e){return e.item==="loading_".concat(u)})),T="ok"===(null===(t=e.info)||void 0===t?void 0:t.status),O=function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({tables:[{tableName:u,needsSuffix:u!==o}]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({tables:[{tableName:u,needsSuffix:u!==o}]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=null!==(n=null==e||null===(r=e.percent)||void 0===r?void 0:r.toLocaleString("en-US",{minimumFractionDigits:2,useGrouping:!1}))&&void 0!==n?n:"0",R=function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({modal:"table",enable:!0,data:{tableName:o}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{id:e.tableName,isBusy:l&&g,deletion:React.createElement(h._,{title:Qe.TABLES.INFO_TABLE_DROP,className:T?"primary":"danger",busyIconSize:"100%",onClick:function(){return m({modal:"deleteAll",enable:!0,onNext:(e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({tables:[{tableName:u,needsSuffix:u!==o}]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});var e},icon:"close",style:{minWidth:40,width:40},isBusy:f,disabled:T||p||d}),table:React.createElement(_a,{item:e,itemText:o}),usedBy:React.createElement(Sa,{item:e,itemName:u,itemsUsedBy:c,optionName:"table_usedby",plugins:s,setSelectedUsedBy:w,toggleModal:m,updateOption:E,onRefresh:function(){K()}}),size:React.createElement("span",{style:{display:"inline-flex",justifyItem:"center",alignItems:"center"}},React.createElement(i.O,null,it(e.size)),React.createElement(xe.J,{onClick:R,icon:"search",color:"#007cba",style:{width:20,marginLeft:5,cursor:"pointer"},isBusy:_})),percent:"".concat(x," %"),actions:React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(h._,{title:Qe.TABLES.INFO_TABLE_OPTIMIZE,className:"primary",onClick:O,icon:"rocket-launch",isBusy:p,disabled:g},Qe.TABLES.OPTIMIZE),React.createElement(h._,{title:Qe.TABLES.INFO_TABLE_REPAIR,className:"primary",onClick:L,icon:"tools",isBusy:d,disabled:g},Qe.TABLES.REPAIR))}}))}),[n,S,a,c,s,l,P]),z=to((function(e){return e.map((function(e){var t=e.name;return{tableName:t,needsSuffix:n.find((function(e){return e.tableName===name})).table!==t}}))}),[n]),Y=to((function(){var e;m({modal:"deleteAll",enable:!0,onNext:(e=Ka(Ha().mark((function e(){var t,n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({tables:z(S)});case 2:t=e.sent,n=S.filter((function(e){return t.includes(e.name)})),O(n);case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})}),[S,z]),W=to(Ka(Ha().mark((function e(){var t,n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({tables:z(S)});case 2:t=e.sent,n=S.filter((function(e){return t.includes(e.name)})),O(n);case 5:case"end":return e.stop()}}),e)}))),[S,z]),V=to(Ka(Ha().mark((function e(){var t,n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({tables:z(S)});case 2:t=e.sent,n=S.filter((function(e){return t.includes(e.name)})),O(n);case 5:case"end":return e.stop()}}),e)}))),[S,z]),H=eo((function(){var e=l===Zt.on.value?Va(Mt):Va(Ft);if(P===ro.value){var t=e.findIndex((function(e){return"actions"===e.accessor}));e.splice(t,1)}else if(P===ao.value){var n=e.findIndex((function(e){return"deletion"===e.accessor}));e.splice(n,1)}var r=e.findIndex((function(e){return"actions"===e.accessor})),a=-1!==r,o=e.findIndex((function(e){return"deletion"===e.accessor})),i=-1!==o;return a&&(e[r].title=""),i&&(e[o].title=""),S.length?(a&&(e[r].title=React.createElement(React.Fragment,null,React.createElement(h._,{icon:"rocket-launch",title:Qe.TABLES.INFO_TABLE_BULK_OPTIMIZE,onClick:W,isBusy:I,disabled:U},Qe.TABLES.OPTIMIZE),React.createElement(h._,{icon:"tools",title:Qe.TABLES.INFO_TABLE_BULK_REPAIR,onClick:V,isBusy:B,disabled:U},Qe.TABLES.REPAIR))),i&&(e[o].title=React.createElement(h._,{icon:"close",title:Qe.TABLES.INFO_TABLE_BULK_DROP,style:{minWidth:40,width:40},className:j?"primary":"danger",busyIconSize:"100%",onClick:Y,isBusy:N,disabled:j||U})),e):e}),[l,Mt,Ft,n,S,Y,W,N,j,U,I,P]),J=to(function(){var e=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E({param:{name:n,value:t}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[E]),K=to(Ka(Ha().mark((function e(){var t,n=arguments;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],R(!0),e.next=4,g();case 4:t&&O([]),R(!1);case 6:case"end":return e.stop()}}),e)}))),[g]),q=eo((function(){return La("db_historical_sizes_limit",o.limit,(function(e,t){O([]),_({limit:e,page:1}),J(e,t)}))}),[o.limit,_,J]),Q=eo((function(){var e=o.page,t=o.limit,n=o.filterBy,a=o.hideUsedByWordPress,i=r[n][a];return React.createElement(Pe.Q,{currentPage:e,limit:t,total:i,onClick:function(e){O([]),_({page:e})}})}),[o.page,o.limit,r,_]),Z=eo((function(){return{by:o.sort,accessor:o.accessor}}),[o.accessor,o.sort]),X=to((function(e,t){1!==t.length?O(e?n.map((function(e){return{name:e.tableName,info:e.info}})):[]):F(e,n.find((function(e){return e.tableName===t[0]})))}),[F,n,S]);return no((function(){O([])}),[Z]),React.createElement(p.o,null,React.createElement(p.z,{minimal:!0},React.createElement(d.v,{busy:t||k||x,title:Qe.SETTINGS.TABLES,className:"primary",action:React.createElement("div",{style:{display:"flex",justifyContent:l===Zt.on.value?"space-between":"flex-end",width:"100%"}},l===Zt.on.value&&React.createElement(Se.Q,{onLabel:ro.label,offLabel:ao.label,onValue:ro.value,offValue:ao.value,onBackgroundColor:"var(--neko-purple)",offBackgroundColor:"var(--neko-green)",width:"105px",height:"30px",checked:P===ro.value,onChange:function(e){return C(e)}}),React.createElement(Ta,{itemsUsedBy:c,selectedItems:S,optionName:"table_usedby",plugins:s,setSelectedUsedBy:w,toggleModal:m,updateOption:E,onRefresh:function(){return K(!0)}}))},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10}},React.createElement(oa.h,{name:"dbclnr-tables-filters",value:o.filterBy,onChange:function(e){O([]),_({filterBy:e,page:1})}},Kt.map((function(e){return React.createElement(oa.S,{title:e.title,value:e.value,count:r[e.value][o.hideUsedByWordPress],variant:"".concat("warn"===e.filterValue&&r[e.value][o.hideUsedByWordPress]>0?"danger":"primary")})}))),React.createElement("div",{style:{display:"flex"}},Q,React.createElement(xe.J,{icon:"replay",color:"var(--neko-blue)",onClick:K,spinning:x}))),React.createElement(Ae.a,{variant:"raw",alternateRowColor:!0,data:G,columns:H,selectedItems:D,sort:Z,onSelect:function(e){return X(!0,e)},onUnselect:function(e){return X(!1,e)},onSortChange:function(e,t){return _({accessor:e,sort:t})},filters:[{accessor:"size",value:o.size}],onFilterChange:function(e,t){return _({size:t})}}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},q,Q),React.createElement("div",{style:ga},React.createElement(Oa,{name:"tables_search",value:o.search,onChange:function(e){return _({search:e,page:1})},onReset:function(){return _({search:""})}}),React.createElement("div",{style:{flex:"auto"}}),React.createElement(u.P,{name:"tables_hide_wordpress",label:It,checked:o.hideUsedByWordPress,onChange:function(e){return _({hideUsedByWordPress:e,page:1})}})))))};function io(e){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},io(e)}function co(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */co=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==io(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(io(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?so(Object(n),!0).forEach((function(t){lo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==io(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==io(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===io(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fo(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function po(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){fo(o,r,a,i,c,"next",e)}function c(e){fo(o,r,a,i,c,"throw",e)}i(void 0)}))}}function mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ho(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yo=wp.element,vo=yo.useState,bo=yo.useEffect,go="posts",Eo="postsMetadata",wo="users",_o="comments",To="transients";const So=function(){var e=ra(),t=e.busy,n=e.busyAction,r=e.posts,a=e.postsCount,o=e.postsMetadata,i=e.postsMetadataCount,c=e.users,s=e.usersCount,u=e.mode,l=e.comments,f=e.commentsCount,m=e.transients,y=e.transientsCount,v=e.busyCleanBulkTasks,b=ra(),g=b.mutatePosts,E=b.setPostsCount,w=b.mutatePostsMetadata,_=b.setPostsMetadataCount,T=b.setBusyAction,S=b.mutateUsers,O=b.setUsersCount,L=b.mutateComments,x=b.setCommentsCount,R=b.setTransientsCount,A=b.mutateTransients,P=b.resetBusyBulkTasks,C=(0,ke.qj)(),k=mo(vo({posts:!1,postsMetadata:!1,users:!1,comments:!1,transients:!1}),2),N=k[0],I=k[1],B=u===Zt.on.value?Bt:Ut,U=function(e){return n.some((function(t){return t.item===e}))};bo((function(){return function(){v||(C.stop(),P(),T([]))}}),[v]);var j=za({bulkTasks:C,initialList:r,initialCounts:a,mutateList:g,onUpdateCounts:E,section:go}),D=j.data,M=j.onAllRefreshClick,F=j.onAllTrashClick,G=j.disabledAllTrash,z=j.updateList,Y=j.updateCounts;bo((function(){z(r)}),[r,z]),bo((function(){Y(a)}),[a,Y]);var W=function(){var e=po(co().mark((function e(){return co().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(uo(uo({},N),{},{posts:!0})),e.next=3,M();case 3:I(uo(uo({},N),{},{posts:!1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=za({bulkTasks:C,initialList:o,initialCounts:i,mutateList:w,onUpdateCounts:_,section:Eo}),H=V.data,J=V.onAllRefreshClick,K=V.onAllTrashClick,q=V.disabledAllTrash,Q=V.updateList,Z=V.updateCounts;bo((function(){Q(o)}),[o,Q]),bo((function(){Z(i)}),[i,Z]);var X=function(){var e=po(co().mark((function e(){return co().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(uo(uo({},N),{},{postsMetadata:!0})),e.next=3,J();case 3:I(uo(uo({},N),{},{postsMetadata:!1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=za({bulkTasks:C,initialList:c,initialCounts:s,mutateList:S,onUpdateCounts:O,section:wo}),ee=$.data,te=$.onAllRefreshClick,ne=$.onAllTrashClick,re=$.disabledAllTrash,ae=$.updateList,oe=$.updateCounts;bo((function(){ae(c)}),[c,ae]),bo((function(){oe(s)}),[s,oe]);var ie=function(){var e=po(co().mark((function e(){return co().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(uo(uo({},N),{},{users:!0})),e.next=3,te();case 3:I(uo(uo({},N),{},{users:!1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=za({bulkTasks:C,initialList:l,initialCounts:f,mutateList:L,onUpdateCounts:x,section:_o}),se=ce.data,ue=ce.onAllRefreshClick,le=ce.onAllTrashClick,fe=ce.disabledAllTrash,pe=ce.updateList,me=ce.updateCounts;bo((function(){pe(l)}),[l,pe]),bo((function(){me(f)}),[f,me]);var he=function(){var e=po(co().mark((function e(){return co().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(uo(uo({},N),{},{comments:!0})),e.next=3,ue();case 3:I(uo(uo({},N),{},{comments:!1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=za({bulkTasks:C,initialList:m,initialCounts:y,mutateList:A,onUpdateCounts:R,section:To}),ye=de.data,ve=de.onAllRefreshClick,be=de.onAllTrashClick,ge=de.disabledAllTrash,Ee=de.updateList,we=de.updateCounts;bo((function(){Ee(m)}),[m,Ee]),bo((function(){we(y)}),[y,we]);var _e=function(){var e=po(co().mark((function e(){return co().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(uo(uo({},N),{},{transients:!0})),e.next=3,ve();case 3:I(uo(uo({},N),{},{transients:!1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(p.o,null,React.createElement(p.z,{minimal:!0},React.createElement(d.v,{busy:t||N.posts||U(go),title:Qe.CORE_SECTIONS.POSTS,className:"primary",action:React.createElement("div",{style:{display:"flex"}},React.createElement(h._,{icon:"replay",title:Qe.BULK_TASK.REFRESH_COUNTS,style:ba,onClick:W,spinning:N.posts,isBusy:N.posts}),React.createElement(h._,{icon:"trash",title:Qe.BULK_TASK.DELETE,style:ba,onClick:function(){return F()},disabled:G}))},React.createElement(Ae.a,{variant:"raw",data:D,columns:B,selectedItems:[]})),React.createElement(d.v,{busy:t||N.postsMetadata||U(Eo),title:Qe.CORE_SECTIONS.POSTS_METADATA,className:"primary",action:React.createElement("div",{style:{display:"flex"}},React.createElement(h._,{icon:"replay",title:Qe.BULK_TASK.REFRESH_COUNTS,style:ba,onClick:X,spinning:N.postsMetadata,isBusy:N.postsMetadata}),React.createElement(h._,{icon:"trash",title:Qe.BULK_TASK.DELETE,style:ba,onClick:function(){return K()},disabled:q}))},React.createElement(Ae.a,{variant:"raw",data:H,columns:B,selectedItems:[]}))),React.createElement(p.z,{minimal:!0},React.createElement(d.v,{busy:t||N.users||U(wo),title:Qe.CORE_SECTIONS.USERS,className:"primary",action:React.createElement("div",{style:{display:"flex"}},React.createElement(h._,{icon:"replay",title:Qe.BULK_TASK.REFRESH_COUNTS,style:ba,onClick:ie,spinning:N.users,isBusy:N.users}),React.createElement(h._,{icon:"trash",title:Qe.BULK_TASK.DELETE,style:ba,onClick:function(){return ne()},disabled:re}))},React.createElement(Ae.a,{variant:"raw",data:ee,columns:B,selectedItems:[]})),React.createElement(d.v,{busy:t||N.comments||U(_o),title:Qe.CORE_SECTIONS.COMMENTS,className:"primary",action:React.createElement("div",{style:{display:"flex"}},React.createElement(h._,{icon:"replay",title:Qe.BULK_TASK.REFRESH_COUNTS,style:ba,onClick:he,spinning:N.comments,isBusy:N.comments}),React.createElement(h._,{icon:"trash",title:Qe.BULK_TASK.DELETE,style:ba,onClick:function(){return le()},disabled:fe}))},React.createElement(Ae.a,{variant:"raw",data:se,columns:B,selectedItems:[]})),React.createElement(d.v,{busy:t||N.transients||U(To),title:Qe.CORE_SECTIONS.TRANSIENTS,className:"primary",action:React.createElement("div",{style:{display:"flex"}},React.createElement(h._,{icon:"replay",title:Qe.BULK_TASK.REFRESH_COUNTS,style:ba,onClick:_e,spinning:N.transients,isBusy:N.transients}),React.createElement(h._,{icon:"trash",title:Qe.BULK_TASK.DELETE,style:ba,onClick:function(){return be()},disabled:ge}))},React.createElement(Ae.a,{variant:"raw",data:ye,columns:B,selectedItems:[]}))))};function Oo(e){return Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(e)}function Lo(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Lo=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Oo(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Oo(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function xo(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function Ro(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){xo(o,r,a,i,c,"next",e)}function c(e){xo(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Po(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Co=wp.element,ko=Co.useState,No=Co.useMemo,Io=Co.useCallback,Bo=Co.useEffect,Uo="postTypes";const jo=function(){var e=ra(),t=e.busy,n=e.busyAction,r=e.listPostTypesTotal,a=e.filteredListPostTypes,o=e.listPostTypesCount,i=e.postTypesUsedBy,c=e.clickedTab,s=e.busyCleanBulkTasks,l=e.initialized,f=e.listPostTypesFilters,m=ra(),y=m.mutateListPostTypes,v=m.setListPostTypesCount,b=m.resetBusyBulkTasks,g=m.setBusyAction,E=m.setInitialized,w=m.updateOption,_=m.updateListPostTypesFilters,T=c.PostTypes,S=(0,ke.qj)(),O=Ao(ko(!1),2),L=O[0],x=O[1],R=Ao(ko(!1),2),A=R[0],P=R[1],C=n.some((function(e){return e.item===Uo}));Bo((function(){return function(){s||(S.stop(),b(),g([]))}}),[s]);var k=Io(Ro(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,y();case 3:P(!1);case 4:case"end":return e.stop()}}),e)}))),[y]),N=za({bulkTasks:S,initialList:a,initialCounts:o,initialUsedBy:i,mutateList:k,onUpdateCounts:v,usedbyKey:"post_type_usedby",section:Uo}),I=N.data,B=N.onAllRefreshClick,U=N.onAllTrashClick,j=N.disabledAllTrash,D=N.updateList,M=N.updateCounts,F=N.updateUsedBy;Bo((function(){D(a)}),[a,D]),Bo((function(){M(o)}),[o,M]),Bo((function(){F(i)}),[i,F]);var G=function(){var e=Ro(Lo().mark((function e(){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,y();case 3:return e.next=5,B();case 5:P(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=Io(function(){var e=Ro(Lo().mark((function e(t){var n,r;return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.list,r=void 0===n?[]:n,x(!0),e.next=4,B({exceptManual:!0,customList:r});case 4:e.sent&&E("PostTypes",!0),x(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[B]),Y=(0,Ze.useRef)(!1);Bo((function(){L||l.PostTypes||1===T&&!Y.current&&a.length&&(Y.current=!0,z({list:a}))}),[T,z,L,l.PostTypes,a]);var W=Io(function(){var e=Ro(Lo().mark((function e(t,n){return Lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w({param:{name:n,value:t}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[w]),V=No((function(){return La("list_post_types_limit",f.limit,(function(e,t){_({limit:e,page:1}),W(e,t)}))}),[f.limit,_,W]),H=No((function(){var e=f.page,t=f.limit,n=f.filterBy,a=f.hideUsedByWordPress,o=r[n][a];return React.createElement(Pe.Q,{currentPage:e,limit:t,total:o,onClick:function(e){return _({page:e})}})}),[f.limit,f.page,r,W,_]),J=No((function(){return{by:f.sort,accessor:f.accessor}}),[f.accessor,f.sort]);return React.createElement(p.o,null,React.createElement(p.z,{minimal:!0},React.createElement(d.v,{busy:t||A||C,title:Qe.SETTINGS.LIST_POST_TYPES,className:"primary",action:React.createElement("div",{style:{display:"flex"}},React.createElement(h._,{icon:"trash",title:Qe.BULK_TASK.DELETE,style:ba,onClick:function(){return U()},disabled:j}))},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10}},React.createElement(oa.h,{name:"dbclnr-post-types-filters",value:f.filterBy,onChange:function(e){_({filterBy:e,page:1})}},qt.map((function(e){return React.createElement(oa.S,{title:e.title,value:e.value,count:r[e.value][f.hideUsedByWordPress],variant:"warn"===e.filterValue&&r[e.value][f.hideUsedByWordPress]>0?"danger":"primary"})}))),React.createElement("div",{style:{display:"flex"}},H,React.createElement(xe.J,{title:Qe.BULK_TASK.REFRESH_COUNTS,icon:"replay",color:"var(--neko-blue)",onClick:G,spinning:A}))),React.createElement(Ae.a,{variant:"raw",alternateRowColor:!0,data:I,columns:Dt,selectedItems:[],sort:J,sortIconColor:"var(--neko-blue)",onSortChange:function(e,t){_({accessor:e,sort:t})}}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},V,H),React.createElement("div",{style:ga},React.createElement(Oa,{name:"post_types_search",value:f.search,onChange:function(e){return _({search:e,page:1})},onReset:function(){return _({search:""})}}),React.createElement("div",{style:{flex:"auto"}}),React.createElement(u.P,{name:"post_types_hide_wordpress",label:It,checked:f.hideUsedByWordPress,onChange:function(e){return _({hideUsedByWordPress:e,page:1})}})))))};function Do(e){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(e)}function Mo(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Mo=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Do(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Do(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Fo(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function Go(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Fo(o,r,a,i,c,"next",e)}function c(e){Fo(o,r,a,i,c,"throw",e)}i(void 0)}))}}function zo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wo=wp.element,Vo=Wo.useState,Ho=Wo.useMemo,Jo=Wo.useEffect,Ko=Wo.useCallback;const qo=function(){var e=ra(),t=e.busyAction,n=e.filteredOptions,r=e.busyCleanBulkTasks,o=e.busyOptions,c=e.optionsFilters,s=e.optionsTotal,l=e.optionsUsedBy,f=e.plugins,m=ra(),y=m.deleteOption,v=m.switchAutoloadedOption,b=m.resetBusyBulkTasks,g=m.updateOption,E=m.toggleModal,w=(m.setLoadEntryItem,m.setBusyAction),_=m.setShouldFetchOptions,T=m.updateOptionsFilters,S=m.mutateOptions,O=m.setEntries,L=m.getOptionValue,x=m.pushBusyOptions,R=m.popBusyOptions,A=m.deleteOptions,P=m.setSelectedUsedBy,C=(0,ke.qj)(),k=zo(Vo([]),2),N=k[0],I=k[1],B=N.map((function(e){return e.name})),U=(0,ke.vU)().pressShift,j=Ya({pressShift:U,list:n,selectedList:N,setSelectedList:I,key:"option_name"}).onCheckboxChange;Jo((function(){_()}),[]),Jo((function(){return function(){r||(C.stop(),b(),w([]))}}),[r]);var D=Ho((function(){var e=n.map((function(e){return e.option_name}));return t.filter((function(t){return e.includes(t.item)}))}),[t,n]),M=Ho((function(){return N.some((function(e){return"wordpress"===e.slug}))}),[N]),F=Ho((function(){return n.map((function(e){var n,r=N.some((function(t){return t.name===e.option_name})),o="yes"===e.autoload,c=t.some((function(t){return t.item===e.option_name})),s=t.some((function(t){return t.item==="loading_".concat(e.option_name)})),p="ok"===(null===(n=e.info)||void 0===n?void 0:n.status),m=function(){var t=Go(Mo().mark((function t(){return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O([]),t.next=3,L({optionName:e.option_name});case 3:E({modal:"optionValue",enable:!0,title:"Option: ".concat(e.option_name)});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{id:e.option_name,isBusy:r&&c,name:React.createElement(_a,{item:e,itemText:e.option_name}),usedBy:React.createElement(Sa,{item:e,itemName:e.option_name,itemsUsedBy:l,optionName:"option_usedby",plugins:f,setSelectedUsedBy:P,toggleModal:E,updateOption:g,onRefresh:function(){z()}}),size:React.createElement("span",{style:{display:"inline-flex",justifyItem:"center",alignItems:"center"}},React.createElement(i.O,null,(0,a.td)(e.option_value_length)),React.createElement(xe.J,{onClick:m,icon:"search",color:"#007cba",style:{width:20,marginLeft:5,cursor:"pointer"},isBusy:s})),autoloaded:React.createElement("div",{style:{display:"flex",justifyContent:"right"}},React.createElement(u.P,{name:"".concat(e.option_name,"-autoloaded"),checked:o,onChange:function(t){v({item:e.option_name,autoload:t?"yes":"no"})}})),actions:React.createElement(h._,{className:p?"primary":"danger",onClick:function(){return y({item:e.option_name})},icon:"close",busyIconSize:"100%",style:{minWidth:40,width:40},disabled:c||p,isBusy:c})}}))}),[n,t,N,l]),G=Ko(function(){var e=Go(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g({param:{name:n,value:t}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[g]),z=Ko(Go(Mo().mark((function e(){var t,n=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],x(),e.next=4,S();case 4:t&&I([]),R();case 6:case"end":return e.stop()}}),e)}))),[S]),Y=Ko((function(){var e;E({modal:"deleteAll",enable:!0,onNext:(e=Go(Mo().mark((function e(){var t;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({items:N.map((function(e){return e.name}))});case 2:if(!(t=e.sent).length){e.next=6;break}return I(t),e.abrupt("return");case 6:I([]);case 7:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})}),[N]),W=Ho((function(){var e=Gt.findIndex((function(e){return"actions"===e.accessor}));if(Gt[e].title="",!N.length)return Gt;var t=React.createElement(React.Fragment,null,React.createElement(h._,{icon:"close",title:Qe.BULK_TASK.DELETE_SELECTED_ITEMS,style:{minWidth:40,width:40},className:M?"primary":"danger",busyIconSize:"100%",onClick:Y,isBusy:D.length>1,disabled:D.length||M}));return Gt[e].title=t,Gt}),[Gt,n,N,D,M,Y]),V=Ho((function(){return La("options_limit",c.limit,(function(e,t){I([]),T({limit:e,page:1}),G(e,t)}))}),[c.limit,T,G]),H=Ho((function(){var e=c.page,t=c.limit,n=c.filterBy,r=c.hideUsedByWordPress,a=s[n][r];return React.createElement(Pe.Q,{currentPage:e,limit:t,total:a,onClick:function(e){I([]),T({page:e})}})}),[c.page,c.limit,s,T]),J=Ho((function(){return{by:c.sort,accessor:c.accessor}}),[c.accessor,c.sort]),K=Ko((function(e,t){1!==t.length?I(e?n.map((function(e){return{name:e.option_name,info:e.info}})):[]):j(e,n.find((function(e){return e.option_name===t[0]})))}),[j,n,N]);return Jo((function(){I([])}),[J]),React.createElement(p.o,null,React.createElement(p.z,{minimal:!0},React.createElement(d.v,{busy:o,title:Qe.SETTINGS.OPTIONS,className:"primary",action:React.createElement(Ta,{itemsUsedBy:l,optionName:"option_usedby",selectedItems:N,plugins:f,setSelectedUsedBy:P,toggleModal:E,updateOption:g,onRefresh:function(){z(!0)}})},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10}},React.createElement(oa.h,{name:"dbclnr-options-filters",value:c.filterBy,onChange:function(e){I([]),T({filterBy:e,page:1})}},Ht.map((function(e){return React.createElement(oa.S,{title:e.title,value:e.value,count:s[e.value][c.hideUsedByWordPress],variant:"warn"===e.filterValue&&s[e.value][c.hideUsedByWordPress]>0?"danger":"primary"})}))),React.createElement("div",{style:{display:"flex"}},H,React.createElement(xe.J,{icon:"replay",color:"var(--neko-blue)",onClick:z}))),React.createElement(Ae.a,{variant:"raw",alternateRowColor:!0,data:F,columns:W,selectedItems:B,onSelect:function(e){return K(!0,e)},onUnselect:function(e){return K(!1,e)},sort:J,onSortChange:function(e,t){return T({accessor:e,sort:t})},filters:[{accessor:"size",value:c.size}],onFilterChange:function(e,t){return T({size:t})}}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},V,H),React.createElement("div",{style:ga},React.createElement(Oa,{name:"options_search",value:c.search,onChange:function(e){return T({search:e,page:1})},onReset:function(){return T({search:""})}}),React.createElement("div",{style:{flex:"auto"}}),React.createElement(u.P,{name:"options_hide_wordpress",label:It,checked:c.hideUsedByWordPress,onChange:function(e){return T({hideUsedByWordPress:e,page:1})}})))))};var Qo=wp.element.useCallback,Zo={marginTop:10,background:"rgb(0, 72, 88)",padding:10,color:"rgb(58, 212, 58)",maxHeight:400,minHeight:200,display:"block",fontFamily:"monospace",fontSize:12,whiteSpace:"pre",overflowX:"auto",borderRadius:10};const Xo=function(){var e=ra(),t=e.busy,n=e.busyAction,r=e.agaThreshold,o=e.bulkBatchSize,l=e.sweeperEnabled,f=e.sweeperSchedule,m=e.deepDeletions,y=e.hideMessage,v=e.moduleDevTools,b=e.delay,g=e.mode,E=e.modulePosttypes,w=e.moduleTables,S=e.moduleOptions,O=e.moduleMetadata,L=e.moduleCronjobs,x=e.moduleCustomequeries,R=ra(),A=R.fileContent,P=R.refreshLogs,C=R.clearLogs,k=R.deleteCustomUsedBy,N=R.updateOption,I=R.buildIndexes,B=R.removeIndexes,U=ra(),j=U.postTypesUsedBy,D=U.optionsUsedBy,M=U.tablesUsedBy,F=U.cronJobsUsedBy,G=Qo((function(e){var t=e.name,n=e.value;N({param:{name:t,value:n}})}),[N]),z=n.some((function(e){return"deleteCustomUsedBy"===e.item})),Y=n.some((function(e){return"logs"===e.item})),W=n.some((function(e){return"build_indexes"===e.item})),V=n.some((function(e){return"remove_indexes"===e.item})),H=g===Zt.on.value;return React.createElement(p.o,null,React.createElement(p.z,{minimal:!0},React.createElement(d.v,{busy:t,title:Qe.SETTINGS.SETTINGS,className:"primary"},React.createElement(c.r,{title:Qe.SETTINGS.AGE_THRESHOLD},React.createElement(Ce.N,{name:"aga_threshold",scrolldown:!0,onChange:function(e,t){return G({name:t,value:e})},value:r,description:Qe.SETTINGS.AGE_THRESHOLD_DESCRIPTION},Vt.map((function(e){return React.createElement(Ce.Z,{id:e.value,value:e.value,label:e.label})})))),React.createElement(c.r,{title:Qe.SETTINGS.MESSAGE},React.createElement(s.l,{max:"1"},React.createElement(u.P,{name:"hide_message",label:"Hide",description:Qe.SETTINGS.MESSAGE_DESCRIPTION,value:"1",checked:y,onChange:function(e,t){return G({name:t,value:e})}}))),React.createElement(c.r,{title:Qe.COMMON.DEV_TOOLS},React.createElement(u.P,{name:"module_devtools",label:Qe.COMMON.ENABLE,value:"1",checked:v,description:Qe.HELP.DEV_TOOLS,onChange:function(e,t){return G({name:t,value:e})}}))),H&&React.createElement(d.v,{busy:t,title:Qe.SETTINGS.MODULES,className:"primary"},React.createElement(c.r,{title:Qe.SETTINGS.POST_TYPES},React.createElement(s.l,null,React.createElement(u.P,{name:"module_posttypes",label:Qe.SETTINGS.ENABLED,onChange:function(e,t){return G({name:t,value:e})},checked:E}))),React.createElement(c.r,{title:Qe.SETTINGS.TABLES},React.createElement(s.l,null,React.createElement(u.P,{name:"module_tables",label:Qe.SETTINGS.ENABLED,onChange:function(e,t){return G({name:t,value:e})},checked:w}))),React.createElement(c.r,{title:Qe.SETTINGS.OPTIONS},React.createElement(s.l,null,React.createElement(u.P,{name:"module_options",label:Qe.SETTINGS.ENABLED,onChange:function(e,t){return G({name:t,value:e})},checked:S}))),React.createElement(c.r,{title:Qe.SETTINGS.METADATA},React.createElement(s.l,null,React.createElement(u.P,{name:"module_metadata",label:Qe.SETTINGS.ENABLED,onChange:function(e,t){return G({name:t,value:e})},checked:O}))),React.createElement(c.r,{title:Qe.SETTINGS.CRON_JOBS},React.createElement(s.l,null,React.createElement(u.P,{name:"module_cronjobs",label:Qe.SETTINGS.ENABLED,onChange:function(e,t){return G({name:t,value:e})},checked:L}))),React.createElement(c.r,{title:Qe.SETTINGS.CUSTOM_QUERIES},React.createElement(s.l,null,React.createElement(u.P,{name:"module_customequeries",label:Qe.SETTINGS.ENABLED,onChange:function(e,t){return G({name:t,value:e})},checked:x})))),React.createElement(d.v,{busy:t,title:Qe.SETTINGS.PERFORMANCE,className:"primary",action:React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(h._,{color:"#005883",onClick:I,isBusy:W},Qe.SETTINGS.BUILD_INDEXES),React.createElement(h._,{color:"#005883",onClick:B,isBusy:V},Qe.SETTINGS.REMOVE_INDEXES))},React.createElement(c.r,{title:Qe.SETTINGS.BATCH_SIZE},React.createElement(Be.A,{name:"bulk_batch_size",type:"number",value:o,onBlur:function(e,t){return G({name:t,value:e})},description:Qe.SETTINGS.BATCH_SIZE_DESCRIPTION})),React.createElement(c.r,{title:Qe.SETTINGS.DELAY_IN_MS},React.createElement(Be.A,{name:"delay",type:"number",value:b,min:"0",max:"20000",onBlur:function(e,t){return G({name:t,value:e})},description:Qe.SETTINGS.DELAY_IN_MS_DESCRIPTION})),React.createElement(c.r,{title:Qe.SETTINGS.DEEP_DELETIONS},React.createElement(s.l,{isPro:_},React.createElement(u.P,{name:"deep_deletions",label:"Enable",requirePro:!T,onChange:function(e,t){return G({name:t,value:e})},description:(0,a.io)(Qe.SETTINGS.DEEP_DELETIONS_DESCRIPTION),checked:m})))),React.createElement(d.v,{title:Qe.SETTINGS.NYAO_SWEEPER,busy:t||Y,className:"primary"},React.createElement(c.r,{title:Qe.SETTINGS.SWEEPER},React.createElement(s.l,{max:"1"},React.createElement(u.P,{name:"sweeper_enabled",label:Qe.SETTINGS.ENABLE,description:Qe.HELP.SWEEPER,requirePro:!T,value:"1",checked:l,onChange:function(e,t){return G({name:t,value:e})}}))),l&&React.createElement(c.r,{title:Qe.SETTINGS.SCHEDULE},React.createElement(Ce.N,{name:"sweeper_schedule",scrolldown:!0,disabled:!l||!T,onChange:function(e,t){return G({name:t,value:e})},value:f},$t.map((function(e){return React.createElement(Ce.Z,{id:e.value,value:e.value,label:e.label})})))))),React.createElement(p.z,{minimal:!0},React.createElement(d.v,{busy:t||z,title:(0,a.io)(Qe.SETTINGS.CUSTOM_USED_BY_DATA),className:"primary",action:React.createElement(h._,{className:"primary-block",isBusy:t||z,onClick:k},(0,a.io)(Qe.SETTINGS.RESET_USED_BY_DATA))},_&&React.createElement(i.O,null,(0,a.io)(Qe.SETTINGS.CUSTOM_USED_BY_DATA_DESCRIPTION)),React.createElement("pre",{style:{height:145,overflow:"auto",border:"1px solid #dedede",padding:10,background:"#f8f8f8",color:"#8b8b8b"}},(null==j?void 0:j.length)>0&&React.createElement(React.Fragment,null,React.createElement("b",null,"# ",Qe.SETTINGS.USED_BY_POST_TYPES),null==j?void 0:j.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return React.createElement("div",null,e.name,"|",e.item,"|",e.slug)})),React.createElement("br",null)),(null==D?void 0:D.length)>0&&React.createElement(React.Fragment,null,React.createElement("b",null,"# ",Qe.SETTINGS.USED_BY_OPTIONS),null==D?void 0:D.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return React.createElement("div",null,e.name,"|",e.item,"|",e.slug)})),React.createElement("br",null)),(null==M?void 0:M.length)>0&&React.createElement(React.Fragment,null,React.createElement("b",null,"# ",Qe.SETTINGS.USED_BY_TABLES),null==M?void 0:M.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return React.createElement("div",null,e.name,"|",e.item,"|",e.slug)})),React.createElement("br",null)),(null==F?void 0:F.length)>0&&React.createElement(React.Fragment,null,React.createElement("b",null,"# ",Qe.SETTINGS.USED_BY_CRON_JOBS),null==F?void 0:F.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return React.createElement("div",null,e.name,"|",e.item,"|",e.slug)})),React.createElement("br",null)))),React.createElement(d.v,{title:Qe.SETTINGS.LOGS,busy:t||Y,className:"primary",action:React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(h._,{color:"#005883",onClick:C},Qe.SETTINGS.CLEAR_LOGS))},React.createElement(h._,{onClick:P},Qe.SETTINGS.REFRESH_LOGS),React.createElement("div",{style:Zo},A))))};function $o(e){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(e)}function ei(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ei=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==$o(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError($o(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function ti(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function ni(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ti(o,r,a,i,c,"next",e)}function c(e){ti(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ai(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ai(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oi=wp.element,ii=oi.useState,ci=oi.useMemo,si=oi.useEffect,ui=oi.useCallback;const li=function(){var e=ra(),t=e.busyAction,n=e.filteredCronJobs,r=e.busyCleanBulkTasks,a=e.busyCronJobs,o=e.cronJobsFilters,i=e.cronJobsTotal,c=e.plugins,s=e.cronJobsUsedBy,l=ra(),f=l.deleteCron,m=l.deleteCrons,y=l.resetBusyBulkTasks,v=l.updateOption,b=l.toggleModal,g=l.setBusyAction,E=l.setShouldFetchCronJobs,w=l.mutateCronJobs,_=l.pushBusyCronJobs,T=l.popBusyCronJobs,S=l.setSelectedUsedBy,O=l.updateCronJobsFilters,L=(0,ke.qj)(),x=ri(ii([]),2),R=x[0],A=x[1],P=R.map((function(e){return e.name})),C=(0,ke.vU)().pressShift,k=Ya({pressShift:C,list:n,selectedList:R,setSelectedList:A,key:"cron_name"}).onCheckboxChange;si((function(){E()}),[]),si((function(){return function(){r||(L.stop(),y(),g([]))}}),[r]);var N=ci((function(){var e=n.map((function(e){return e.cron_name}));return t.filter((function(t){return e.includes(t.item)}))}),[t,n]),I=ci((function(){return R.some((function(e){return"wordpress"===e.slug}))}),[R]),B=ci((function(){return n.map((function(e){var n,r,a,o,i,u=R.some((function(t){return t.name===e.cron_name})),l="wordpress"===e.info.usedBy.toLowerCase(),p=t.some((function(t){return t.item===e.cron_name}));return{id:e.cron_name,isBusy:u&&p,name:React.createElement(_a,{item:e,itemText:e.cron_name}),usedBy:React.createElement(Sa,{item:e,itemName:e.cron_name,itemsUsedBy:s,optionName:"cron_usedby",plugins:c,setSelectedUsedBy:S,toggleModal:b,updateOption:v,onRefresh:function(){j()}}),schedule:null!==(n=e.schedule)&&void 0!==n?n:"-",nextRun:(r=e.unixtime,a=new Date(1e3*r),o=(a=new Date(a.getTime()-60*a.getTimezoneOffset()*1e3)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}),i=a.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),React.createElement("div",{style:{textAlign:"right"}},o,React.createElement("br",null),React.createElement("small",null,i))),actions:React.createElement(h._,{className:l?"primary":"danger",icon:"close",onClick:function(){var t={name:e.cron_name,args:e.args};f({item:t})},busyIconSize:"100%",style:{minWidth:40,width:40},disabled:p||l,isBusy:p})}}))}),[n,t,R,s]),U=ui(function(){var e=ni(ei().mark((function e(t,n){return ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v({param:{name:n,value:t}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[v]),j=ui(ni(ei().mark((function e(){var t,n=arguments;return ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],_(),e.next=4,w();case 4:t&&A([]),T();case 6:case"end":return e.stop()}}),e)}))),[w]),D=ui((function(){var e;b({modal:"deleteAll",enable:!0,onNext:(e=ni(ei().mark((function e(){var t;return ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({items:R.map((function(e){return{name:e.name,args:e.args}}))});case 2:if(!(t=e.sent).length){e.next=6;break}return A(t),e.abrupt("return");case 6:A([]);case 7:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})}),[R]),M=ci((function(){var e=zt.findIndex((function(e){return"actions"===e.accessor}));if(zt[e].title="",!R.length)return zt;var t=React.createElement(React.Fragment,null,React.createElement(h._,{icon:"close",title:Qe.BULK_TASK.DELETE_SELECTED_ITEMS,style:{minWidth:40,width:40},className:I?"primary":"danger",busyIconSize:"100%",onClick:D,isBusy:N.length>1,disabled:N.length||I}));return zt[e].title=t,zt}),[zt,n,R,N,I,D]),F=ci((function(){return La("cron_jobs_limit",o.limit,(function(e,t){A([]),O({limit:e,page:1}),U(e,t)}))}),[o.limit,O,U]),G=ci((function(){var e=o.page,t=o.limit,n=o.filterBy,r=o.hideUsedByWordPress,a=i[n][r];return React.createElement(Pe.Q,{currentPage:e,limit:t,total:a,onClick:function(e){A([]),O({page:e})}})}),[o.page,o.limit,i,O]),z=ci((function(){return{by:o.sort,accessor:o.accessor}}),[o.accessor,o.sort]),Y=ui((function(e,t){1!==t.length?A(e?n.map((function(e){return{name:e.cron_name,args:e.args,info:e.info}})):[]):k(e,n.find((function(e){return e.cron_name===t[0]})))}),[k,n,R]);return si((function(){A([])}),[z]),React.createElement(p.o,null,React.createElement(p.z,{minimal:!0},React.createElement(d.v,{busy:a,title:Qe.SETTINGS.CRON_JOBS,className:"primary",action:React.createElement(Ta,{itemsUsedBy:s,selectedItems:R,optionName:"cron_usedby",plugins:c,setSelectedUsedBy:S,toggleModal:b,updateOption:v,onRefresh:function(){j(!0)}})},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10}},React.createElement(oa.h,{name:"dbclnr-cron-filters",value:o.filterBy,onChange:function(e){A([]),O({filterBy:e,page:1})}},Jt.map((function(e){return React.createElement(oa.S,{title:e.title,value:e.value,count:i[e.value][o.hideUsedByWordPress],variant:"warn"===e.filterValue&&i[e.value][o.hideUsedByWordPress]>0?"danger":"primary"})}))),React.createElement("div",{style:{display:"flex"}},G,React.createElement(xe.J,{icon:"replay",color:"var(--neko-blue)",onClick:j}))),React.createElement(Ae.a,{variant:"raw",alternateRowColor:!0,data:B,columns:M,selectedItems:P,onSelect:function(e){return Y(!0,e)},onUnselect:function(e){return Y(!1,e)},sort:z,sortIconColor:"var(--neko-blue)",onSortChange:function(e,t){return O({accessor:e,sort:t})}}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},F,G),React.createElement("div",{style:ga},React.createElement(Oa,{name:"cron_jobs_search",value:o.search,onChange:function(e){return O({search:e,page:1})},onReset:function(){return O({search:""})}}),React.createElement("div",{style:{flex:"auto"}}),React.createElement(u.P,{name:"cron_jobs_hide_wordpress",label:It,checked:o.hideUsedByWordPress,onChange:function(e){return O({hideUsedByWordPress:e,page:1})}})))))};var fi=n(3895);function pi(e){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){di(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function di(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==pi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yi(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */yi=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==pi(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(pi(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function vi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wi(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function bi(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function gi(e){return function(e){if(Array.isArray(e))return _i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||wi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wi(e,t){if(e){if("string"==typeof e)return _i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_i(e,t):void 0}}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ti=wp.element,Si=Ti.useState,Oi=Ti.useMemo,Li=Ti.useCallback,xi=Ti.useEffect,Ri={name:"",clean_style:"",query_count:"",query_delete:""};const Ai=function(){var e,t,n,r,a=ra(),o=a.customQueries,s=a.busy,u=a.busyAction,l=a.customQueriesCount,f=a.editCustomQuery,m=a.clickedTab,y=a.modals,v=ra(),b=v.toggleModal,g=v.setCustomQueriesCount,E=v.setEditCustomQuery,w=v.updateOption,_=v.customQueryDelete,T=v.refreshCostomQueryCount,S=v.allRefreshCostomQueryCount,O=m.CustomQueries,L=Ei(Si({}),2),x=L[0],R=L[1],A=Ei(Si({}),2),P=A[0],C=A[1],k=Ei(Si(null!==(e=null==f?void 0:f.name)&&void 0!==e?e:""),2),N=k[0],I=k[1],B=Ei(Si(null!==(t=null==f?void 0:f.clean_style)&&void 0!==t?t:""),2),U=B[0],j=B[1],D=Ei(Si(null!==(n=null==f?void 0:f.query_count)&&void 0!==n?n:""),2),M=D[0],F=D[1],G=Ei(Si(null!==(r=null==f?void 0:f.query_delete)&&void 0!==r?r:""),2),z=G[0],Y=G[1],W=Oi((function(){return!!f&&(f.name!==N||f.clean_style!==U||f.query_count!==M||f.query_delete!==z)}),[f,N,U,M,z]);xi((function(){if(!f)return I(""),j(""),F(""),void Y("");I(f.name),j(f.clean_style),F(f.query_count),Y(f.query_delete)}),[f]),xi((function(){l.length||1===O&&o&&H(!0)}),[O,o]);var V=Li((function(e){var t=e.item,n=e.query,r=void 0===n?null:n,a=e.onSuccessCallback,o=e.onFailureCallback;T({item:t,query:r,onSuccess:function(e,t){var n=l.filter((function(t){return t.item!==e}));g([].concat(gi(n),[{item:e,count:t.data}])),a&&a(t)},onFailure:o})}),[l,g]),H=function(){var e,t=(e=yi().mark((function e(){var t,n,r,a,i,c,s,u,f=arguments;return yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=f.length>0&&void 0!==f[0]&&f[0],n=function(e){g(gi(e))},r=gi(l),a=t?["auto"]:["auto","manual"],i=o.filter((function(e){return a.includes(e.clean_style)})),c=vi(i),e.prev=6,c.s();case 8:if((s=c.n()).done){e.next=15;break}return u=s.value,e.next=12,S({item:u.item,counts:r,onSuccess:n});case 12:r=e.sent;case 13:e.next=8;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),c.e(e.t0);case 20:return e.prev=20,c.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[6,17,20,23]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){bi(o,r,a,i,c,"next",e)}function c(e){bi(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),J=Li((function(e){var t=e.item,n=e.query,r=void 0===n?null:n,a=e.onSuccessCallback,o=e.onFailureCallback;_({item:t,query:r,signal:void 0,onSuccess:function(e,t){V({item:e}),a&&a(t)},onFailure:o})}),[V]),K=Li((function(e){w({busyItem:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cq-new",param:{name:"custom_queries",value:e}})}),[w]),q=Li((function(){var e=hi(hi({},o.find((function(e){return e.item===f.item}))),{},{name:N,clean_style:U,query_count:M,query_delete:z}),t=[].concat(gi(o.filter((function(e){return e.item!==f.item}))),[e]);K(t,f.item)}),[K,o,f,N,U,M,z]),Q=Li((function(){K([].concat(gi(o),[hi({},Ri)]))}),[K,o]),Z=Li((function(e){K(o.filter((function(t){return t.item!==e.item})),e.item)}),[K,o]),X=Li((function(){b({modal:"editCustomQuery",enable:!1}),E(null)}),[b,E]),$=Oi((function(){var e,t;if(!f)return null;var n=u.some((function(e){return e.item===f.item})),r=null!==(e=x[f.item])&&void 0!==e?e:null,a=null!==(t=P[f.item])&&void 0!==t?t:null;return React.createElement(React.Fragment,null,React.createElement(c.r,{key:f.item,title:Qe.CUSTOM_QUERIES.NAME},React.createElement(Be.A,{name:"name",value:N,onBlur:function(e){return I(e)}})),React.createElement(c.r,{title:Qe.CUSTOM_QUERIES.CLEAN},React.createElement("div",{style:{width:"90px"}},React.createElement(Ce.N,{name:"clean_style",scrolldown:!0,onChange:function(e){return j(e)},value:U,disabled:n},Wt.map((function(e){return React.createElement(Ce.Z,{id:e.value,value:e.value,label:e.label})}))))),React.createElement(c.r,{title:Qe.CUSTOM_QUERIES.QUERY_COUNT},React.createElement(fi.l,{name:"query_count",value:M,onBlur:function(e){return F(e)},onChange:function(e){return F(e)}}),null!=r&&React.createElement(i.O,{p:!0,style:{margin:"8px 0"}},"Result: ",r),React.createElement("div",{style:{marginTop:"8px",textAlign:"right"}},React.createElement(h._,{fullWidth:!0,disabled:!M,onClick:function(){return V({item:f.item,query:M,onSuccessCallback:function(e){return R(hi(hi({},x),{},di({},f.item,e.data)))},onFailureCallback:function(e){return R(hi(hi({},x),{},di({},f.item,e)))}})}},Qe.CUSTOM_QUERIES.RUN_COUNT))),React.createElement(c.r,{title:Qe.CUSTOM_QUERIES.QUERY_DELETE},React.createElement(fi.l,{name:"query_delete",value:z,onBlur:function(e){return Y(e)},onChange:function(e){return Y(e)}}),null!=a&&React.createElement(i.O,{p:!0,style:{margin:"8px 0"}},"Result: ",a),React.createElement("div",{style:{marginTop:"8px",textAlign:"right"}},React.createElement(h._,{fullWidth:!0,className:"danger",disabled:!z,onClick:function(){return J({item:f.item,query:z,onSuccessCallback:function(e){return C(hi(hi({},P),{},di({},f.item,e.data.deleted)))},onFailureCallback:function(e){return C(hi(hi({},P),{},di({},f.item,e)))}})}},Qe.CUSTOM_QUERIES.RUN_DELETE))))}),[u,f,x,P,N,U,M,z,V,J]),ee=Li((function(e){var t,n;if(!e)return null;var r=!(e.name&&e.clean_style&&e.query_count&&e.query_delete),a=r?"(".concat(Qe.CUSTOM_QUERIES.SETUP_NOT_COMPLETE,")"):"",o="never"===e.clean_style,c=u.some((function(t){return t.item===Ct(e.item)})),s=null!==(t=null===(n=l.find((function(t){return t.item===e.item})))||void 0===n?void 0:n.count)&&void 0!==t?t:"-",f=s>0&&!u.some((function(t){return t.item===kt(e.item)}));return React.createElement("div",{key:e.item,style:{display:"flex",alignItems:"center",background:Oe.ZP.white,padding:"8px"}},React.createElement(i.O,{p:!0,style:{margin:0,width:"55px"}},React.createElement(h._,{className:"danger",onClick:function(){return Z(e)},busyIconSize:"100%",icon:"close",style:{minWidth:40,width:40},disabled:r})),React.createElement(i.O,{p:!0,style:{margin:0,width:"35%"}},e.name,a),React.createElement(i.O,{p:!0,style:{margin:0,width:"20%",position:"relative"}},c?"-":s),React.createElement(i.O,{p:!0,style:{margin:0,width:"20%"}},e.clean_style),React.createElement("div",{style:{display:"flex",alignItems:"center",width:"25%"}},!o&&React.createElement(h._,{isBusy:c,onClick:function(){return V({item:e.item})},icon:"replay",style:{justifyContent:"center"},disabled:r}),!o&&f&&React.createElement(h._,{className:"danger",onClick:function(){return b({modal:"deleteAll",enable:!0,onNext:function(){return J({item:e.item})}})},icon:"trash",style:{justifyContent:"center"},disabled:r}),React.createElement(h._,{onClick:function(){E(e),b({modal:"editCustomQuery",enable:!0})},icon:"pencil",style:{justifyContent:"center"}})))}),[u,f,E,l,Z]),te=Oi((function(){return ot(o)}),[o]);return React.createElement(React.Fragment,null,React.createElement(p.o,null,React.createElement(p.z,{minimal:!0},React.createElement("div",{style:{margin:"-10px -10px 25px -10px",padding:10,background:"#00000014"}},React.createElement(h._,{onClick:function(){Q()},disabled:s},"+ ",Qe.CUSTOM_QUERIES.ADD_CUSTOM)),React.createElement(d.v,{busy:s,title:Qe.SETTINGS.CUSTOM_QUERIES,className:"primary",action:React.createElement(h._,{icon:"replay",rounded:!0,onClick:function(){return H()}})},React.createElement("div",{style:{display:"flex",alignItems:"center",background:Oe.ZP.white,padding:"8px",fontWeight:"bold"}},React.createElement(i.O,{p:!0,style:{margin:0,width:"55px"}}),React.createElement(i.O,{p:!0,style:{margin:0,width:"35%"}},Qe.TABLE_COLUMN_TITLE.NAME),React.createElement(i.O,{p:!0,style:{margin:0,width:"20%"}},Qe.TABLE_COLUMN_TITLE.COUNT),React.createElement(i.O,{p:!0,style:{margin:0,width:"20%"}},Qe.TABLE_COLUMN_TITLE.CLEAN),React.createElement(i.O,{p:!0,style:{margin:0,width:"25%"}},Qe.TABLE_COLUMN_TITLE.ACTION)),te.map((function(e){return ee(e)}))))),React.createElement(Re.L,{isOpen:!!y.editCustomQuery.enable,onRequestClose:X,title:y.editCustomQuery.title,content:$,okButton:{label:Qe.MODAL.SAVE,onClick:function(){q(),X()},disabled:!W},onCancel:{onClick:X},okOnEnter:!0,contentWidth:"700px"}))};function Pi(e){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pi(e)}function Ci(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Pi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Pi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ki(e){return function(e){if(Array.isArray(e))return Di(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ji(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ni=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Pi(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Pi(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Ii(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function Bi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ii(o,r,a,i,c,"next",e)}function c(e){Ii(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ui(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||ji(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ji(e,t){if(e){if("string"==typeof e)return Di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Di(e,t):void 0}}function Di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mi=wp.element,Fi=Mi.useState,Gi=Mi.useMemo,zi=Mi.useEffect,Yi=Mi.useCallback;const Wi=function(){var e=ra(),t=e.busyAction,n=e.filteredMetadata,r=e.busyCleanBulkTasks,o=e.busyMetadata,c=e.metadataFilters,s=e.metadataTotal,u=e.metadataUsedBy,l=(e.plugins,ra()),f=l.deleteMetadata,m=l.resetBusyBulkTasks,y=l.updateOption,v=l.toggleModal,b=l.setBusyAction,g=l.setShouldFetchMetadata,E=l.updateMetadataFilters,w=l.mutateMetadata,_=l.setEntries,T=l.getMetadataValue,S=l.pushBusyOptions,O=l.popBusyOptions,L=l.deleteMultipleMetadata,x=(l.setSelectedUsedBy,(0,ke.qj)()),A=Ui(Fi([]),2),P=A[0],C=A[1],k=P.map((function(e){return e.name})),N=(0,ke.vU)().pressShift,I=Ya({pressShift:N,list:n,selectedList:P,setSelectedList:C,key:"id"}).onCheckboxChange;zi((function(){g()}),[]),zi((function(){return function(){r||(x.stop(),m(),b([]))}}),[r]);var B=Gi((function(){var e=n.map((function(e){return e.id}));return t.filter((function(t){return e.includes(t.item)}))}),[t,n]),U=Gi((function(){return P.some((function(e){return"wordpress"===e.info.usedBy.toLowerCase()}))}),[P]),j=Gi((function(){return n.map((function(e){var n,r=P.some((function(e){return e.name===e.id})),o=t.some((function(t){return t.item===e.id})),c=t.some((function(t){return t.item==="loading_".concat(e.id)})),s="ok"===(null===(n=e.info)||void 0===n?void 0:n.status),u=function(){var t=Bi(Ni().mark((function t(){return Ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _([]),t.next=3,T({id:e.id});case 3:v({modal:"metadataValue",enable:!0,title:"Metadata: ".concat(e.meta_key)});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{id:e.id,isBusy:r&&o,postId:null==e?void 0:e.post_id,userId:null==e?void 0:e.user_id,name:React.createElement(_a,{item:e,itemText:e.meta_key}),size:React.createElement("span",{style:{display:"inline-flex",justifyItem:"center",alignItems:"center"}},React.createElement(i.O,null,(0,a.td)(e.meta_value_length)),React.createElement(xe.J,{onClick:u,icon:"search",color:"#007cba",style:{width:20,marginLeft:5,cursor:"pointer"},isBusy:c})),actions:React.createElement(h._,{className:s?"primary":"danger",onClick:function(){return f({item:e.id})},icon:"close",busyIconSize:"100%",style:{minWidth:40,width:40},disabled:o||s,isBusy:o})}}))}),[n,t,P,u]),D=Yi(function(){var e=Bi(Ni().mark((function e(t,n){return Ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y({param:{name:n,value:t}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[y]),M=Yi(Bi(Ni().mark((function e(){var t,n=arguments;return Ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],S(),e.next=4,w();case 4:t&&C([]),O();case 6:case"end":return e.stop()}}),e)}))),[w]),F=Yi((function(){var e;v({modal:"deleteAll",enable:!0,onNext:(e=Bi(Ni().mark((function e(){var t;return Ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L({items:P.map((function(e){return e.name}))});case 2:if(!(t=e.sent).length){e.next=6;break}return C(t),e.abrupt("return");case 6:C([]);case 7:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})}),[P]),G=Gi((function(){var e=ki(Yt);if(c.table.includes("post")){var t=e.findIndex((function(e){return"userId"===e.accessor}));e.splice(t,1)}else if(c.table.includes("user")){var n=e.findIndex((function(e){return"postId"===e.accessor}));e.splice(n,1)}var r=e.findIndex((function(e){return"actions"===e.accessor}));if(e[r].title="",!P.length)return e;var a=React.createElement(React.Fragment,null,React.createElement(h._,{icon:"close",title:Qe.BULK_TASK.DELETE_SELECTED_ITEMS,style:{minWidth:40,width:40},className:U?"primary":"danger",busyIconSize:"100%",onClick:F,isBusy:B.length>1,disabled:B.length||U}));return e[r].title=a,e}),[Yt,c.table,P,B,U,F]),z=Gi((function(){return La("metadata_limit",c.limit,(function(e,t){C([]),E({limit:e,page:1}),D(e,t)}))}),[c.limit,E,D]),Y=Gi((function(){var e=c.page,t=c.limit,n=c.filterBy,r=c.hideUsedByWordPress,a=s[n][r];return React.createElement(Pe.Q,{currentPage:e,limit:t,total:a,onClick:function(e){C([]),E({page:e})}})}),[c.page,c.limit,s,E]),W=Gi((function(){return{by:c.sort,accessor:c.accessor}}),[c.accessor,c.sort]),V=Yi((function(e,t){1!==t.length?C(e?n.map((function(e){return{name:e.id,info:e.info}})):[]):I(e,n.find((function(e){return e.id===t[0]})))}),[I,n,P]);return zi((function(){C([])}),[W]),React.createElement(p.o,null,React.createElement(p.z,{minimal:!0},React.createElement(d.v,{busy:o,title:Qe.SETTINGS.METADATA,className:"primary"},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10}},React.createElement("div",{style:{display:"flex"}},React.createElement(Ce.N,{name:"metadata_table",style:{marginRight:"8px"},scrolldown:!0,value:c.table,onChange:function(e){C([]),E({table:e,page:1})}},Object.keys(R).map((function(e){return React.createElement(Ce.Z,{value:R[e],label:e})})))),React.createElement("div",{style:{display:"flex"}},Y,React.createElement(xe.J,{icon:"replay",color:"var(--neko-blue)",onClick:M}))),React.createElement(Ae.a,{variant:"raw",alternateRowColor:!0,data:j,columns:G,selectedItems:k,onSelect:function(e){return V(!0,e)},onUnselect:function(e){return V(!1,e)},sort:W,onSortChange:function(e,t){return E({accessor:e,sort:t})},filters:[{accessor:"size",value:c.size}],onFilterChange:function(e,t){return E(Ci({},e,null!=t?t:""))}}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},z,Y),React.createElement("div",{style:ga},React.createElement(Oa,{name:"options_search",value:c.search,onChange:function(e){return E({search:e,page:1})},onReset:function(){return E({search:""})}})))))};function Vi(e){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vi(e)}function Hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(n),!0).forEach((function(t){Ki(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ki(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Vi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Vi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qi(e){return function(e){if(Array.isArray(e))return Xi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||Zi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zi(e,t){if(e){if("string"==typeof e)return Xi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xi(e,t):void 0}}function Xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $i=wp.element,ec=$i.useMemo,tc=$i.useState,nc={maxWidth:"100%",display:"flex",justifyContent:"flex-end",alignItems:"flex-end",height:38,marginRight:10},rc={borderRadius:"1px 1px 0px 0px",background:"var(--neko-gray)",transition:"height 0.2s ease-out"},ac={borderRadius:"1px 1px 0px 0px",background:"var(--neko-red)",transition:"height 0.2s ease-out"},oc={borderRadius:"0px 0px 1px 1px",background:"var(--neko-green)",transition:"height 0.2s ease-out"},ic={fontSize:6,lineHeight:"10px",height:5,textAlign:"center"},cc={paddingLeft:1,paddingRight:1,width:6.5,display:"flex",flexDirection:"column",height:"100%",cursor:"pointer"},sc={fontSize:11,textAlign:"right",marginRight:10,height:"100%",lineHeight:"12px",display:"flex",flexDirection:"column",justifyContent:"center"};const uc=function(){var e=Qi(tc(),2),t=e[0],n=e[1],r=ra().totalSizes,a=r.length<3,o=Qi(tc("size"),2),i=o[0],c=o[1],s=ec((function(){if(a){var e=[],t=new Date;t.setDate(t.getDate()-7);for(var n=0;n<8;n++){var o=t.toISOString().split("T")[0],i=Math.floor(10*Math.random())+530;e.push({date:o,size:i}),t.setDate(t.getDate()+1)}return e}return r}),[r]),u=function(e){return e>0?Math.log(1.2+e):e<0?-Math.log(1.2+-1*e):0},l=ec((function(){var e=s.slice(-60),t=null;e=e.map((function(e){var n=t?(e.size-t)/t*100:0,r=u(n),a=new Date(e.date).getDate(),o={date:e.date.replaceAll("-","/"),day:a,size:e.size,change:Math.round(100*n)/100,changeLog:r};return t=e.size,o}));var n=Math.min.apply(Math,qi(e.map((function(e){return e.changeLog})))),r=Math.max.apply(Math,qi(e.map((function(e){return e.changeLog}))))-n,a=100*Math.abs(n)/r;return e=e.map((function(e){var t=r?100*Math.abs(e.changeLog)/r:0;return t=Math.round(100*t)/100,Ji(Ji({},e),{},{height:t,isUp:e.changeLog>0,heightSpace:r?e.changeLog>0?a:a-t:32})}))}),[s]),f=ec((function(){var e=s.slice(-60),t=null;e=e.map((function(e){var n=t?(e.size-t)/t*100:0,r=u(n),a=e.size,o=u(a),i=new Date(e.date).getDate(),c={date:e.date.replaceAll("-","/"),day:i,size:e.size,value:a,valueLog:o,change:Math.round(100*n)/100,changeLog:r};return t=e.size,c}));var n=Math.min.apply(Math,qi(e.map((function(e){return e.value})))),r=Math.max.apply(Math,qi(e.map((function(e){return e.value}))))-n;return e=e.map((function(e){return Ji(Ji({},e),{},{isUp:e.change>0,height:(e.value-n)/r*80+20,heightSpace:0,heightInPixels:32})}))}),[s]),p="size"===i?f:l;return React.createElement("div",{style:nc,onClick:function(){c("size"===i?"change":"size")}},t&&React.createElement("div",{style:sc},React.createElement("div",null,React.createElement("b",null,a?Qe.CHART_SIZES.THIS_IS_FAKE_DATA:null==t?void 0:t.date),React.createElement("br",null),a&&React.createElement("span",null,"Come back in 3-4 days."),!a&&React.createElement("span",null,null==t?void 0:t.size," MB (",null==t?void 0:t.change,"%)"))),p.map((function(e){return React.createElement("div",{key:e.date,onMouseEnter:function(){n(e)},onMouseLeave:function(){n()},style:Ji(Ji({},cc),{},{background:(null==e?void 0:e.date)===(null==t?void 0:t.date)?"lightgray":"inherit"})},React.createElement("div",{className:"space-top",style:{flex:"auto"}}),React.createElement("div",{className:"space-value",style:Ji(Ji({},a?rc:e.isUp?ac:oc),{},{height:e.height?"".concat(e.height/100*32,"px"):1})}),React.createElement("div",{className:"space-bottom",style:{width:6,height:"".concat(e.heightSpace/100*32,"px")}}),React.createElement("div",{style:ic},e.day))})))};var lc;var fc=(0,D.ZP)(Re.L)(lc||(lc=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    width: 80vw;\n    max-width: 80vw !important;\n    max-height: 85vh;\n"])));function pc(e){return pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(e)}function mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mc(Object(n),!0).forEach((function(t){dc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==pc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */yc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==pc(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(pc(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function vc(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function bc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){vc(o,r,a,i,c,"next",e)}function c(e){vc(o,r,a,i,c,"throw",e)}i(void 0)}))}}function gc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ec(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wc=wp.element,_c=wc.useCallback,Tc=wc.useEffect,Sc=wc.useState,Oc=["ID","post_date","post_title","post_content","post_status"];function Lc(e){return Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(e)}function xc(e){return function(e){if(Array.isArray(e))return Rc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Rc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ac(Object(n),!0).forEach((function(t){Cc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ac(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Lc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Lc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kc.apply(this,arguments)}var Nc=wp.element.useMemo;const Ic=function(e){var t=function(e){var t=e.isOpen,n=e.tableName,r=e.onClose,o=gc(Sc(),2),i=o[0],c=o[1],s=gc(Sc([]),2),u=s[0],l=s[1],f=gc(Sc([]),2),p=f[0],m=f[1],h=gc(Sc([]),2),d=h[0],y=h[1],v=gc(Sc([]),2),b=v[0],g=v[1],w=gc(Sc(0),2),_=w[0],T=w[1],O=gc(Sc(1),2),L=O[0],x=O[1],R=gc(Sc(!1),2),A=R[0],P=R[1];Tc((function(){n&&B(i,n)}),[n]),Tc((function(){P(t)}),[t]);var C=_c((function(){P(!1),r()}),[r]),k=_c(function(){var e=bc(yc().mark((function e(t){var n,r,o,i=arguments;return yc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:1,e.prev=1,r=10*(n-1),e.next=5,(0,a.ZL)("".concat(E,"/table"),{json:{table:t,offset:r},nonce:S});case 5:if(!(o=e.sent).success){e.next=10;break}return e.abrupt("return",{entries:o.data,count:o.count});case 10:o.message&&alert(o.message);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),e.t0.message&&alert(e.t0.message);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),[]),N=_c((function(e){var t=e.length?Object.keys(e.at(0)).map((function(e){var t=e.replace(/_/g," ");return{accessor:e,title:t.replace(/^post/,"").replace(/\w\S*/g,(function(e){return e.replace(/^\w/,(function(e){return e.toUpperCase()}))})),sortable:!1,style:{width:"auto",maxWidth:"400px",minWidth:"50px"}}})):[],n=t.map((function(e){return{label:e.title,accessor:e.accessor,checked:!0}}));return t.length>8&&(n=n.map((function(e){return Oc.includes(e.accessor)?hc(hc({},e),{},{checked:!0}):hc(hc({},e),{},{checked:!1})}))),n.filter((function(e){return e.checked})).length||(n=n.map((function(e,t){return hc(hc({},e),{},t<8?{checked:!0}:{checked:!1})}))),{tableColumns:t,tableColumnsFilter:n}}),[]),I=_c((function(e,t){var n=t.filter((function(e){return e.checked})).map((function(e){return e.accessor})),r=e.filter((function(e){return n.includes(e.accessor)}));g(t),y(r)}),[]),B=_c(function(){var e=bc(yc().mark((function e(t,n){var r,a,o,i,s,u;return yc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,k(n);case 4:r=e.sent,a=r.entries,o=r.count,i=N(a),s=i.tableColumns,u=i.tableColumnsFilter,x(1),c(n),T(o),l(a),m(s),I(s,u);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[k,N]),U=_c(function(){var e=bc(yc().mark((function e(t){var n,r;return yc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(i,t);case 2:n=e.sent,r=n.entries,x(t),l(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,k]);return{table:i,tableEntries:u,tableColumns:p,filteredTableColumns:d,tableColumnsFilter:b,tableCount:_,tablePage:L,open:A,onCloseTableModal:C,updateTablePage:U,updateTableColumnsFilter:I}}(Pc({},kc({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)))),n=t.table,r=t.tableEntries,o=t.tableColumns,i=t.filteredTableColumns,c=t.tableColumnsFilter,s=t.tableCount,l=t.tablePage,f=t.open,p=t.onCloseTableModal,m=t.updateTablePage,h=t.updateTableColumnsFilter,d=Nc((function(){return React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px",flexWrap:"wrap"}},c.map((function(e){return React.createElement("div",{style:{marginRight:"8px"}},React.createElement(u.P,{name:e.accessor,label:e.label,checked:e.checked,onChange:function(t,n){var r=c.findIndex((function(e){return e.accessor===n})),a=xc(c);a[r]=Pc(Pc({},e),{},{checked:t}),h(o,a)}}))}))),React.createElement("div",{style:{maxHeight:"60vh",overflowY:"auto"}},React.createElement("div",{style:{marginRight:10}},r.length>0?React.createElement(Ae.a,{columns:i,selectedItems:[],data:r.map((function(e){var t=Object.keys(e).map((function(t){var n=e[t];return"string"==typeof n&&n.length>100&&(n=React.createElement(React.Fragment,null,n.substring(0,100)+"..."," ",React.createElement("br",null),React.createElement("small",null,React.createElement("a",{href:"#",onClick:function(){console.log("Content",e[t])}},Qe.MODAL.WRITE_TO_BROWSER_CONSOLE)))),Cc({},t,React.createElement("p",null,n))}));return t.reduce((function(e,t){return Object.assign(e,t)}),{})}))}):React.createElement("p",null,Qe.MODAL.NO_DATA))))}),[i,c,r]);return React.createElement(fc,{isOpen:f,onRequestClose:p,title:"".concat(Qe.COMMON.TABLE,": ").concat(n),contentWidth:"100%",content:d,okButton:{label:Qe.COMMON.CLOSE,onClick:p},okOnEnter:!0,customButtons:React.createElement("div",{style:{marginRight:"auto"}},React.createElement(Pe.Q,{currentPage:l,limit:10,total:s,onClick:function(e){return m(e)}})),customButtonsPosition:"left"})};function Bc(e){return Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(e)}function Uc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Uc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Bc(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Bc(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function jc(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}var Dc=wp.element.useCallback;const Mc=function(){var e=ra(),t=e.busy,n=e.busyAction,r=e.sweeperTasks,a=ra(),o=a.resetOptions,i=a.updateOption,c=a.performNextTask,s=a.resetTasks,u=ra().generateFakeData,l=Dc((function(e){i({param:{name:"sweeper_tasks",value:e}})}),[i]),f=function(){var e,t=(e=Uc().mark((function e(){return Uc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){jc(o,r,a,i,c,"next",e)}function c(e){jc(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),m=n.some((function(e){return"logs"===e.item}));return React.createElement(p.o,null,React.createElement(p.z,{minimal:!0},React.createElement(d.v,{className:"primary",busy:t||m},React.createElement(h._,{onClick:c},Qe.SETTINGS.PERFORM_NEXT_TASK),React.createElement(h._,{className:"danger",disabled:t,onClick:s},Qe.SETTINGS.RESET_TASKS),React.createElement(h._,{onClick:u,isBusy:n.some((function(e){return"fakeData"===e.item}))},Qe.SETTINGS.GENERATE_FAKE_DATA),React.createElement(h._,{className:"danger",disabled:t,onClick:f},Qe.SETTINGS.RESET_OPTIONS),React.createElement("div",{style:{color:"#8b8b8b",overflowY:"auto",marginTop:10,border:"0px solid #dedede"}},React.createElement(Ie(),{src:r,name:"sweeper_tasks",iconStyle:"circle",collapseStringsAfterLength:512,enableClipboard:!1,displayDataTypes:!1,onEdit:function(e){return l(e.updated_src)}})))))};function Fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fc(Object(n),!0).forEach((function(t){Yc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zc(e){return zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(e)}function Yc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==zc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Wc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",h="executing",d="completed",y={};function v(){}function b(){}function g(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,i)&&(E=_);var T=g.prototype=v.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,i,c){var s=f(e[a],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==zc(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=p;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(zc(t)+" is not iterable")}return b.prototype=g,a(T,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new O(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(T),u(T,s,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Vc(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function Hc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Vc(o,r,a,i,c,"next",e)}function c(e){Vc(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Jc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qc=wp.element,Qc=qc.useState,Zc=qc.useCallback,Xc=qc.useMemo;const $c=function(){var e,t=ra(),n=t.apiErrors,r=t.modals,o=t.totalSize,c=t.previousTotalSize,s=t.busyAction,u=t.loadEntryItemPage,d=t.loadEntryItemCount,v=t.loadEntryItemLimit,g=t.entriesTableColumns,E=t.hideMessage,w=t.moduleDevTools,S=t.entries,O=t.plugins,L=t.selectedUsedBy,x=t.mode,R=t.delay,A=t.modulePosttypes,P=t.moduleTables,C=t.moduleOptions,k=t.moduleMetadata,N=t.moduleCronjobs,I=t.moduleCustomequeries,B=ra(),U=B.toggleModal,j=B.updateClickedTabByIndex,D=B.deleteEntries,M=B.pushBusyCleanBulkTasks,F=B.getAutoCleanItems,G=B.resetAutoCleanItemsCount,z=B.popBusyCleanBulkTasks,Y=B.getOptionValue,W=B.setLoadEntryItemPage,V=B.getTotalDbSizes,H=B.setSelectedUsedBy,J=B.setLoadEntryItem,K=B.updateOption,q=Jc(Qc(),2),Q=q[0],Z=q[1],X=Jc(Qc(0),2),$=X[0],ee=X[1],te=Jc(Qc(0),2),ne=te[0],re=te[1],ae=Jc(Qc(""),2),oe=ae[0],ie=ae[1],ce=Jc(Qc(!1),2),se=ce[0],ue=ce[1],le=Jc(Qc(!1),2),fe=le[0],pe=le[1],me=(0,ke.qj)(),he=Xc((function(){if(null==o||!o.size||null==c||!c.size)return null;var e=1e4*(o.size>c.size?c.size/o.size:o.size/c.size);return e=Math.round(1e4-e)/100,o.size>c.size?e:-1*e}),[null==o?void 0:o.size,null==c?void 0:c.size]),de=x===Zt.on.value,ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(t=null!==t?t:me.getErrorCount())>0&&ie((0,a.aS)(Qe.BULK_TASK.FINAL_MESSAGE_WITH_ERROR,t)),me.reset(),Z(),ee(0),re(0),G(e)},ve=function(){var e=Hc(Wc().mark((function e(){var t,n,r;return Wc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,M(),ue(!0),Z(Qe.BULK_TASK.GETTING_TASKS),e.next=6,F();case 6:if(n=e.sent,console.log("Tasks for Database Cleaner:",n),n.map((function(e){return e.times})).reduce((function(e,t){return e+t}))){e.next=15;break}return pe(!0),ye(n,t),z(),ue(!1),e.abrupt("return");case 15:return console.log(S),!0,r=[],e.next=20,at(500,Hc(Wc().mark((function e(){var t,a;return Wc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Wc().mark((function e(){var t,o,i,c;return Wc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n[a],o=t.times,i=Wc().mark((function e(n){var a;return Wc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=function(){var e=Hc(Wc().mark((function e(r){var a;return Wc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(React.createElement("small",null,t.name)),ee((function(e){return e+1})),e.next=4,rt(R);case 4:return e.next=6,D({item:t.item,signal:r,is_auto_clean:true});case 6:return(a=e.sent).data.finished&&n+1<o&&me.setAlwaysSkip(),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.push(a);case 2:case"end":return e.stop()}}),e)})),c=0;case 4:if(!(c<o)){e.next=9;break}return e.delegateYield(i(c),"t0",6);case 6:c+=1,e.next=4;break;case 9:case"end":return e.stop()}}),e)})),a=0;case 2:if(!(a<n.length)){e.next=7;break}return e.delegateYield(t(),"t0",4);case 4:a+=1,e.next=2;break;case 7:re(r.length);case 8:case"end":return e.stop()}}),e)}))));case 20:return Z(Qe.BULK_TASK.CLEANING_ITEMS),e.next=23,me.start(r);case 23:me.reset(),t+=me.getErrorCount(),ye(n,t),z(),ue(!1);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=Zc((function(){U({modal:"loadEntry",enable:!1}),J({loadEntryItem:null})}),[]),ge=Zc((function(){U({modal:"optionValue",enable:!1}),J({loadEntryItem:null})}),[]),Ee=Zc((function(){U({modal:"metadataValue",enable:!1}),J({loadEntryItem:null})}),[]),we=(Zc((function(e){Y({optionName:e}),J({loadEntryItem:e})}),[]),Zc(function(){var e=Hc(Wc().mark((function e(t){return Wc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K({param:{name:"mode",value:t}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[K]));return React.createElement(l.s,{nekoErrors:[n]},React.createElement(f.B,{title:"".concat(Qe.COMMON.PLUGIN_NAME," | ").concat(Qe.COMMON.SETTINGS),subtitle:Qe.COMMON.BY_JORDY_MEOW},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},React.createElement(h._,{className:"header",onClick:function(){return window.open("https://meowapps.com/database-cleaner/tutorial/","_blank")}},Qe.COMMON.TUTORIAL))),React.createElement(p.o,null,React.createElement(p.z,{fullWidth:!0},!E&&React.createElement(_e.H,null,React.createElement(i.O,{p:!0},React.createElement("p",null,(0,a.io)(Qe.SETTINGS.INTRODUCTION)))),React.createElement("div",{style:{marginBottom:"30px"}},React.createElement(Te.P,{style:{alignItems:"center"}},React.createElement(h._,{icon:"play",disabled:se,onClick:ve},Qe.SETTINGS.AUTO_CLEAN),React.createElement(Se.Q,{onLabel:Zt.on.label,offLabel:Zt.off.label,onValue:Zt.on.value,offValue:Zt.off.value,onBackgroundColor:Oe.ZP.purple,offBackgroundColor:Oe.ZP.green,width:"85px",height:"30px",style:{marginLeft:5},onChange:we,checked:de}),Q&&React.createElement("div",{style:(e={display:"flex",fontFamily:"Lato",padding:"0 10px",flexDirection:"column",fontWeight:600,width:180},Yc(e,"flexDirection","column"),Yc(e,"height",30),Yc(e,"lineHeight","16px"),Yc(e,"justifyContent","center"),Yc(e,"textTransform","uppercase"),e)},ne>0&&React.createElement("div",{style:{color:"#144675",fontSize:17}},"".concat(Qe.BULK_TASK.STEP," ").concat($,"/").concat(ne)),React.createElement("div",{style:{color:"#007bba"}},Q)),React.createElement("div",{style:{flex:1}},Q&&React.createElement(Le.U,{status:function(e){return me.max?"".concat(e,"%"):React.createElement(xe.J,{icon:"replay",height:16,spinning:!0})},busy:me.busy,value:me.value,max:me.max,onStopClick:me.stop})),React.createElement("div",{style:{display:"flex",alignItems:"center",margin:"-14px 0 -12px 0"}},React.createElement(uc,null),React.createElement("div",{style:{textAlign:"right"}},React.createElement(i.O,{p:!0,style:{fontSize:10,margin:0,color:Oe.ZP.darkGray,lineHeight:1}},Qe.SETTINGS.TODAY,React.createElement(i.O,{style:{fontSize:10,color:he>0?Oe.ZP.red:Oe.ZP.green,marginLeft:"2px"}},"(",he>0?"+":he<0?"-":"",Math.abs(he),"%)")),React.createElement(i.O,{p:!0,style:{fontSize:22,fontWeight:"bold",margin:0,lineHeight:1}},it(null==o?void 0:o.size))),React.createElement(xe.J,{icon:"replay",width:20,height:20,containerStyle:{alignSelf:"end",padding:"0 5px 5px 8px"},color:Oe.ZP.blue,spinning:s.some((function(e){return e.item===Nt})),onClick:function(){return V()}}),React.createElement(xe.J,{icon:"database",width:36,height:36,style:{marginLeft:0}})))),React.createElement(m.c,{keepTabOnReload:!0,onChange:function(e,t,n){j(t.title)},callOnTabChangeFirst:!0},React.createElement(m.P,{title:Qe.SETTINGS.WORDPRESS_CORE},React.createElement(So,null)),React.createElement(m.P,{title:Qe.SETTINGS.POST_TYPES,hidden:!de||!A},React.createElement(jo,null)),React.createElement(m.P,{title:Qe.SETTINGS.TABLES,hidden:de&&!P},React.createElement(oo,null)),React.createElement(m.P,{title:Qe.SETTINGS.OPTIONS,hidden:!de||!C},React.createElement(qo,null)),React.createElement(m.P,{title:Qe.SETTINGS.METADATA,hidden:!de||!k},React.createElement(Wi,null)),React.createElement(m.P,{title:Qe.SETTINGS.CRON_JOBS,hidden:!de||!N},React.createElement(li,null)),React.createElement(m.P,{title:Qe.SETTINGS.CUSTOM_QUERIES,hidden:!de||!I},React.createElement(Ai,null)),React.createElement(m.P,{title:Qe.SETTINGS.SETTINGS_LOGS},React.createElement(Xo,null)),React.createElement(m.P,{title:Qe.COMMON.DEV_TOOLS,hidden:!w},React.createElement(Mc,null)),React.createElement(m.P,{title:Qe.SETTINGS.LICENSE},React.createElement(Je,{domain:b,prefix:y,isPro:_,isRegistered:T}))))),React.createElement(Re.L,{isOpen:!!r.deleteAll.enable,onRequestClose:function(){return U({modal:"deleteAll",enable:!1})},title:r.deleteAll.title,content:Qe.MODAL.ARE_YOU_SURE,okButton:{onClick:function(){r.deleteAll.onNext(),U({modal:"deleteAll",enable:!1})}},cancelButton:{onClick:function(){return U({modal:"deleteAll",enable:!1})}},okOnEnter:!0}),React.createElement(Re.L,{isOpen:oe,title:Qe.MODAL.FINISHED,okButton:{label:Qe.COMMON.CLOSE,onClick:function(){ie(""),me.reset()}},content:oe}),React.createElement(fc,{isOpen:!!r.loadEntry.enable,onRequestClose:be,title:r.loadEntry.title,contentWidth:"100%",content:React.createElement(React.Fragment,null,React.createElement("div",{style:{maxHeight:"65vh",overflowY:"auto"}},React.createElement("div",{style:{marginRight:10}},S.length>0?React.createElement(Ae.a,{columns:g,selectedItems:[],data:(null==S?void 0:S.map)&&S.map((function(e){return Object.keys(e).filter((function(e){return Xt.includes(e)})).map((function(t){var n=e[t];return"string"==typeof n&&n.length>100&&(n=React.createElement(React.Fragment,null,n.substr(0,100)+"..."," ",React.createElement("br",null),React.createElement("small",null,React.createElement("a",{href:"#",onClick:function(){console.log("Content",e[t])}},Qe.MODAL.WRITE_TO_BROWSER_CONSOLE)))),Yc({},t,React.createElement("p",null,n))})).reduce((function(e,t){return Object.assign(e,t)}),{})}))}):React.createElement("p",null,Qe.MODAL.NO_ENTRIES)))),okButton:{label:Qe.COMMON.CLOSE,onClick:be},okOnEnter:!0,customButtons:React.createElement("div",{style:{marginRight:"auto"}},React.createElement(Pe.Q,{currentPage:u,limit:v,total:d,onClick:function(e){return W(e)}})),customButtonsPosition:"left"}),React.createElement(Ic,{isOpen:r.table.enable,tableName:r.table.data.tableName,onClose:function(){return U({modal:"table",enable:!1,data:{tableName:""}})}}),React.createElement(fc,{isOpen:!!r.optionValue.enable,onRequestClose:ge,title:r.optionValue.title,contentWidth:"100%",content:React.createElement(React.Fragment,null,React.createElement("div",{style:{maxHeight:"65vh",overflowY:"auto",padding:10}},React.createElement(Ie(),{src:"object"===zc(S)?S:{text:S},name:"data",iconStyle:"circle",collapseStringsAfterLength:512,enableClipboard:!1,displayDataTypes:!1}))),okButton:{onClick:ge},okOnEnter:!0,customButtonsPosition:"left"}),React.createElement(fc,{isOpen:!!r.metadataValue.enable,onRequestClose:Ee,title:r.metadataValue.title,contentWidth:"100%",content:React.createElement(React.Fragment,null,React.createElement("div",{style:{maxHeight:"65vh",overflowY:"auto",padding:10}},React.createElement(Ie(),{src:"object"===zc(S)?S:{text:S},name:"data",iconStyle:"circle",collapseStringsAfterLength:512,enableClipboard:!1,displayDataTypes:!1}))),okButton:{onClick:Ee},okOnEnter:!0,customButtonsPosition:"left"}),React.createElement(Re.L,{isOpen:!!r.usedBy.enable,onRequestClose:function(){U({modal:"usedBy",enable:!1}),H({items:[],value:"unknown"})},title:r.usedBy.title,content:React.createElement(React.Fragment,null,React.createElement(Ce.N,{name:"used-by",scrolldown:!0,value:L.value,textFiltering:!0,onChange:function(e){return H(Gc(Gc({},L),{},{value:e}))},style:{maxHeight:"200px",marginBottom:20}},React.createElement(Ce.Z,{value:"unknown",label:"Unknown"}),O.map((function(e){return React.createElement(Ce.Z,{value:e.slug,label:e.name})}))),"unknown"!==L.value&&React.createElement("div",{style:{marginTop:-15,marginBottom:15}},React.createElement("small",null,Qe.MODAL.SELECTED_PLUGIN_SLUG,": ",L.value)),!_&&React.createElement(i.O,null,(0,a.io)(Qe.MODAL.USED_BY_RECOMMEND_PRO_MESSAGE)),_&&React.createElement(i.O,null,(0,a.io)(Qe.MODAL.USED_BY_DESCRIPTION))),cancelButton:{label:Qe.MODAL.UNASSIGN,onClick:function(){r.usedBy.onNext({items:L.items,value:"unknown"}),U({modal:"usedBy",enable:!1}),H({items:[],value:"unknown"})}},okButton:{label:Qe.MODAL.ASSIGN,onClick:function(){r.usedBy.onNext(L),U({modal:"usedBy",enable:!1}),H({items:[],value:"unknown"})}},okOnEnter:!0}),React.createElement(Re.L,{isOpen:fe,onRequestClose:function(){return pe(!1)},title:Qe.MODAL.EVERYTHING_CLEAN,content:(0,a.io)(Qe.MODAL.EVERYTHING_CLEAN_INFO),okButton:{onClick:function(){return pe(!1)}}}))};var es=wp.element.render,ts={fetcher:a.SG,revalidateOnFocus:!1};document.addEventListener("DOMContentLoaded",(function(e){var t=document.getElementById("dbclnr-admin-settings");t&&es(React.createElement(r.J$,{value:ts},React.createElement(na,null,React.createElement(o.Z,null,React.createElement($c,null)))),t);var n=document.getElementById("meow-common-dashboard");n&&es(React.createElement(o.Z,null,React.createElement(we,null)),n)}))},7363:e=>{e.exports=React},1533:e=>{e.exports=ReactDOM}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.m=t,r.amdO={},e=[],r.O=(t,n,a,o)=>{if(!n){var i=1/0;for(l=0;l<e.length;l++){for(var[n,a,o]=e[l],c=!0,s=0;s<n.length;s++)(!1&o||i>=o)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(c=!1,o<i&&(i=o));if(c){e.splice(l--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,a,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={826:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[i,c,s]=n,u=0;if(i.some((t=>0!==e[t]))){for(a in c)r.o(c,a)&&(r.m[a]=c[a]);if(s)var l=s(r)}for(t&&t(n);u<i.length;u++)o=i[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(l)},n=self.wpJsonWpmc=self.wpJsonWpmc||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var a=r.O(void 0,[736],(()=>r(2047)));a=r.O(a)})();
//# sourceMappingURL=index.js.map